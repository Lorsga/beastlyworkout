function q1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function O0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gf={exports:{}},Al={},Kf={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function G1(){if(By)return Be;By=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function C(B,H,le){this.props=B,this.context=H,this.refs=O,this.updater=le||A}C.prototype.isReactComponent={},C.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=C.prototype;function K(B,H,le){this.props=B,this.context=H,this.refs=O,this.updater=le||A}var Q=K.prototype=new z;Q.constructor=K,N(Q,C.prototype),Q.isPureReactComponent=!0;var Z=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function b(B,H,le){var ve,Ee={},xe=null,Ue=null;if(H!=null)for(ve in H.ref!==void 0&&(Ue=H.ref),H.key!==void 0&&(xe=""+H.key),H)X.call(H,ve)&&!P.hasOwnProperty(ve)&&(Ee[ve]=H[ve]);var je=arguments.length-2;if(je===1)Ee.children=le;else if(1<je){for(var Qe=Array(je),vt=0;vt<je;vt++)Qe[vt]=arguments[vt+2];Ee.children=Qe}if(B&&B.defaultProps)for(ve in je=B.defaultProps,je)Ee[ve]===void 0&&(Ee[ve]=je[ve]);return{$$typeof:n,type:B,key:xe,ref:Ue,props:Ee,_owner:ne.current}}function k(B,H){return{$$typeof:n,type:B.type,key:H,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function D(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return H[le]})}var V=/\/+/g;function R(B,H){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):H.toString(36)}function he(B,H,le,ve,Ee){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var Ue=!1;if(B===null)Ue=!0;else switch(xe){case"string":case"number":Ue=!0;break;case"object":switch(B.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=B,Ee=Ee(Ue),B=ve===""?"."+R(Ue,0):ve,Z(Ee)?(le="",B!=null&&(le=B.replace(V,"$&/")+"/"),he(Ee,H,le,"",function(vt){return vt})):Ee!=null&&(j(Ee)&&(Ee=k(Ee,le+(!Ee.key||Ue&&Ue.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+B)),H.push(Ee)),1;if(Ue=0,ve=ve===""?".":ve+":",Z(B))for(var je=0;je<B.length;je++){xe=B[je];var Qe=ve+R(xe,je);Ue+=he(xe,H,le,Qe,Ee)}else if(Qe=_(B),typeof Qe=="function")for(B=Qe.call(B),je=0;!(xe=B.next()).done;)xe=xe.value,Qe=ve+R(xe,je++),Ue+=he(xe,H,le,Qe,Ee);else if(xe==="object")throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Ue}function be(B,H,le){if(B==null)return B;var ve=[],Ee=0;return he(B,ve,"","",function(xe){return H.call(le,xe,Ee++)}),ve}function Se(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var ke={current:null},$={transition:null},fe={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:$,ReactCurrentOwner:ne};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:be,forEach:function(B,H,le){be(B,function(){H.apply(this,arguments)},le)},count:function(B){var H=0;return be(B,function(){H++}),H},toArray:function(B){return be(B,function(H){return H})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Be.Component=C,Be.Fragment=t,Be.Profiler=s,Be.PureComponent=K,Be.StrictMode=r,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Be.act=ue,Be.cloneElement=function(B,H,le){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ve=N({},B.props),Ee=B.key,xe=B.ref,Ue=B._owner;if(H!=null){if(H.ref!==void 0&&(xe=H.ref,Ue=ne.current),H.key!==void 0&&(Ee=""+H.key),B.type&&B.type.defaultProps)var je=B.type.defaultProps;for(Qe in H)X.call(H,Qe)&&!P.hasOwnProperty(Qe)&&(ve[Qe]=H[Qe]===void 0&&je!==void 0?je[Qe]:H[Qe])}var Qe=arguments.length-2;if(Qe===1)ve.children=le;else if(1<Qe){je=Array(Qe);for(var vt=0;vt<Qe;vt++)je[vt]=arguments[vt+2];ve.children=je}return{$$typeof:n,type:B.type,key:Ee,ref:xe,props:ve,_owner:Ue}},Be.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Be.createElement=b,Be.createFactory=function(B){var H=b.bind(null,B);return H.type=B,H},Be.createRef=function(){return{current:null}},Be.forwardRef=function(B){return{$$typeof:d,render:B}},Be.isValidElement=j,Be.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Se}},Be.memo=function(B,H){return{$$typeof:m,type:B,compare:H===void 0?null:H}},Be.startTransition=function(B){var H=$.transition;$.transition={};try{B()}finally{$.transition=H}},Be.unstable_act=ue,Be.useCallback=function(B,H){return ke.current.useCallback(B,H)},Be.useContext=function(B){return ke.current.useContext(B)},Be.useDebugValue=function(){},Be.useDeferredValue=function(B){return ke.current.useDeferredValue(B)},Be.useEffect=function(B,H){return ke.current.useEffect(B,H)},Be.useId=function(){return ke.current.useId()},Be.useImperativeHandle=function(B,H,le){return ke.current.useImperativeHandle(B,H,le)},Be.useInsertionEffect=function(B,H){return ke.current.useInsertionEffect(B,H)},Be.useLayoutEffect=function(B,H){return ke.current.useLayoutEffect(B,H)},Be.useMemo=function(B,H){return ke.current.useMemo(B,H)},Be.useReducer=function(B,H,le){return ke.current.useReducer(B,H,le)},Be.useRef=function(B){return ke.current.useRef(B)},Be.useState=function(B){return ke.current.useState(B)},Be.useSyncExternalStore=function(B,H,le){return ke.current.useSyncExternalStore(B,H,le)},Be.useTransition=function(){return ke.current.useTransition()},Be.version="18.3.1",Be}var $y;function fm(){return $y||($y=1,Kf.exports=G1()),Kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function K1(){if(Hy)return Al;Hy=1;var n=fm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var y,T={},_=null,A=null;m!==void 0&&(_=""+m),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(T[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)T[y]===void 0&&(T[y]=f[y]);return{$$typeof:e,type:d,key:_,ref:A,props:T,_owner:s.current}}return Al.Fragment=t,Al.jsx=u,Al.jsxs=u,Al}var Wy;function Q1(){return Wy||(Wy=1,Gf.exports=K1()),Gf.exports}var w=Q1(),M=fm();const D0=O0(M),Ip=q1({__proto__:null,default:D0},[M]);var Vc={},Qf={exports:{}},Nn={},Xf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function X1(){return qy||(qy=1,(function(n){function e($,fe){var ue=$.length;$.push(fe);e:for(;0<ue;){var B=ue-1>>>1,H=$[B];if(0<s(H,fe))$[B]=fe,$[ue]=H,ue=B;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var fe=$[0],ue=$.pop();if(ue!==fe){$[0]=ue;e:for(var B=0,H=$.length,le=H>>>1;B<le;){var ve=2*(B+1)-1,Ee=$[ve],xe=ve+1,Ue=$[xe];if(0>s(Ee,ue))xe<H&&0>s(Ue,Ee)?($[B]=Ue,$[xe]=ue,B=xe):($[B]=Ee,$[ve]=ue,B=ve);else if(xe<H&&0>s(Ue,ue))$[B]=Ue,$[xe]=ue,B=xe;else break e}}return fe}function s($,fe){var ue=$.sortIndex-fe.sortIndex;return ue!==0?ue:$.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],y=1,T=null,_=3,A=!1,N=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q($){for(var fe=t(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=$)r(m),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=t(m)}}function Z($){if(O=!1,Q($),!N)if(t(f)!==null)N=!0,Se(X);else{var fe=t(m);fe!==null&&ke(Z,fe.startTime-$)}}function X($,fe){N=!1,O&&(O=!1,z(b),b=-1),A=!0;var ue=_;try{for(Q(fe),T=t(f);T!==null&&(!(T.expirationTime>fe)||$&&!D());){var B=T.callback;if(typeof B=="function"){T.callback=null,_=T.priorityLevel;var H=B(T.expirationTime<=fe);fe=n.unstable_now(),typeof H=="function"?T.callback=H:T===t(f)&&r(f),Q(fe)}else r(f);T=t(f)}if(T!==null)var le=!0;else{var ve=t(m);ve!==null&&ke(Z,ve.startTime-fe),le=!1}return le}finally{T=null,_=ue,A=!1}}var ne=!1,P=null,b=-1,k=5,j=-1;function D(){return!(n.unstable_now()-j<k)}function V(){if(P!==null){var $=n.unstable_now();j=$;var fe=!0;try{fe=P(!0,$)}finally{fe?R():(ne=!1,P=null)}}else ne=!1}var R;if(typeof K=="function")R=function(){K(V)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,be=he.port2;he.port1.onmessage=V,R=function(){be.postMessage(null)}}else R=function(){C(V,0)};function Se($){P=$,ne||(ne=!0,R())}function ke($,fe){b=C(function(){$(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,Se(X))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ue=_;_=fe;try{return $()}finally{_=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,fe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=_;_=$;try{return fe()}finally{_=ue}},n.unstable_scheduleCallback=function($,fe,ue){var B=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ue+H,$={id:y++,callback:fe,priorityLevel:$,startTime:ue,expirationTime:H,sortIndex:-1},ue>B?($.sortIndex=ue,e(m,$),t(f)===null&&$===t(m)&&(O?(z(b),b=-1):O=!0,ke(Z,ue-B))):($.sortIndex=H,e(f,$),N||A||(N=!0,Se(X))),$},n.unstable_shouldYield=D,n.unstable_wrapCallback=function($){var fe=_;return function(){var ue=_;_=fe;try{return $.apply(this,arguments)}finally{_=ue}}}})(Yf)),Yf}var Gy;function Y1(){return Gy||(Gy=1,Xf.exports=X1()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function J1(){if(Ky)return Nn;Ky=1;var n=fm(),e=Y1();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},T={};function _(i){return f.call(T,i)?!0:f.call(y,i)?!1:m.test(i)?T[i]=!0:(y[i]=!0,!1)}function A(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,o,l,h){if(o===null||typeof o>"u"||A(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(i,o,l,h,p,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new O(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(z,K);C[o]=new O(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(z,K);C[o]=new O(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(z,K);C[o]=new O(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,o,l,h){var p=C.hasOwnProperty(o)?C[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,l,p,h)&&(l=null),h||p===null?_(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),$=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,B;function H(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var le=!1;function ve(i,o){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var h=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){h=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){h=Y}i()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),v=h.stack.split(`
`),S=p.length-1,x=v.length-1;1<=S&&0<=x&&p[S]!==v[x];)x--;for(;1<=S&&0<=x;S--,x--)if(p[S]!==v[x]){if(S!==1||x!==1)do if(S--,x--,0>x||p[S]!==v[x]){var F=`
`+p[S].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=S&&0<=x);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?H(i):""}function Ee(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case ne:return"Portal";case k:return"Profiler";case b:return"StrictMode";case R:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case be:return o=i.displayName||null,o!==null?o:xe(i.type)||"Memo";case Se:o=i._payload,i=i._init;try{return xe(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(i){var o=Qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function pn(i){i._valueTracker||(i._valueTracker=vt(i))}function yt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function jn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xe(i,o){var l=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function mr(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function zi(i,o){o=o.checked,o!=null&&Q(i,"checked",o,!1)}function Qn(i,o){zi(i,o);var l=je(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?mn(i,o.type,l):o.hasOwnProperty("defaultValue")&&mn(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Bs(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function mn(i,o,l){(o!=="number"||jn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Xn=Array.isArray;function St(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Je(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ui(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Xn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function ci(i,o){var l=je(o.value),h=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Bi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Rt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Rt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var gr,$i=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=gr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function jr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fr=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(i){Fr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),vr[o]=vr[i]})});function hi(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||vr.hasOwnProperty(i)&&vr[i]?(""+o).trim():o+"px"}function $s(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=hi(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Hs=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(i,o){if(o){if(Hs[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Sn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=null;function di(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,In=null,Yn=null;function Wi(i){if(i=dl(i)){if(typeof Hi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Xu(o),Hi(i.stateNode,i.type,o))}}function Jn(i){In?Yn?Yn.push(i):Yn=[i]:In=i}function qs(){if(In){var i=In,o=Yn;if(Yn=In=null,Wi(i),o)for(i=0;i<o.length;i++)Wi(o[i])}}function fi(i,o){return i(o)}function Gs(){}var yr=!1;function qi(i,o,l){if(yr)return i(o,l);yr=!0;try{return fi(i,o,l)}finally{yr=!1,(In!==null||Yn!==null)&&(Gs(),qs())}}function _t(i,o){var l=i.stateNode;if(l===null)return null;var h=Xu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Gi=!1;if(d)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Gi=!1}function pi(i,o,l,h,p,v,S,x,F){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(ie){this.onError(ie)}}var L=!1,oe=null,ge=!1,et=null,Zn={onError:function(i){L=!0,oe=i}};function Ki(i,o,l,h,p,v,S,x,F){L=!1,oe=null,pi.apply(Zn,arguments)}function Do(i,o,l,h,p,v,S,x,F){if(Ki.apply(this,arguments),L){if(L){var Y=oe;L=!1,oe=null}else throw Error(t(198));ge||(ge=!0,et=Y)}}function _r(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Ks(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function wr(i){if(_r(i)!==i)throw Error(t(188))}function Tu(i){var o=i.alternate;if(!o){if(o=_r(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return wr(p),i;if(v===h)return wr(p),o;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=v;else{for(var S=!1,x=p.child;x;){if(x===l){S=!0,l=p,h=v;break}if(x===h){S=!0,h=p,l=v;break}x=x.sibling}if(!S){for(x=v.child;x;){if(x===l){S=!0,l=v,h=p;break}if(x===h){S=!0,h=v,l=p;break}x=x.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ga(i){return i=Tu(i),i!==null?Vo(i):null}function Vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Vo(i);if(o!==null)return o;i=i.sibling}return null}var Mo=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Su=e.unstable_shouldYield,Ed=e.unstable_requestPaint,lt=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,Qs=e.unstable_ImmediatePriority,Qi=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Cu=e.unstable_IdlePriority,Xs=null,Un=null;function bu(i){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Xs,i,void 0,(i.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Pu,Xa=Math.log,Au=Math.LN2;function Pu(i){return i>>>=0,i===0?32:31-(Xa(i)/Au|0)|0}var Lo=64,jo=4194304;function Xi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ys(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,v=i.pingedLanes,S=l&268435455;if(S!==0){var x=S&~p;x!==0?h=Xi(x):(v&=S,v!==0&&(h=Xi(v)))}else S=l&~p,S!==0?h=Xi(S):v!==0&&(h=Xi(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-gn(o),p=1<<l,h|=i[l],o&=~p;return h}function Td(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-gn(v),x=1<<S,F=p[S];F===-1?((x&l)===0||(x&h)!==0)&&(p[S]=Td(x,o)):F<=o&&(i.expiredLanes|=x),v&=~x}}function zn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Js(){var i=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),i}function Yi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Ji(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-gn(o),i[o]=l}function ot(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-gn(l),v=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~v}}function Zi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-gn(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var qe=0;function es(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ru,Fo,ku,xu,Nu,Ya=!1,Ur=[],Xt=null,Er=null,Tr=null,ts=new Map,tr=new Map,zr=[],Sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(i,o){switch(i){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":ts.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(o.pointerId)}}function Cn(i,o,l,h,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},o!==null&&(o=dl(o),o!==null&&Fo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Id(i,o,l,h,p){switch(o){case"focusin":return Xt=Cn(Xt,i,o,l,h,p),!0;case"dragenter":return Er=Cn(Er,i,o,l,h,p),!0;case"mouseover":return Tr=Cn(Tr,i,o,l,h,p),!0;case"pointerover":var v=p.pointerId;return ts.set(v,Cn(ts.get(v)||null,i,o,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,tr.set(v,Cn(tr.get(v)||null,i,o,l,h,p)),!0}return!1}function Du(i){var o=ro(i.target);if(o!==null){var l=_r(o);if(l!==null){if(o=l.tag,o===13){if(o=Ks(l),o!==null){i.blockedOn=o,Nu(i.priority,function(){ku(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Uo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);$e=h,l.target.dispatchEvent(h),$e=null}else return o=dl(l),o!==null&&Fo(o),i.blockedOn=l,!1;o.shift()}return!0}function Zs(i,o,l){gi(i)&&l.delete(o)}function Vu(){Ya=!1,Xt!==null&&gi(Xt)&&(Xt=null),Er!==null&&gi(Er)&&(Er=null),Tr!==null&&gi(Tr)&&(Tr=null),ts.forEach(Zs),tr.forEach(Zs)}function Sr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ya||(Ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vu)))}function Ir(i){function o(p){return Sr(p,i)}if(0<Ur.length){Sr(Ur[0],i);for(var l=1;l<Ur.length;l++){var h=Ur[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Xt!==null&&Sr(Xt,i),Er!==null&&Sr(Er,i),Tr!==null&&Sr(Tr,i),ts.forEach(o),tr.forEach(o),l=0;l<zr.length;l++)h=zr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<zr.length&&(l=zr[0],l.blockedOn===null);)Du(l),l.blockedOn===null&&zr.shift()}var vi=Z.ReactCurrentBatchConfig,ns=!0;function mt(i,o,l,h){var p=qe,v=vi.transition;vi.transition=null;try{qe=1,Ja(i,o,l,h)}finally{qe=p,vi.transition=v}}function Cd(i,o,l,h){var p=qe,v=vi.transition;vi.transition=null;try{qe=4,Ja(i,o,l,h)}finally{qe=p,vi.transition=v}}function Ja(i,o,l,h){if(ns){var p=Uo(i,o,l,h);if(p===null)Md(i,o,h,eo,l),Ou(i,h);else if(Id(p,i,o,l,h))h.stopPropagation();else if(Ou(i,h),o&4&&-1<Sd.indexOf(i)){for(;p!==null;){var v=dl(p);if(v!==null&&Ru(v),v=Uo(i,o,l,h),v===null&&Md(i,o,h,eo,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else Md(i,o,h,null,l)}}var eo=null;function Uo(i,o,l,h){if(eo=null,i=di(h),i=ro(i),i!==null)if(o=_r(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Ks(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return eo=i,null}function Za(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case Qs:return 1;case Qi:return 4;case er:case Qa:return 16;case Cu:return 536870912;default:return 16}default:return 16}}var Bn=null,zo=null,bn=null;function el(){if(bn)return bn;var i,o=zo,l=o.length,h,p="value"in Bn?Bn.value:Bn.textContent,v=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===p[v-h];h++);return bn=p.slice(i,1<h?1-h:void 0)}function Bo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Br(){return!0}function tl(){return!1}function Yt(i){function o(l,h,p,v,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Br:tl,this.isPropagationStopped=tl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=Yt(Cr),$r=ue({},Cr,{view:0,detail:0}),bd=Yt($r),Ho,yi,rs,to=ue({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==rs&&(rs&&i.type==="mousemove"?(Ho=i.screenX-rs.screenX,yi=i.screenY-rs.screenY):yi=Ho=0,rs=i),Ho)},movementY:function(i){return"movementY"in i?i.movementY:yi}}),Wo=Yt(to),nl=ue({},to,{dataTransfer:0}),Mu=Yt(nl),qo=ue({},$r,{relatedTarget:0}),Go=Yt(qo),Lu=ue({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Yt(Lu),ju=ue({},Cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fu=Yt(ju),Uu=ue({},Cr,{data:0}),rl=Yt(Uu),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=zu[i])?!!o[i]:!1}function Hr(){return Bu}var c=ue({},$r,{key:function(i){if(i.key){var o=Ko[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(i){return i.type==="keypress"?Bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Yt(c),E=ue({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Yt(E),W=ue({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),J=Yt(W),ce=ue({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Yt(ce),zt=ue({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Yt(zt),Wt=[9,13,27,32],Dt=d&&"CompositionEvent"in window,nr=null;d&&"documentMode"in document&&(nr=document.documentMode);var $n=d&&"TextEvent"in window&&!nr,no=d&&(!Dt||nr&&8<nr&&11>=nr),Qo=" ",Mg=!1;function Lg(i,o){switch(i){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xo=!1;function $I(i,o){switch(i){case"compositionend":return jg(o);case"keypress":return o.which!==32?null:(Mg=!0,Qo);case"textInput":return i=o.data,i===Qo&&Mg?null:i;default:return null}}function HI(i,o){if(Xo)return i==="compositionend"||!Dt&&Lg(i,o)?(i=el(),bn=zo=Bn=null,Xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return no&&o.locale!=="ko"?null:o.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!WI[i.type]:o==="textarea"}function Ug(i,o,l,h){Jn(h),o=Gu(o,"onChange"),0<o.length&&(l=new $o("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var il=null,sl=null;function qI(i){iv(i,0)}function $u(i){var o=ta(i);if(yt(o))return i}function GI(i,o){if(i==="change")return o}var zg=!1;if(d){var Ad;if(d){var Pd="oninput"in document;if(!Pd){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Pd=typeof Bg.oninput=="function"}Ad=Pd}else Ad=!1;zg=Ad&&(!document.documentMode||9<document.documentMode)}function $g(){il&&(il.detachEvent("onpropertychange",Hg),sl=il=null)}function Hg(i){if(i.propertyName==="value"&&$u(sl)){var o=[];Ug(o,sl,i,di(i)),qi(qI,o)}}function KI(i,o,l){i==="focusin"?($g(),il=o,sl=l,il.attachEvent("onpropertychange",Hg)):i==="focusout"&&$g()}function QI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $u(sl)}function XI(i,o){if(i==="click")return $u(o)}function YI(i,o){if(i==="input"||i==="change")return $u(o)}function JI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var br=typeof Object.is=="function"?Object.is:JI;function ol(i,o){if(br(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!br(i[p],o[p]))return!1}return!0}function Wg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qg(i,o){var l=Wg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wg(l)}}function Gg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Gg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kg(){for(var i=window,o=jn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=jn(i.document)}return o}function Rd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ZI(i){var o=Kg(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Gg(l.ownerDocument.documentElement,l)){if(h!==null&&Rd(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!i.extend&&v>h&&(p=h,h=v,v=p),p=qg(l,v);var S=qg(l,h);p&&S&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var e1=d&&"documentMode"in document&&11>=document.documentMode,Yo=null,kd=null,al=null,xd=!1;function Qg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xd||Yo==null||Yo!==jn(h)||(h=Yo,"selectionStart"in h&&Rd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&ol(al,h)||(al=h,h=Gu(kd,"onSelect"),0<h.length&&(o=new $o("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Yo)))}function Hu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Jo={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},Nd={},Xg={};d&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Wu(i){if(Nd[i])return Nd[i];if(!Jo[i])return i;var o=Jo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Xg)return Nd[i]=o[l];return i}var Yg=Wu("animationend"),Jg=Wu("animationiteration"),Zg=Wu("animationstart"),ev=Wu("transitionend"),tv=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(i,o){tv.set(i,o),a(o,[i])}for(var Od=0;Od<nv.length;Od++){var Dd=nv[Od],t1=Dd.toLowerCase(),n1=Dd[0].toUpperCase()+Dd.slice(1);is(t1,"on"+n1)}is(Yg,"onAnimationEnd"),is(Jg,"onAnimationIteration"),is(Zg,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(ev,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function rv(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Do(h,o,void 0,i),i.currentTarget=null}function iv(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var S=h.length-1;0<=S;S--){var x=h[S],F=x.instance,Y=x.currentTarget;if(x=x.listener,F!==v&&p.isPropagationStopped())break e;rv(p,x,Y),v=F}else for(S=0;S<h.length;S++){if(x=h[S],F=x.instance,Y=x.currentTarget,x=x.listener,F!==v&&p.isPropagationStopped())break e;rv(p,x,Y),v=F}}}if(ge)throw i=et,ge=!1,et=null,i}function dt(i,o){var l=o[Bd];l===void 0&&(l=o[Bd]=new Set);var h=i+"__bubble";l.has(h)||(sv(o,i,2,!1),l.add(h))}function Vd(i,o,l){var h=0;o&&(h|=4),sv(l,i,h,o)}var qu="_reactListening"+Math.random().toString(36).slice(2);function ul(i){if(!i[qu]){i[qu]=!0,r.forEach(function(l){l!=="selectionchange"&&(r1.has(l)||Vd(l,!1,i),Vd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[qu]||(o[qu]=!0,Vd("selectionchange",!1,o))}}function sv(i,o,l,h){switch(Za(o)){case 1:var p=mt;break;case 4:p=Cd;break;default:p=Ja}l=p.bind(null,o,l,i),p=void 0,!Gi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Md(i,o,l,h,p){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var x=h.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;S=S.return}for(;x!==null;){if(S=ro(x),S===null)return;if(F=S.tag,F===5||F===6){h=v=S;continue e}x=x.parentNode}}h=h.return}qi(function(){var Y=v,ie=di(l),se=[];e:{var re=tv.get(i);if(re!==void 0){var pe=$o,_e=i;switch(i){case"keypress":if(Bo(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":_e="focus",pe=Go;break;case"focusout":_e="blur",pe=Go;break;case"beforeblur":case"afterblur":pe=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=J;break;case Yg:case Jg:case Zg:pe=_i;break;case ev:pe=st;break;case"scroll":pe=bd;break;case"wheel":pe=Ge;break;case"copy":case"cut":case"paste":pe=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=I}var we=(o&4)!==0,kt=!we&&i==="scroll",q=we?re!==null?re+"Capture":null:re;we=[];for(var U=Y,G;U!==null;){G=U;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,q!==null&&(ae=_t(U,q),ae!=null&&we.push(cl(U,ae,G)))),kt)break;U=U.return}0<we.length&&(re=new pe(re,_e,null,l,ie),se.push({event:re,listeners:we}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",re&&l!==$e&&(_e=l.relatedTarget||l.fromElement)&&(ro(_e)||_e[wi]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(_e=l.relatedTarget||l.toElement,pe=Y,_e=_e?ro(_e):null,_e!==null&&(kt=_r(_e),_e!==kt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(pe=null,_e=Y),pe!==_e)){if(we=Wo,ae="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=I,ae="onPointerLeave",q="onPointerEnter",U="pointer"),kt=pe==null?re:ta(pe),G=_e==null?re:ta(_e),re=new we(ae,U+"leave",pe,l,ie),re.target=kt,re.relatedTarget=G,ae=null,ro(ie)===Y&&(we=new we(q,U+"enter",_e,l,ie),we.target=G,we.relatedTarget=kt,ae=we),kt=ae,pe&&_e)t:{for(we=pe,q=_e,U=0,G=we;G;G=Zo(G))U++;for(G=0,ae=q;ae;ae=Zo(ae))G++;for(;0<U-G;)we=Zo(we),U--;for(;0<G-U;)q=Zo(q),G--;for(;U--;){if(we===q||q!==null&&we===q.alternate)break t;we=Zo(we),q=Zo(q)}we=null}else we=null;pe!==null&&ov(se,re,pe,we,!1),_e!==null&&kt!==null&&ov(se,kt,_e,we,!0)}}e:{if(re=Y?ta(Y):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Te=GI;else if(Fg(re))if(zg)Te=YI;else{Te=QI;var Ae=KI}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Te=XI);if(Te&&(Te=Te(i,Y))){Ug(se,Te,l,ie);break e}Ae&&Ae(i,re,Y),i==="focusout"&&(Ae=re._wrapperState)&&Ae.controlled&&re.type==="number"&&mn(re,"number",re.value)}switch(Ae=Y?ta(Y):window,i){case"focusin":(Fg(Ae)||Ae.contentEditable==="true")&&(Yo=Ae,kd=Y,al=null);break;case"focusout":al=kd=Yo=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Qg(se,l,ie);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Qg(se,l,ie)}var Pe;if(Dt)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Xo?Lg(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(no&&l.locale!=="ko"&&(Xo||De!=="onCompositionStart"?De==="onCompositionEnd"&&Xo&&(Pe=el()):(Bn=ie,zo="value"in Bn?Bn.value:Bn.textContent,Xo=!0)),Ae=Gu(Y,De),0<Ae.length&&(De=new rl(De,i,null,l,ie),se.push({event:De,listeners:Ae}),Pe?De.data=Pe:(Pe=jg(l),Pe!==null&&(De.data=Pe)))),(Pe=$n?$I(i,l):HI(i,l))&&(Y=Gu(Y,"onBeforeInput"),0<Y.length&&(ie=new rl("onBeforeInput","beforeinput",null,l,ie),se.push({event:ie,listeners:Y}),ie.data=Pe))}iv(se,o)})}function cl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Gu(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=_t(i,l),v!=null&&h.unshift(cl(i,v,p)),v=_t(i,o),v!=null&&h.push(cl(i,v,p))),i=i.return}return h}function Zo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ov(i,o,l,h,p){for(var v=o._reactName,S=[];l!==null&&l!==h;){var x=l,F=x.alternate,Y=x.stateNode;if(F!==null&&F===h)break;x.tag===5&&Y!==null&&(x=Y,p?(F=_t(l,v),F!=null&&S.unshift(cl(l,F,x))):p||(F=_t(l,v),F!=null&&S.push(cl(l,F,x)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var i1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function av(i){return(typeof i=="string"?i:""+i).replace(i1,`
`).replace(s1,"")}function Ku(i,o,l){if(o=av(o),av(i)!==o&&l)throw Error(t(425))}function Qu(){}var Ld=null,jd=null;function Fd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(i){return lv.resolve(null).then(i).catch(l1)}:Ud;function l1(i){setTimeout(function(){throw i})}function zd(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Ir(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Ir(o)}function ss(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function uv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ea,hl="__reactProps$"+ea,wi="__reactContainer$"+ea,Bd="__reactEvents$"+ea,u1="__reactListeners$"+ea,c1="__reactHandles$"+ea;function ro(i){var o=i[Wr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[wi]||l[Wr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=uv(i);i!==null;){if(l=i[Wr])return l;i=uv(i)}return o}i=l,l=i.parentNode}return null}function dl(i){return i=i[Wr]||i[wi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ta(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Xu(i){return i[hl]||null}var $d=[],na=-1;function os(i){return{current:i}}function ft(i){0>na||(i.current=$d[na],$d[na]=null,na--)}function ut(i,o){na++,$d[na]=i.current,i.current=o}var as={},sn=os(as),An=os(!1),io=as;function ra(i,o){var l=i.type.contextTypes;if(!l)return as;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function Pn(i){return i=i.childContextTypes,i!=null}function Yu(){ft(An),ft(sn)}function cv(i,o,l){if(sn.current!==as)throw Error(t(168));ut(sn,o),ut(An,l)}function hv(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ue(i)||"Unknown",p));return ue({},l,h)}function Ju(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||as,io=sn.current,ut(sn,i),ut(An,An.current),!0}function dv(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=hv(i,o,io),h.__reactInternalMemoizedMergedChildContext=i,ft(An),ft(sn),ut(sn,i)):ft(An),ut(An,l)}var Ei=null,Zu=!1,Hd=!1;function fv(i){Ei===null?Ei=[i]:Ei.push(i)}function h1(i){Zu=!0,fv(i)}function ls(){if(!Hd&&Ei!==null){Hd=!0;var i=0,o=qe;try{var l=Ei;for(qe=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Ei=null,Zu=!1}catch(p){throw Ei!==null&&(Ei=Ei.slice(i+1)),Mo(Qs,ls),p}finally{qe=o,Hd=!1}}return null}var ia=[],sa=0,ec=null,tc=0,rr=[],ir=0,so=null,Ti=1,Si="";function oo(i,o){ia[sa++]=tc,ia[sa++]=ec,ec=i,tc=o}function pv(i,o,l){rr[ir++]=Ti,rr[ir++]=Si,rr[ir++]=so,so=i;var h=Ti;i=Si;var p=32-gn(h)-1;h&=~(1<<p),l+=1;var v=32-gn(o)+p;if(30<v){var S=p-p%5;v=(h&(1<<S)-1).toString(32),h>>=S,p-=S,Ti=1<<32-gn(o)+p|l<<p|h,Si=v+i}else Ti=1<<v|l<<p|h,Si=i}function Wd(i){i.return!==null&&(oo(i,1),pv(i,1,0))}function qd(i){for(;i===ec;)ec=ia[--sa],ia[sa]=null,tc=ia[--sa],ia[sa]=null;for(;i===so;)so=rr[--ir],rr[ir]=null,Si=rr[--ir],rr[ir]=null,Ti=rr[--ir],rr[ir]=null}var Hn=null,Wn=null,gt=!1,Ar=null;function mv(i,o){var l=lr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function gv(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Hn=i,Wn=ss(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Hn=i,Wn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=so!==null?{id:Ti,overflow:Si}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=lr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Hn=i,Wn=null,!0):!1;default:return!1}}function Gd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kd(i){if(gt){var o=Wn;if(o){var l=o;if(!gv(i,o)){if(Gd(i))throw Error(t(418));o=ss(l.nextSibling);var h=Hn;o&&gv(i,o)?mv(h,l):(i.flags=i.flags&-4097|2,gt=!1,Hn=i)}}else{if(Gd(i))throw Error(t(418));i.flags=i.flags&-4097|2,gt=!1,Hn=i}}}function vv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hn=i}function nc(i){if(i!==Hn)return!1;if(!gt)return vv(i),gt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Fd(i.type,i.memoizedProps)),o&&(o=Wn)){if(Gd(i))throw yv(),Error(t(418));for(;o;)mv(i,o),o=ss(o.nextSibling)}if(vv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Wn=ss(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Wn=null}}else Wn=Hn?ss(i.stateNode.nextSibling):null;return!0}function yv(){for(var i=Wn;i;)i=ss(i.nextSibling)}function oa(){Wn=Hn=null,gt=!1}function Qd(i){Ar===null?Ar=[i]:Ar.push(i)}var d1=Z.ReactCurrentBatchConfig;function fl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var x=p.refs;S===null?delete x[v]:x[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function rc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function _v(i){var o=i._init;return o(i._payload)}function wv(i){function o(q,U){if(i){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function l(q,U){if(!i)return null;for(;U!==null;)o(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function p(q,U){return q=gs(q,U),q.index=0,q.sibling=null,q}function v(q,U,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=2,U):G):(q.flags|=2,U)):(q.flags|=1048576,U)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function x(q,U,G,ae){return U===null||U.tag!==6?(U=zf(G,q.mode,ae),U.return=q,U):(U=p(U,G),U.return=q,U)}function F(q,U,G,ae){var Te=G.type;return Te===P?ie(q,U,G.props.children,ae,G.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Se&&_v(Te)===U.type)?(ae=p(U,G.props),ae.ref=fl(q,U,G),ae.return=q,ae):(ae=Ac(G.type,G.key,G.props,null,q.mode,ae),ae.ref=fl(q,U,G),ae.return=q,ae)}function Y(q,U,G,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Bf(G,q.mode,ae),U.return=q,U):(U=p(U,G.children||[]),U.return=q,U)}function ie(q,U,G,ae,Te){return U===null||U.tag!==7?(U=mo(G,q.mode,ae,Te),U.return=q,U):(U=p(U,G),U.return=q,U)}function se(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=zf(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return G=Ac(U.type,U.key,U.props,null,q.mode,G),G.ref=fl(q,null,U),G.return=q,G;case ne:return U=Bf(U,q.mode,G),U.return=q,U;case Se:var ae=U._init;return se(q,ae(U._payload),G)}if(Xn(U)||fe(U))return U=mo(U,q.mode,G,null),U.return=q,U;rc(q,U)}return null}function re(q,U,G,ae){var Te=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Te!==null?null:x(q,U,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return G.key===Te?F(q,U,G,ae):null;case ne:return G.key===Te?Y(q,U,G,ae):null;case Se:return Te=G._init,re(q,U,Te(G._payload),ae)}if(Xn(G)||fe(G))return Te!==null?null:ie(q,U,G,ae,null);rc(q,G)}return null}function pe(q,U,G,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return q=q.get(G)||null,x(U,q,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return q=q.get(ae.key===null?G:ae.key)||null,F(U,q,ae,Te);case ne:return q=q.get(ae.key===null?G:ae.key)||null,Y(U,q,ae,Te);case Se:var Ae=ae._init;return pe(q,U,G,Ae(ae._payload),Te)}if(Xn(ae)||fe(ae))return q=q.get(G)||null,ie(U,q,ae,Te,null);rc(U,ae)}return null}function _e(q,U,G,ae){for(var Te=null,Ae=null,Pe=U,De=U=0,Kt=null;Pe!==null&&De<G.length;De++){Pe.index>De?(Kt=Pe,Pe=null):Kt=Pe.sibling;var Ze=re(q,Pe,G[De],ae);if(Ze===null){Pe===null&&(Pe=Kt);break}i&&Pe&&Ze.alternate===null&&o(q,Pe),U=v(Ze,U,De),Ae===null?Te=Ze:Ae.sibling=Ze,Ae=Ze,Pe=Kt}if(De===G.length)return l(q,Pe),gt&&oo(q,De),Te;if(Pe===null){for(;De<G.length;De++)Pe=se(q,G[De],ae),Pe!==null&&(U=v(Pe,U,De),Ae===null?Te=Pe:Ae.sibling=Pe,Ae=Pe);return gt&&oo(q,De),Te}for(Pe=h(q,Pe);De<G.length;De++)Kt=pe(Pe,q,De,G[De],ae),Kt!==null&&(i&&Kt.alternate!==null&&Pe.delete(Kt.key===null?De:Kt.key),U=v(Kt,U,De),Ae===null?Te=Kt:Ae.sibling=Kt,Ae=Kt);return i&&Pe.forEach(function(vs){return o(q,vs)}),gt&&oo(q,De),Te}function we(q,U,G,ae){var Te=fe(G);if(typeof Te!="function")throw Error(t(150));if(G=Te.call(G),G==null)throw Error(t(151));for(var Ae=Te=null,Pe=U,De=U=0,Kt=null,Ze=G.next();Pe!==null&&!Ze.done;De++,Ze=G.next()){Pe.index>De?(Kt=Pe,Pe=null):Kt=Pe.sibling;var vs=re(q,Pe,Ze.value,ae);if(vs===null){Pe===null&&(Pe=Kt);break}i&&Pe&&vs.alternate===null&&o(q,Pe),U=v(vs,U,De),Ae===null?Te=vs:Ae.sibling=vs,Ae=vs,Pe=Kt}if(Ze.done)return l(q,Pe),gt&&oo(q,De),Te;if(Pe===null){for(;!Ze.done;De++,Ze=G.next())Ze=se(q,Ze.value,ae),Ze!==null&&(U=v(Ze,U,De),Ae===null?Te=Ze:Ae.sibling=Ze,Ae=Ze);return gt&&oo(q,De),Te}for(Pe=h(q,Pe);!Ze.done;De++,Ze=G.next())Ze=pe(Pe,q,De,Ze.value,ae),Ze!==null&&(i&&Ze.alternate!==null&&Pe.delete(Ze.key===null?De:Ze.key),U=v(Ze,U,De),Ae===null?Te=Ze:Ae.sibling=Ze,Ae=Ze);return i&&Pe.forEach(function(W1){return o(q,W1)}),gt&&oo(q,De),Te}function kt(q,U,G,ae){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case X:e:{for(var Te=G.key,Ae=U;Ae!==null;){if(Ae.key===Te){if(Te=G.type,Te===P){if(Ae.tag===7){l(q,Ae.sibling),U=p(Ae,G.props.children),U.return=q,q=U;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Se&&_v(Te)===Ae.type){l(q,Ae.sibling),U=p(Ae,G.props),U.ref=fl(q,Ae,G),U.return=q,q=U;break e}l(q,Ae);break}else o(q,Ae);Ae=Ae.sibling}G.type===P?(U=mo(G.props.children,q.mode,ae,G.key),U.return=q,q=U):(ae=Ac(G.type,G.key,G.props,null,q.mode,ae),ae.ref=fl(q,U,G),ae.return=q,q=ae)}return S(q);case ne:e:{for(Ae=G.key;U!==null;){if(U.key===Ae)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(q,U.sibling),U=p(U,G.children||[]),U.return=q,q=U;break e}else{l(q,U);break}else o(q,U);U=U.sibling}U=Bf(G,q.mode,ae),U.return=q,q=U}return S(q);case Se:return Ae=G._init,kt(q,U,Ae(G._payload),ae)}if(Xn(G))return _e(q,U,G,ae);if(fe(G))return we(q,U,G,ae);rc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(q,U.sibling),U=p(U,G),U.return=q,q=U):(l(q,U),U=zf(G,q.mode,ae),U.return=q,q=U),S(q)):l(q,U)}return kt}var aa=wv(!0),Ev=wv(!1),ic=os(null),sc=null,la=null,Xd=null;function Yd(){Xd=la=sc=null}function Jd(i){var o=ic.current;ft(ic),i._currentValue=o}function Zd(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function ua(i,o){sc=i,Xd=la=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Rn=!0),i.firstContext=null)}function sr(i){var o=i._currentValue;if(Xd!==i)if(i={context:i,memoizedValue:o,next:null},la===null){if(sc===null)throw Error(t(308));la=i,sc.dependencies={lanes:0,firstContext:i}}else la=la.next=i;return o}var ao=null;function ef(i){ao===null?ao=[i]:ao.push(i)}function Tv(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,ef(o)):(l.next=p.next,p.next=l),o.interleaved=l,Ii(i,h)}function Ii(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var us=!1;function tf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ci(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function cs(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Ii(i,l)}return p=h.interleaved,p===null?(o.next=o,ef(h)):(o.next=p.next,p.next=o),h.interleaved=o,Ii(i,l)}function oc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Zi(i,l)}}function Iv(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?p=v=o:v=v.next=o}else p=v=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function ac(i,o,l,h){var p=i.updateQueue;us=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var F=x,Y=F.next;F.next=null,S===null?v=Y:S.next=Y,S=F;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==S&&(x===null?ie.firstBaseUpdate=Y:x.next=Y,ie.lastBaseUpdate=F))}if(v!==null){var se=p.baseState;S=0,ie=Y=F=null,x=v;do{var re=x.lane,pe=x.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var _e=i,we=x;switch(re=o,pe=l,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){se=_e.call(pe,se,re);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,re=typeof _e=="function"?_e.call(pe,se,re):_e,re==null)break e;se=ue({},se,re);break e;case 2:us=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,re=p.effects,re===null?p.effects=[x]:re.push(x))}else pe={eventTime:pe,lane:re,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(Y=ie=pe,F=se):ie=ie.next=pe,S|=re;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;re=x,x=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(F=se),p.baseState=F,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,o=p.shared.interleaved,o!==null){p=o;do S|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);co|=S,i.lanes=S,i.memoizedState=se}}function Cv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var pl={},qr=os(pl),ml=os(pl),gl=os(pl);function lo(i){if(i===pl)throw Error(t(174));return i}function nf(i,o){switch(ut(gl,o),ut(ml,i),ut(qr,pl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:It(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=It(o,i)}ft(qr),ut(qr,o)}function ca(){ft(qr),ft(ml),ft(gl)}function bv(i){lo(gl.current);var o=lo(qr.current),l=It(o,i.type);o!==l&&(ut(ml,i),ut(qr,l))}function rf(i){ml.current===i&&(ft(qr),ft(ml))}var wt=os(0);function lc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sf=[];function of(){for(var i=0;i<sf.length;i++)sf[i]._workInProgressVersionPrimary=null;sf.length=0}var uc=Z.ReactCurrentDispatcher,af=Z.ReactCurrentBatchConfig,uo=0,Et=null,Bt=null,qt=null,cc=!1,vl=!1,yl=0,f1=0;function on(){throw Error(t(321))}function lf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!br(i[l],o[l]))return!1;return!0}function uf(i,o,l,h,p,v){if(uo=v,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,uc.current=i===null||i.memoizedState===null?v1:y1,i=l(h,p),vl){v=0;do{if(vl=!1,yl=0,25<=v)throw Error(t(301));v+=1,qt=Bt=null,o.updateQueue=null,uc.current=_1,i=l(h,p)}while(vl)}if(uc.current=fc,o=Bt!==null&&Bt.next!==null,uo=0,qt=Bt=Et=null,cc=!1,o)throw Error(t(300));return i}function cf(){var i=yl!==0;return yl=0,i}function Gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=i:qt=qt.next=i,qt}function or(){if(Bt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var o=qt===null?Et.memoizedState:qt.next;if(o!==null)qt=o,Bt=i;else{if(i===null)throw Error(t(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},qt===null?Et.memoizedState=qt=i:qt=qt.next=i}return qt}function _l(i,o){return typeof o=="function"?o(i):o}function hf(i){var o=or(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Bt,p=h.baseQueue,v=l.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}h.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,h=h.baseState;var x=S=null,F=null,Y=v;do{var ie=Y.lane;if((uo&ie)===ie)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:i(h,Y.action);else{var se={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(x=F=se,S=h):F=F.next=se,Et.lanes|=ie,co|=ie}Y=Y.next}while(Y!==null&&Y!==v);F===null?S=h:F.next=x,br(h,o.memoizedState)||(Rn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=F,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do v=p.lane,Et.lanes|=v,co|=v,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function df(i){var o=or(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,v=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do v=i(v,S.action),S=S.next;while(S!==p);br(v,o.memoizedState)||(Rn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function Av(){}function Pv(i,o){var l=Et,h=or(),p=o(),v=!br(h.memoizedState,p);if(v&&(h.memoizedState=p,Rn=!0),h=h.queue,ff(xv.bind(null,l,h,i),[i]),h.getSnapshot!==o||v||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,wl(9,kv.bind(null,l,h,p,o),void 0,null),Gt===null)throw Error(t(349));(uo&30)!==0||Rv(l,o,p)}return p}function Rv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function kv(i,o,l,h){o.value=l,o.getSnapshot=h,Nv(o)&&Ov(i)}function xv(i,o,l){return l(function(){Nv(o)&&Ov(i)})}function Nv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!br(i,l)}catch{return!0}}function Ov(i){var o=Ii(i,1);o!==null&&xr(o,i,1,-1)}function Dv(i){var o=Gr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:i},o.queue=i,i=i.dispatch=g1.bind(null,Et,i),[o.memoizedState,i]}function wl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Vv(){return or().memoizedState}function hc(i,o,l,h){var p=Gr();Et.flags|=i,p.memoizedState=wl(1|o,l,void 0,h===void 0?null:h)}function dc(i,o,l,h){var p=or();h=h===void 0?null:h;var v=void 0;if(Bt!==null){var S=Bt.memoizedState;if(v=S.destroy,h!==null&&lf(h,S.deps)){p.memoizedState=wl(o,l,v,h);return}}Et.flags|=i,p.memoizedState=wl(1|o,l,v,h)}function Mv(i,o){return hc(8390656,8,i,o)}function ff(i,o){return dc(2048,8,i,o)}function Lv(i,o){return dc(4,2,i,o)}function jv(i,o){return dc(4,4,i,o)}function Fv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Uv(i,o,l){return l=l!=null?l.concat([i]):null,dc(4,4,Fv.bind(null,o,i),l)}function pf(){}function zv(i,o){var l=or();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Bv(i,o){var l=or();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function $v(i,o,l){return(uo&21)===0?(i.baseState&&(i.baseState=!1,Rn=!0),i.memoizedState=l):(br(l,o)||(l=Js(),Et.lanes|=l,co|=l,i.baseState=!0),o)}function p1(i,o){var l=qe;qe=l!==0&&4>l?l:4,i(!0);var h=af.transition;af.transition={};try{i(!1),o()}finally{qe=l,af.transition=h}}function Hv(){return or().memoizedState}function m1(i,o,l){var h=ps(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wv(i))qv(o,l);else if(l=Tv(i,o,l,h),l!==null){var p=_n();xr(l,i,h,p),Gv(l,o,h)}}function g1(i,o,l){var h=ps(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wv(i))qv(o,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,x=v(S,l);if(p.hasEagerState=!0,p.eagerState=x,br(x,S)){var F=o.interleaved;F===null?(p.next=p,ef(o)):(p.next=F.next,F.next=p),o.interleaved=p;return}}catch{}finally{}l=Tv(i,o,p,h),l!==null&&(p=_n(),xr(l,i,h,p),Gv(l,o,h))}}function Wv(i){var o=i.alternate;return i===Et||o!==null&&o===Et}function qv(i,o){vl=cc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Gv(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Zi(i,l)}}var fc={readContext:sr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},v1={readContext:sr,useCallback:function(i,o){return Gr().memoizedState=[i,o===void 0?null:o],i},useContext:sr,useEffect:Mv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,hc(4194308,4,Fv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return hc(4194308,4,i,o)},useInsertionEffect:function(i,o){return hc(4,2,i,o)},useMemo:function(i,o){var l=Gr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Gr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=m1.bind(null,Et,i),[h.memoizedState,i]},useRef:function(i){var o=Gr();return i={current:i},o.memoizedState=i},useState:Dv,useDebugValue:pf,useDeferredValue:function(i){return Gr().memoizedState=i},useTransition:function(){var i=Dv(!1),o=i[0];return i=p1.bind(null,i[1]),Gr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=Et,p=Gr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Gt===null)throw Error(t(349));(uo&30)!==0||Rv(h,o,l)}p.memoizedState=l;var v={value:l,getSnapshot:o};return p.queue=v,Mv(xv.bind(null,h,v,i),[i]),h.flags|=2048,wl(9,kv.bind(null,h,v,l,o),void 0,null),l},useId:function(){var i=Gr(),o=Gt.identifierPrefix;if(gt){var l=Si,h=Ti;l=(h&~(1<<32-gn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=yl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=f1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},y1={readContext:sr,useCallback:zv,useContext:sr,useEffect:ff,useImperativeHandle:Uv,useInsertionEffect:Lv,useLayoutEffect:jv,useMemo:Bv,useReducer:hf,useRef:Vv,useState:function(){return hf(_l)},useDebugValue:pf,useDeferredValue:function(i){var o=or();return $v(o,Bt.memoizedState,i)},useTransition:function(){var i=hf(_l)[0],o=or().memoizedState;return[i,o]},useMutableSource:Av,useSyncExternalStore:Pv,useId:Hv,unstable_isNewReconciler:!1},_1={readContext:sr,useCallback:zv,useContext:sr,useEffect:ff,useImperativeHandle:Uv,useInsertionEffect:Lv,useLayoutEffect:jv,useMemo:Bv,useReducer:df,useRef:Vv,useState:function(){return df(_l)},useDebugValue:pf,useDeferredValue:function(i){var o=or();return Bt===null?o.memoizedState=i:$v(o,Bt.memoizedState,i)},useTransition:function(){var i=df(_l)[0],o=or().memoizedState;return[i,o]},useMutableSource:Av,useSyncExternalStore:Pv,useId:Hv,unstable_isNewReconciler:!1};function Pr(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function mf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ue({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var pc={isMounted:function(i){return(i=i._reactInternals)?_r(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=_n(),p=ps(i),v=Ci(h,p);v.payload=o,l!=null&&(v.callback=l),o=cs(i,v,p),o!==null&&(xr(o,i,p,h),oc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=_n(),p=ps(i),v=Ci(h,p);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=cs(i,v,p),o!==null&&(xr(o,i,p,h),oc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=_n(),h=ps(i),p=Ci(l,h);p.tag=2,o!=null&&(p.callback=o),o=cs(i,p,h),o!==null&&(xr(o,i,h,l),oc(o,i,h))}};function Kv(i,o,l,h,p,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,S):o.prototype&&o.prototype.isPureReactComponent?!ol(l,h)||!ol(p,v):!0}function Qv(i,o,l){var h=!1,p=as,v=o.contextType;return typeof v=="object"&&v!==null?v=sr(v):(p=Pn(o)?io:sn.current,h=o.contextTypes,v=(h=h!=null)?ra(i,p):as),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=v),o}function Xv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&pc.enqueueReplaceState(o,o.state,null)}function gf(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},tf(i);var v=o.contextType;typeof v=="object"&&v!==null?p.context=sr(v):(v=Pn(o)?io:sn.current,p.context=ra(i,v)),p.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(mf(i,o,v,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&pc.enqueueReplaceState(p,p.state,null),ac(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ha(i,o){try{var l="",h=o;do l+=Ee(h),h=h.return;while(h);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:p,digest:null}}function vf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function yf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function Yv(i,o,l){l=Ci(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ec||(Ec=!0,Of=h),yf(i,o)},l}function Jv(i,o,l){l=Ci(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){yf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){yf(i,o),typeof h!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Zv(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new w1;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=D1.bind(null,i,o,l),o.then(i,i))}function ey(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ty(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ci(-1,1),o.tag=2,cs(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var E1=Z.ReactCurrentOwner,Rn=!1;function yn(i,o,l,h){o.child=i===null?Ev(o,null,l,h):aa(o,i.child,l,h)}function ny(i,o,l,h,p){l=l.render;var v=o.ref;return ua(o,p),h=uf(i,o,l,h,v,p),l=cf(),i!==null&&!Rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,bi(i,o,p)):(gt&&l&&Wd(o),o.flags|=1,yn(i,o,h,p),o.child)}function ry(i,o,l,h,p){if(i===null){var v=l.type;return typeof v=="function"&&!Uf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,iy(i,o,v,h,p)):(i=Ac(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&p)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:ol,l(S,h)&&i.ref===o.ref)return bi(i,o,p)}return o.flags|=1,i=gs(v,h),i.ref=o.ref,i.return=o,o.child=i}function iy(i,o,l,h,p){if(i!==null){var v=i.memoizedProps;if(ol(v,h)&&i.ref===o.ref)if(Rn=!1,o.pendingProps=h=v,(i.lanes&p)!==0)(i.flags&131072)!==0&&(Rn=!0);else return o.lanes=i.lanes,bi(i,o,p)}return _f(i,o,l,h,p)}function sy(i,o,l){var h=o.pendingProps,p=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(fa,qn),qn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ut(fa,qn),qn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,ut(fa,qn),qn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,ut(fa,qn),qn|=h;return yn(i,o,p,l),o.child}function oy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function _f(i,o,l,h,p){var v=Pn(l)?io:sn.current;return v=ra(o,v),ua(o,p),l=uf(i,o,l,h,v,p),h=cf(),i!==null&&!Rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,bi(i,o,p)):(gt&&h&&Wd(o),o.flags|=1,yn(i,o,l,p),o.child)}function ay(i,o,l,h,p){if(Pn(l)){var v=!0;Ju(o)}else v=!1;if(ua(o,p),o.stateNode===null)gc(i,o),Qv(o,l,h),gf(o,l,h,p),h=!0;else if(i===null){var S=o.stateNode,x=o.memoizedProps;S.props=x;var F=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=sr(Y):(Y=Pn(l)?io:sn.current,Y=ra(o,Y));var ie=l.getDerivedStateFromProps,se=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(x!==h||F!==Y)&&Xv(o,S,h,Y),us=!1;var re=o.memoizedState;S.state=re,ac(o,h,S,p),F=o.memoizedState,x!==h||re!==F||An.current||us?(typeof ie=="function"&&(mf(o,l,ie,h),F=o.memoizedState),(x=us||Kv(o,l,x,h,re,F,Y))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=F),S.props=h,S.state=F,S.context=Y,h=x):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Sv(i,o),x=o.memoizedProps,Y=o.type===o.elementType?x:Pr(o.type,x),S.props=Y,se=o.pendingProps,re=S.context,F=l.contextType,typeof F=="object"&&F!==null?F=sr(F):(F=Pn(l)?io:sn.current,F=ra(o,F));var pe=l.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(x!==se||re!==F)&&Xv(o,S,h,F),us=!1,re=o.memoizedState,S.state=re,ac(o,h,S,p);var _e=o.memoizedState;x!==se||re!==_e||An.current||us?(typeof pe=="function"&&(mf(o,l,pe,h),_e=o.memoizedState),(Y=us||Kv(o,l,Y,h,re,_e,F)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,_e,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,_e,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=_e),S.props=h,S.state=_e,S.context=F,h=Y):(typeof S.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),h=!1)}return wf(i,o,l,h,v,p)}function wf(i,o,l,h,p,v){oy(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return p&&dv(o,l,!1),bi(i,o,v);h=o.stateNode,E1.current=o;var x=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=aa(o,i.child,null,v),o.child=aa(o,null,x,v)):yn(i,o,x,v),o.memoizedState=h.state,p&&dv(o,l,!0),o.child}function ly(i){var o=i.stateNode;o.pendingContext?cv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&cv(i,o.context,!1),nf(i,o.containerInfo)}function uy(i,o,l,h,p){return oa(),Qd(p),o.flags|=256,yn(i,o,l,h),o.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(i){return{baseLanes:i,cachePool:null,transitions:null}}function cy(i,o,l){var h=o.pendingProps,p=wt.current,v=!1,S=(o.flags&128)!==0,x;if((x=S)||(x=i!==null&&i.memoizedState===null?!1:(p&2)!==0),x?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),ut(wt,p&1),i===null)return Kd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,i=h.fallback,v?(h=o.mode,v=o.child,S={mode:"hidden",children:S},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Pc(S,h,0,null),i=mo(i,h,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Tf(l),o.memoizedState=Ef,i):Sf(o,S));if(p=i.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return T1(i,o,S,h,x,p,l);if(v){v=h.fallback,S=o.mode,p=i.child,x=p.sibling;var F={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=F,o.deletions=null):(h=gs(p,F),h.subtreeFlags=p.subtreeFlags&14680064),x!==null?v=gs(x,v):(v=mo(v,S,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,S=i.child.memoizedState,S=S===null?Tf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~l,o.memoizedState=Ef,h}return v=i.child,i=v.sibling,h=gs(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Sf(i,o){return o=Pc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function mc(i,o,l,h){return h!==null&&Qd(h),aa(o,i.child,null,l),i=Sf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function T1(i,o,l,h,p,v,S){if(l)return o.flags&256?(o.flags&=-257,h=vf(Error(t(422))),mc(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,p=o.mode,h=Pc({mode:"visible",children:h.children},p,0,null),v=mo(v,p,S,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&aa(o,i.child,null,S),o.child.memoizedState=Tf(S),o.memoizedState=Ef,v);if((o.mode&1)===0)return mc(i,o,S,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var x=h.dgst;return h=x,v=Error(t(419)),h=vf(v,h,void 0),mc(i,o,S,h)}if(x=(S&i.childLanes)!==0,Rn||x){if(h=Gt,h!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|S))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Ii(i,p),xr(h,i,p,-1))}return Ff(),h=vf(Error(t(421))),mc(i,o,S,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=V1.bind(null,i),p._reactRetry=o,null):(i=v.treeContext,Wn=ss(p.nextSibling),Hn=o,gt=!0,Ar=null,i!==null&&(rr[ir++]=Ti,rr[ir++]=Si,rr[ir++]=so,Ti=i.id,Si=i.overflow,so=o),o=Sf(o,h.children),o.flags|=4096,o)}function hy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Zd(i.return,o,l)}function If(i,o,l,h,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function dy(i,o,l){var h=o.pendingProps,p=h.revealOrder,v=h.tail;if(yn(i,o,h.children,l),h=wt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hy(i,l,o);else if(i.tag===19)hy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(ut(wt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&lc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),If(o,!1,p,l,v);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&lc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}If(o,!0,l,null,v);break;case"together":If(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function bi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),co|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=gs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=gs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function S1(i,o,l){switch(o.tag){case 3:ly(o),oa();break;case 5:bv(o);break;case 1:Pn(o.type)&&Ju(o);break;case 4:nf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;ut(ic,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(ut(wt,wt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?cy(i,o,l):(ut(wt,wt.current&1),i=bi(i,o,l),i!==null?i.sibling:null);ut(wt,wt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return dy(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ut(wt,wt.current),h)break;return null;case 22:case 23:return o.lanes=0,sy(i,o,l)}return bi(i,o,l)}var fy,Cf,py,my;fy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Cf=function(){},py=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,lo(qr.current);var v=null;switch(l){case"input":p=Xe(i,p),h=Xe(i,h),v=[];break;case"select":p=ue({},p,{value:void 0}),h=ue({},h,{value:void 0}),v=[];break;case"textarea":p=Je(i,p),h=Je(i,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Qu)}Ws(l,h);var S;l=null;for(Y in p)if(!h.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var x=p[Y];for(S in x)x.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in h){var F=h[Y];if(x=p!=null?p[Y]:void 0,h.hasOwnProperty(Y)&&F!==x&&(F!=null||x!=null))if(Y==="style")if(x){for(S in x)!x.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in F)F.hasOwnProperty(S)&&x[S]!==F[S]&&(l||(l={}),l[S]=F[S])}else l||(v||(v=[]),v.push(Y,l)),l=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,x=x?x.__html:void 0,F!=null&&x!==F&&(v=v||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&dt("scroll",i),v||x===F||(v=[])):(v=v||[]).push(Y,F))}l&&(v=v||[]).push("style",l);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},my=function(i,o,l,h){l!==h&&(o.flags|=4)};function El(i,o){if(!gt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function an(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function I1(i,o,l){var h=o.pendingProps;switch(qd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(o),null;case 1:return Pn(o.type)&&Yu(),an(o),null;case 3:return h=o.stateNode,ca(),ft(An),ft(sn),of(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(nc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ar!==null&&(Mf(Ar),Ar=null))),Cf(i,o),an(o),null;case 5:rf(o);var p=lo(gl.current);if(l=o.type,i!==null&&o.stateNode!=null)py(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return an(o),null}if(i=lo(qr.current),nc(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[Wr]=o,h[hl]=v,i=(o.mode&1)!==0,l){case"dialog":dt("cancel",h),dt("close",h);break;case"iframe":case"object":case"embed":dt("load",h);break;case"video":case"audio":for(p=0;p<ll.length;p++)dt(ll[p],h);break;case"source":dt("error",h);break;case"img":case"image":case"link":dt("error",h),dt("load",h);break;case"details":dt("toggle",h);break;case"input":mr(h,v),dt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},dt("invalid",h);break;case"textarea":ui(h,v),dt("invalid",h)}Ws(l,v),p=null;for(var S in v)if(v.hasOwnProperty(S)){var x=v[S];S==="children"?typeof x=="string"?h.textContent!==x&&(v.suppressHydrationWarning!==!0&&Ku(h.textContent,x,i),p=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(v.suppressHydrationWarning!==!0&&Ku(h.textContent,x,i),p=["children",""+x]):s.hasOwnProperty(S)&&x!=null&&S==="onScroll"&&dt("scroll",h)}switch(l){case"input":pn(h),Bs(h,v,!0);break;case"textarea":pn(h),Bi(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Qu)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Rt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(l,{is:h.is}):(i=S.createElement(l),l==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,l),i[Wr]=o,i[hl]=h,fy(i,o,!1,!1),o.stateNode=i;e:{switch(S=Sn(l,h),l){case"dialog":dt("cancel",i),dt("close",i),p=h;break;case"iframe":case"object":case"embed":dt("load",i),p=h;break;case"video":case"audio":for(p=0;p<ll.length;p++)dt(ll[p],i);p=h;break;case"source":dt("error",i),p=h;break;case"img":case"image":case"link":dt("error",i),dt("load",i),p=h;break;case"details":dt("toggle",i),p=h;break;case"input":mr(i,h),p=Xe(i,h),dt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=ue({},h,{value:void 0}),dt("invalid",i);break;case"textarea":ui(i,h),p=Je(i,h),dt("invalid",i);break;default:p=h}Ws(l,p),x=p;for(v in x)if(x.hasOwnProperty(v)){var F=x[v];v==="style"?$s(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&$i(i,F)):v==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&jr(i,F):typeof F=="number"&&jr(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&dt("scroll",i):F!=null&&Q(i,v,F,S))}switch(l){case"input":pn(i),Bs(i,h,!1);break;case"textarea":pn(i),Bi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+je(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?St(i,!!h.multiple,v,!1):h.defaultValue!=null&&St(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return an(o),null;case 6:if(i&&o.stateNode!=null)my(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=lo(gl.current),lo(qr.current),nc(o)){if(h=o.stateNode,l=o.memoizedProps,h[Wr]=o,(v=h.nodeValue!==l)&&(i=Hn,i!==null))switch(i.tag){case 3:Ku(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ku(h.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Wr]=o,o.stateNode=h}return an(o),null;case 13:if(ft(wt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(gt&&Wn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)yv(),oa(),o.flags|=98560,v=!1;else if(v=nc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Wr]=o}else oa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),v=!1}else Ar!==null&&(Mf(Ar),Ar=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(wt.current&1)!==0?$t===0&&($t=3):Ff())),o.updateQueue!==null&&(o.flags|=4),an(o),null);case 4:return ca(),Cf(i,o),i===null&&ul(o.stateNode.containerInfo),an(o),null;case 10:return Jd(o.type._context),an(o),null;case 17:return Pn(o.type)&&Yu(),an(o),null;case 19:if(ft(wt),v=o.memoizedState,v===null)return an(o),null;if(h=(o.flags&128)!==0,S=v.rendering,S===null)if(h)El(v,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=lc(i),S!==null){for(o.flags|=128,El(v,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,i=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return ut(wt,wt.current&1|2),o.child}i=i.sibling}v.tail!==null&&lt()>pa&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304)}else{if(!h)if(i=lc(S),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!gt)return an(o),null}else 2*lt()-v.renderingStartTime>pa&&l!==1073741824&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(l=v.last,l!==null?l.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=lt(),o.sibling=null,l=wt.current,ut(wt,h?l&1|2:l&1),o):(an(o),null);case 22:case 23:return jf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(qn&1073741824)!==0&&(an(o),o.subtreeFlags&6&&(o.flags|=8192)):an(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function C1(i,o){switch(qd(o),o.tag){case 1:return Pn(o.type)&&Yu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ca(),ft(An),ft(sn),of(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return rf(o),null;case 13:if(ft(wt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));oa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ft(wt),null;case 4:return ca(),null;case 10:return Jd(o.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var vc=!1,ln=!1,b1=typeof WeakSet=="function"?WeakSet:Set,ye=null;function da(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Ct(i,o,h)}else l.current=null}function bf(i,o,l){try{l()}catch(h){Ct(i,o,h)}}var gy=!1;function A1(i,o){if(Ld=ns,i=Kg(),Rd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,x=-1,F=-1,Y=0,ie=0,se=i,re=null;t:for(;;){for(var pe;se!==l||p!==0&&se.nodeType!==3||(x=S+p),se!==v||h!==0&&se.nodeType!==3||(F=S+h),se.nodeType===3&&(S+=se.nodeValue.length),(pe=se.firstChild)!==null;)re=se,se=pe;for(;;){if(se===i)break t;if(re===l&&++Y===p&&(x=S),re===v&&++ie===h&&(F=S),(pe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=pe}l=x===-1||F===-1?null:{start:x,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(jd={focusedElem:i,selectionRange:l},ns=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,kt=_e.memoizedState,q=o.stateNode,U=q.getSnapshotBeforeUpdate(o.elementType===o.type?we:Pr(o.type,we),kt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Ct(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return _e=gy,gy=!1,_e}function Tl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var v=p.destroy;p.destroy=void 0,v!==void 0&&bf(o,l,v)}p=p.next}while(p!==h)}}function yc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Af(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function vy(i){var o=i.alternate;o!==null&&(i.alternate=null,vy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Wr],delete o[hl],delete o[Bd],delete o[u1],delete o[c1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function yy(i){return i.tag===5||i.tag===3||i.tag===4}function _y(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Qu));else if(h!==4&&(i=i.child,i!==null))for(Pf(i,o,l),i=i.sibling;i!==null;)Pf(i,o,l),i=i.sibling}function Rf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Rf(i,o,l),i=i.sibling;i!==null;)Rf(i,o,l),i=i.sibling}var Jt=null,Rr=!1;function hs(i,o,l){for(l=l.child;l!==null;)wy(i,o,l),l=l.sibling}function wy(i,o,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 5:ln||da(l,o);case 6:var h=Jt,p=Rr;Jt=null,hs(i,o,l),Jt=h,Rr=p,Jt!==null&&(Rr?(i=Jt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(Rr?(i=Jt,l=l.stateNode,i.nodeType===8?zd(i.parentNode,l):i.nodeType===1&&zd(i,l),Ir(i)):zd(Jt,l.stateNode));break;case 4:h=Jt,p=Rr,Jt=l.stateNode.containerInfo,Rr=!0,hs(i,o,l),Jt=h,Rr=p;break;case 0:case 11:case 14:case 15:if(!ln&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&bf(l,o,S),p=p.next}while(p!==h)}hs(i,o,l);break;case 1:if(!ln&&(da(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){Ct(l,o,x)}hs(i,o,l);break;case 21:hs(i,o,l);break;case 22:l.mode&1?(ln=(h=ln)||l.memoizedState!==null,hs(i,o,l),ln=h):hs(i,o,l);break;default:hs(i,o,l)}}function Ey(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new b1),o.forEach(function(h){var p=M1.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function kr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var v=i,S=o,x=S;e:for(;x!==null;){switch(x.tag){case 5:Jt=x.stateNode,Rr=!1;break e;case 3:Jt=x.stateNode.containerInfo,Rr=!0;break e;case 4:Jt=x.stateNode.containerInfo,Rr=!0;break e}x=x.return}if(Jt===null)throw Error(t(160));wy(v,S,p),Jt=null,Rr=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(Y){Ct(p,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ty(o,i),o=o.sibling}function Ty(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(kr(o,i),Kr(i),h&4){try{Tl(3,i,i.return),yc(3,i)}catch(we){Ct(i,i.return,we)}try{Tl(5,i,i.return)}catch(we){Ct(i,i.return,we)}}break;case 1:kr(o,i),Kr(i),h&512&&l!==null&&da(l,l.return);break;case 5:if(kr(o,i),Kr(i),h&512&&l!==null&&da(l,l.return),i.flags&32){var p=i.stateNode;try{jr(p,"")}catch(we){Ct(i,i.return,we)}}if(h&4&&(p=i.stateNode,p!=null)){var v=i.memoizedProps,S=l!==null?l.memoizedProps:v,x=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{x==="input"&&v.type==="radio"&&v.name!=null&&zi(p,v),Sn(x,S);var Y=Sn(x,v);for(S=0;S<F.length;S+=2){var ie=F[S],se=F[S+1];ie==="style"?$s(p,se):ie==="dangerouslySetInnerHTML"?$i(p,se):ie==="children"?jr(p,se):Q(p,ie,se,Y)}switch(x){case"input":Qn(p,v);break;case"textarea":ci(p,v);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var pe=v.value;pe!=null?St(p,!!v.multiple,pe,!1):re!==!!v.multiple&&(v.defaultValue!=null?St(p,!!v.multiple,v.defaultValue,!0):St(p,!!v.multiple,v.multiple?[]:"",!1))}p[hl]=v}catch(we){Ct(i,i.return,we)}}break;case 6:if(kr(o,i),Kr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,v=i.memoizedProps;try{p.nodeValue=v}catch(we){Ct(i,i.return,we)}}break;case 3:if(kr(o,i),Kr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(we){Ct(i,i.return,we)}break;case 4:kr(o,i),Kr(i);break;case 13:kr(o,i),Kr(i),p=i.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Nf=lt())),h&4&&Ey(i);break;case 22:if(ie=l!==null&&l.memoizedState!==null,i.mode&1?(ln=(Y=ln)||ie,kr(o,i),ln=Y):kr(o,i),Kr(i),h&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ie&&(i.mode&1)!==0)for(ye=i,ie=i.child;ie!==null;){for(se=ye=ie;ye!==null;){switch(re=ye,pe=re.child,re.tag){case 0:case 11:case 14:case 15:Tl(4,re,re.return);break;case 1:da(re,re.return);var _e=re.stateNode;if(typeof _e.componentWillUnmount=="function"){h=re,l=re.return;try{o=h,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(we){Ct(h,l,we)}}break;case 5:da(re,re.return);break;case 22:if(re.memoizedState!==null){Cy(se);continue}}pe!==null?(pe.return=re,ye=pe):Cy(se)}ie=ie.sibling}e:for(ie=null,se=i;;){if(se.tag===5){if(ie===null){ie=se;try{p=se.stateNode,Y?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(x=se.stateNode,F=se.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,x.style.display=hi("display",S))}catch(we){Ct(i,i.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(we){Ct(i,i.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:kr(o,i),Kr(i),h&4&&Ey(i);break;case 21:break;default:kr(o,i),Kr(i)}}function Kr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(yy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(jr(p,""),h.flags&=-33);var v=_y(i);Rf(i,v,p);break;case 3:case 4:var S=h.stateNode.containerInfo,x=_y(i);Pf(i,x,S);break;default:throw Error(t(161))}}catch(F){Ct(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function P1(i,o,l){ye=i,Sy(i)}function Sy(i,o,l){for(var h=(i.mode&1)!==0;ye!==null;){var p=ye,v=p.child;if(p.tag===22&&h){var S=p.memoizedState!==null||vc;if(!S){var x=p.alternate,F=x!==null&&x.memoizedState!==null||ln;x=vc;var Y=ln;if(vc=S,(ln=F)&&!Y)for(ye=p;ye!==null;)S=ye,F=S.child,S.tag===22&&S.memoizedState!==null?by(p):F!==null?(F.return=S,ye=F):by(p);for(;v!==null;)ye=v,Sy(v),v=v.sibling;ye=p,vc=x,ln=Y}Iy(i)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,ye=v):Iy(i)}}function Iy(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ln||yc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!ln)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Pr(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Cv(o,v,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Cv(o,S,l)}break;case 5:var x=o.stateNode;if(l===null&&o.flags&4){l=x;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Ir(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||o.flags&512&&Af(o)}catch(re){Ct(o,o.return,re)}}if(o===i){ye=null;break}if(l=o.sibling,l!==null){l.return=o.return,ye=l;break}ye=o.return}}function Cy(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ye=l;break}ye=o.return}}function by(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{yc(4,o)}catch(F){Ct(o,l,F)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(F){Ct(o,p,F)}}var v=o.return;try{Af(o)}catch(F){Ct(o,v,F)}break;case 5:var S=o.return;try{Af(o)}catch(F){Ct(o,S,F)}}}catch(F){Ct(o,o.return,F)}if(o===i){ye=null;break}var x=o.sibling;if(x!==null){x.return=o.return,ye=x;break}ye=o.return}}var R1=Math.ceil,_c=Z.ReactCurrentDispatcher,kf=Z.ReactCurrentOwner,ar=Z.ReactCurrentBatchConfig,Ye=0,Gt=null,Vt=null,Zt=0,qn=0,fa=os(0),$t=0,Sl=null,co=0,wc=0,xf=0,Il=null,kn=null,Nf=0,pa=1/0,Ai=null,Ec=!1,Of=null,ds=null,Tc=!1,fs=null,Sc=0,Cl=0,Df=null,Ic=-1,Cc=0;function _n(){return(Ye&6)!==0?lt():Ic!==-1?Ic:Ic=lt()}function ps(i){return(i.mode&1)===0?1:(Ye&2)!==0&&Zt!==0?Zt&-Zt:d1.transition!==null?(Cc===0&&(Cc=Js()),Cc):(i=qe,i!==0||(i=window.event,i=i===void 0?16:Za(i.type)),i)}function xr(i,o,l,h){if(50<Cl)throw Cl=0,Df=null,Error(t(185));Ji(i,l,h),((Ye&2)===0||i!==Gt)&&(i===Gt&&((Ye&2)===0&&(wc|=l),$t===4&&ms(i,Zt)),xn(i,h),l===1&&Ye===0&&(o.mode&1)===0&&(pa=lt()+500,Zu&&ls()))}function xn(i,o){var l=i.callbackNode;mi(i,o);var h=Ys(i,i===Gt?Zt:0);if(h===0)l!==null&&Ka(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Ka(l),o===1)i.tag===0?h1(Py.bind(null,i)):fv(Py.bind(null,i)),a1(function(){(Ye&6)===0&&ls()}),l=null;else{switch(es(h)){case 1:l=Qs;break;case 4:l=Qi;break;case 16:l=er;break;case 536870912:l=Cu;break;default:l=er}l=My(l,Ay.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Ay(i,o){if(Ic=-1,Cc=0,(Ye&6)!==0)throw Error(t(327));var l=i.callbackNode;if(ma()&&i.callbackNode!==l)return null;var h=Ys(i,i===Gt?Zt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=bc(i,h);else{o=h;var p=Ye;Ye|=2;var v=ky();(Gt!==i||Zt!==o)&&(Ai=null,pa=lt()+500,fo(i,o));do try{N1();break}catch(x){Ry(i,x)}while(!0);Yd(),_c.current=v,Ye=p,Vt!==null?o=0:(Gt=null,Zt=0,o=$t)}if(o!==0){if(o===2&&(p=zn(i),p!==0&&(h=p,o=Vf(i,p))),o===1)throw l=Sl,fo(i,0),ms(i,h),xn(i,lt()),l;if(o===6)ms(i,h);else{if(p=i.current.alternate,(h&30)===0&&!k1(p)&&(o=bc(i,h),o===2&&(v=zn(i),v!==0&&(h=v,o=Vf(i,v))),o===1))throw l=Sl,fo(i,0),ms(i,h),xn(i,lt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:po(i,kn,Ai);break;case 3:if(ms(i,h),(h&130023424)===h&&(o=Nf+500-lt(),10<o)){if(Ys(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){_n(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Ud(po.bind(null,i,kn,Ai),o);break}po(i,kn,Ai);break;case 4:if(ms(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var S=31-gn(h);v=1<<S,S=o[S],S>p&&(p=S),h&=~v}if(h=p,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*R1(h/1960))-h,10<h){i.timeoutHandle=Ud(po.bind(null,i,kn,Ai),h);break}po(i,kn,Ai);break;case 5:po(i,kn,Ai);break;default:throw Error(t(329))}}}return xn(i,lt()),i.callbackNode===l?Ay.bind(null,i):null}function Vf(i,o){var l=Il;return i.current.memoizedState.isDehydrated&&(fo(i,o).flags|=256),i=bc(i,o),i!==2&&(o=kn,kn=l,o!==null&&Mf(o)),i}function Mf(i){kn===null?kn=i:kn.push.apply(kn,i)}function k1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!br(v(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ms(i,o){for(o&=~xf,o&=~wc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-gn(o),h=1<<l;i[l]=-1,o&=~h}}function Py(i){if((Ye&6)!==0)throw Error(t(327));ma();var o=Ys(i,0);if((o&1)===0)return xn(i,lt()),null;var l=bc(i,o);if(i.tag!==0&&l===2){var h=zn(i);h!==0&&(o=h,l=Vf(i,h))}if(l===1)throw l=Sl,fo(i,0),ms(i,o),xn(i,lt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,po(i,kn,Ai),xn(i,lt()),null}function Lf(i,o){var l=Ye;Ye|=1;try{return i(o)}finally{Ye=l,Ye===0&&(pa=lt()+500,Zu&&ls())}}function ho(i){fs!==null&&fs.tag===0&&(Ye&6)===0&&ma();var o=Ye;Ye|=1;var l=ar.transition,h=qe;try{if(ar.transition=null,qe=1,i)return i()}finally{qe=h,ar.transition=l,Ye=o,(Ye&6)===0&&ls()}}function jf(){qn=fa.current,ft(fa)}function fo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,o1(l)),Vt!==null)for(l=Vt.return;l!==null;){var h=l;switch(qd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yu();break;case 3:ca(),ft(An),ft(sn),of();break;case 5:rf(h);break;case 4:ca();break;case 13:ft(wt);break;case 19:ft(wt);break;case 10:Jd(h.type._context);break;case 22:case 23:jf()}l=l.return}if(Gt=i,Vt=i=gs(i.current,null),Zt=qn=o,$t=0,Sl=null,xf=wc=co=0,kn=Il=null,ao!==null){for(o=0;o<ao.length;o++)if(l=ao[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var S=v.next;v.next=p,h.next=S}l.pending=h}ao=null}return i}function Ry(i,o){do{var l=Vt;try{if(Yd(),uc.current=fc,cc){for(var h=Et.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}cc=!1}if(uo=0,qt=Bt=Et=null,vl=!1,yl=0,kf.current=null,l===null||l.return===null){$t=1,Sl=o,Vt=null;break}e:{var v=i,S=l.return,x=l,F=o;if(o=Zt,x.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,ie=x,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=ey(S);if(pe!==null){pe.flags&=-257,ty(pe,S,x,v,o),pe.mode&1&&Zv(v,Y,o),o=pe,F=Y;var _e=o.updateQueue;if(_e===null){var we=new Set;we.add(F),o.updateQueue=we}else _e.add(F);break e}else{if((o&1)===0){Zv(v,Y,o),Ff();break e}F=Error(t(426))}}else if(gt&&x.mode&1){var kt=ey(S);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),ty(kt,S,x,v,o),Qd(ha(F,x));break e}}v=F=ha(F,x),$t!==4&&($t=2),Il===null?Il=[v]:Il.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=Yv(v,F,o);Iv(v,q);break e;case 1:x=F;var U=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ds===null||!ds.has(G)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=Jv(v,x,o);Iv(v,ae);break e}}v=v.return}while(v!==null)}Ny(l)}catch(Te){o=Te,Vt===l&&l!==null&&(Vt=l=l.return);continue}break}while(!0)}function ky(){var i=_c.current;return _c.current=fc,i===null?fc:i}function Ff(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||(co&268435455)===0&&(wc&268435455)===0||ms(Gt,Zt)}function bc(i,o){var l=Ye;Ye|=2;var h=ky();(Gt!==i||Zt!==o)&&(Ai=null,fo(i,o));do try{x1();break}catch(p){Ry(i,p)}while(!0);if(Yd(),Ye=l,_c.current=h,Vt!==null)throw Error(t(261));return Gt=null,Zt=0,$t}function x1(){for(;Vt!==null;)xy(Vt)}function N1(){for(;Vt!==null&&!Su();)xy(Vt)}function xy(i){var o=Vy(i.alternate,i,qn);i.memoizedProps=i.pendingProps,o===null?Ny(i):Vt=o,kf.current=null}function Ny(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=I1(l,o,qn),l!==null){Vt=l;return}}else{if(l=C1(l,o),l!==null){l.flags&=32767,Vt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Vt=null;return}}if(o=o.sibling,o!==null){Vt=o;return}Vt=o=i}while(o!==null);$t===0&&($t=5)}function po(i,o,l){var h=qe,p=ar.transition;try{ar.transition=null,qe=1,O1(i,o,l,h)}finally{ar.transition=p,qe=h}return null}function O1(i,o,l,h){do ma();while(fs!==null);if((Ye&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(ot(i,v),i===Gt&&(Vt=Gt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Tc||(Tc=!0,My(er,function(){return ma(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=ar.transition,ar.transition=null;var S=qe;qe=1;var x=Ye;Ye|=4,kf.current=null,A1(i,l),Ty(l,i),ZI(jd),ns=!!Ld,jd=Ld=null,i.current=l,P1(l),Ed(),Ye=x,qe=S,ar.transition=v}else i.current=l;if(Tc&&(Tc=!1,fs=i,Sc=p),v=i.pendingLanes,v===0&&(ds=null),bu(l.stateNode),xn(i,lt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Ec)throw Ec=!1,i=Of,Of=null,i;return(Sc&1)!==0&&i.tag!==0&&ma(),v=i.pendingLanes,(v&1)!==0?i===Df?Cl++:(Cl=0,Df=i):Cl=0,ls(),null}function ma(){if(fs!==null){var i=es(Sc),o=ar.transition,l=qe;try{if(ar.transition=null,qe=16>i?16:i,fs===null)var h=!1;else{if(i=fs,fs=null,Sc=0,(Ye&6)!==0)throw Error(t(331));var p=Ye;for(Ye|=4,ye=i.current;ye!==null;){var v=ye,S=v.child;if((ye.flags&16)!==0){var x=v.deletions;if(x!==null){for(var F=0;F<x.length;F++){var Y=x[F];for(ye=Y;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Tl(8,ie,v)}var se=ie.child;if(se!==null)se.return=ie,ye=se;else for(;ye!==null;){ie=ye;var re=ie.sibling,pe=ie.return;if(vy(ie),ie===Y){ye=null;break}if(re!==null){re.return=pe,ye=re;break}ye=pe}}}var _e=v.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var kt=we.sibling;we.sibling=null,we=kt}while(we!==null)}}ye=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ye=S;else e:for(;ye!==null;){if(v=ye,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Tl(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,ye=q;break e}ye=v.return}}var U=i.current;for(ye=U;ye!==null;){S=ye;var G=S.child;if((S.subtreeFlags&2064)!==0&&G!==null)G.return=S,ye=G;else e:for(S=U;ye!==null;){if(x=ye,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:yc(9,x)}}catch(Te){Ct(x,x.return,Te)}if(x===S){ye=null;break e}var ae=x.sibling;if(ae!==null){ae.return=x.return,ye=ae;break e}ye=x.return}}if(Ye=p,ls(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Xs,i)}catch{}h=!0}return h}finally{qe=l,ar.transition=o}}return!1}function Oy(i,o,l){o=ha(l,o),o=Yv(i,o,1),i=cs(i,o,1),o=_n(),i!==null&&(Ji(i,1,o),xn(i,o))}function Ct(i,o,l){if(i.tag===3)Oy(i,i,l);else for(;o!==null;){if(o.tag===3){Oy(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ds===null||!ds.has(h))){i=ha(l,i),i=Jv(o,i,1),o=cs(o,i,1),i=_n(),o!==null&&(Ji(o,1,i),xn(o,i));break}}o=o.return}}function D1(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=_n(),i.pingedLanes|=i.suspendedLanes&l,Gt===i&&(Zt&l)===l&&($t===4||$t===3&&(Zt&130023424)===Zt&&500>lt()-Nf?fo(i,0):xf|=l),xn(i,o)}function Dy(i,o){o===0&&((i.mode&1)===0?o=1:(o=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var l=_n();i=Ii(i,o),i!==null&&(Ji(i,o,l),xn(i,l))}function V1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Dy(i,l)}function M1(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Dy(i,l)}var Vy;Vy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||An.current)Rn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Rn=!1,S1(i,o,l);Rn=(i.flags&131072)!==0}else Rn=!1,gt&&(o.flags&1048576)!==0&&pv(o,tc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;gc(i,o),i=o.pendingProps;var p=ra(o,sn.current);ua(o,l),p=uf(null,o,h,i,p,l);var v=cf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Pn(h)?(v=!0,Ju(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,tf(o),p.updater=pc,o.stateNode=p,p._reactInternals=o,gf(o,h,i,l),o=wf(null,o,h,!0,v,l)):(o.tag=0,gt&&v&&Wd(o),yn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(gc(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=j1(h),i=Pr(h,i),p){case 0:o=_f(null,o,h,i,l);break e;case 1:o=ay(null,o,h,i,l);break e;case 11:o=ny(null,o,h,i,l);break e;case 14:o=ry(null,o,h,Pr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Pr(h,p),_f(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Pr(h,p),ay(i,o,h,p,l);case 3:e:{if(ly(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,p=v.element,Sv(i,o),ac(o,h,null,l);var S=o.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=ha(Error(t(423)),o),o=uy(i,o,h,l,p);break e}else if(h!==p){p=ha(Error(t(424)),o),o=uy(i,o,h,l,p);break e}else for(Wn=ss(o.stateNode.containerInfo.firstChild),Hn=o,gt=!0,Ar=null,l=Ev(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(oa(),h===p){o=bi(i,o,l);break e}yn(i,o,h,l)}o=o.child}return o;case 5:return bv(o),i===null&&Kd(o),h=o.type,p=o.pendingProps,v=i!==null?i.memoizedProps:null,S=p.children,Fd(h,p)?S=null:v!==null&&Fd(h,v)&&(o.flags|=32),oy(i,o),yn(i,o,S,l),o.child;case 6:return i===null&&Kd(o),null;case 13:return cy(i,o,l);case 4:return nf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=aa(o,null,h,l):yn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Pr(h,p),ny(i,o,h,p,l);case 7:return yn(i,o,o.pendingProps,l),o.child;case 8:return yn(i,o,o.pendingProps.children,l),o.child;case 12:return yn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,v=o.memoizedProps,S=p.value,ut(ic,h._currentValue),h._currentValue=S,v!==null)if(br(v.value,S)){if(v.children===p.children&&!An.current){o=bi(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var x=v.dependencies;if(x!==null){S=v.child;for(var F=x.firstContext;F!==null;){if(F.context===h){if(v.tag===1){F=Ci(-1,l&-l),F.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),Y.pending=F}}v.lanes|=l,F=v.alternate,F!==null&&(F.lanes|=l),Zd(v.return,l,o),x.lanes|=l;break}F=F.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,x=S.alternate,x!==null&&(x.lanes|=l),Zd(S,l,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}yn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,ua(o,l),p=sr(p),h=h(p),o.flags|=1,yn(i,o,h,l),o.child;case 14:return h=o.type,p=Pr(h,o.pendingProps),p=Pr(h.type,p),ry(i,o,h,p,l);case 15:return iy(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Pr(h,p),gc(i,o),o.tag=1,Pn(h)?(i=!0,Ju(o)):i=!1,ua(o,l),Qv(o,h,p),gf(o,h,p,l),wf(null,o,h,!0,i,l);case 19:return dy(i,o,l);case 22:return sy(i,o,l)}throw Error(t(156,o.tag))};function My(i,o){return Mo(i,o)}function L1(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(i,o,l,h){return new L1(i,o,l,h)}function Uf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function j1(i){if(typeof i=="function")return Uf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===be)return 14}return 2}function gs(i,o){var l=i.alternate;return l===null?(l=lr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Ac(i,o,l,h,p,v){var S=2;if(h=i,typeof i=="function")Uf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case P:return mo(l.children,p,v,o);case b:S=8,p|=8;break;case k:return i=lr(12,l,o,p|2),i.elementType=k,i.lanes=v,i;case R:return i=lr(13,l,o,p),i.elementType=R,i.lanes=v,i;case he:return i=lr(19,l,o,p),i.elementType=he,i.lanes=v,i;case ke:return Pc(l,p,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:S=10;break e;case D:S=9;break e;case V:S=11;break e;case be:S=14;break e;case Se:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=lr(S,l,o,p),o.elementType=i,o.type=h,o.lanes=v,o}function mo(i,o,l,h){return i=lr(7,i,h,o),i.lanes=l,i}function Pc(i,o,l,h){return i=lr(22,i,h,o),i.elementType=ke,i.lanes=l,i.stateNode={isHidden:!1},i}function zf(i,o,l){return i=lr(6,i,null,o),i.lanes=l,i}function Bf(i,o,l){return o=lr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function F1(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function $f(i,o,l,h,p,v,S,x,F){return i=new F1(i,o,l,x,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=lr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(v),i}function U1(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Ly(i){if(!i)return as;i=i._reactInternals;e:{if(_r(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Pn(l))return hv(i,l,o)}return o}function jy(i,o,l,h,p,v,S,x,F){return i=$f(l,h,!0,i,p,v,S,x,F),i.context=Ly(null),l=i.current,h=_n(),p=ps(l),v=Ci(h,p),v.callback=o??null,cs(l,v,p),i.current.lanes=p,Ji(i,p,h),xn(i,h),i}function Rc(i,o,l,h){var p=o.current,v=_n(),S=ps(p);return l=Ly(l),o.context===null?o.context=l:o.pendingContext=l,o=Ci(v,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=cs(p,o,S),i!==null&&(xr(i,p,S,v),oc(i,p,S)),S}function kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Hf(i,o){Fy(i,o),(i=i.alternate)&&Fy(i,o)}function z1(){return null}var Uy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Wf(i){this._internalRoot=i}xc.prototype.render=Wf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Rc(i,o,null,null)},xc.prototype.unmount=Wf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ho(function(){Rc(null,i,null,null)}),o[wi]=null}};function xc(i){this._internalRoot=i}xc.prototype.unstable_scheduleHydration=function(i){if(i){var o=xu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<zr.length&&o!==0&&o<zr[l].priority;l++);zr.splice(l,0,i),l===0&&Du(i)}};function qf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function zy(){}function B1(i,o,l,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var Y=kc(S);v.call(Y)}}var S=jy(o,h,i,0,null,!1,!1,"",zy);return i._reactRootContainer=S,i[wi]=S.current,ul(i.nodeType===8?i.parentNode:i),ho(),S}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var x=h;h=function(){var Y=kc(F);x.call(Y)}}var F=$f(i,0,!1,null,null,!1,!1,"",zy);return i._reactRootContainer=F,i[wi]=F.current,ul(i.nodeType===8?i.parentNode:i),ho(function(){Rc(o,F,l,h)}),F}function Oc(i,o,l,h,p){var v=l._reactRootContainer;if(v){var S=v;if(typeof p=="function"){var x=p;p=function(){var F=kc(S);x.call(F)}}Rc(o,S,i,p)}else S=B1(l,o,i,p,h);return kc(S)}Ru=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Xi(o.pendingLanes);l!==0&&(Zi(o,l|1),xn(o,lt()),(Ye&6)===0&&(pa=lt()+500,ls()))}break;case 13:ho(function(){var h=Ii(i,1);if(h!==null){var p=_n();xr(h,i,1,p)}}),Hf(i,1)}},Fo=function(i){if(i.tag===13){var o=Ii(i,134217728);if(o!==null){var l=_n();xr(o,i,134217728,l)}Hf(i,134217728)}},ku=function(i){if(i.tag===13){var o=ps(i),l=Ii(i,o);if(l!==null){var h=_n();xr(l,i,o,h)}Hf(i,o)}},xu=function(){return qe},Nu=function(i,o){var l=qe;try{return qe=i,o()}finally{qe=l}},Hi=function(i,o,l){switch(o){case"input":if(Qn(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=Xu(h);if(!p)throw Error(t(90));yt(h),Qn(h,p)}}}break;case"textarea":ci(i,l);break;case"select":o=l.value,o!=null&&St(i,!!l.multiple,o,!1)}},fi=Lf,Gs=ho;var $1={usingClientEntryPoint:!1,Events:[dl,ta,Xu,Jn,qs,Lf]},bl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H1={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ga(i),i===null?null:i.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Xs=Dc.inject(H1),Un=Dc}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1,Nn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(o))throw Error(t(200));return U1(i,o,null,l)},Nn.createRoot=function(i,o){if(!qf(i))throw Error(t(299));var l=!1,h="",p=Uy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=$f(i,1,!1,null,null,l,!1,h,p),i[wi]=o.current,ul(i.nodeType===8?i.parentNode:i),new Wf(o)},Nn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ga(o),i=i===null?null:i.stateNode,i},Nn.flushSync=function(i){return ho(i)},Nn.hydrate=function(i,o,l){if(!Nc(o))throw Error(t(200));return Oc(null,i,o,!0,l)},Nn.hydrateRoot=function(i,o,l){if(!qf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,v="",S=Uy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=jy(o,null,i,1,l??null,p,!1,v,S),i[wi]=o.current,ul(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new xc(o)},Nn.render=function(i,o,l){if(!Nc(o))throw Error(t(200));return Oc(null,i,o,!1,l)},Nn.unmountComponentAtNode=function(i){if(!Nc(i))throw Error(t(40));return i._reactRootContainer?(ho(function(){Oc(null,null,i,!1,function(){i._reactRootContainer=null,i[wi]=null})}),!0):!1},Nn.unstable_batchedUpdates=Lf,Nn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Nc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Oc(i,o,l,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Qy;function V0(){if(Qy)return Qf.exports;Qy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qf.exports=J1(),Qf.exports}var Xy;function Z1(){if(Xy)return Vc;Xy=1;var n=V0();return Vc.createRoot=n.createRoot,Vc.hydrateRoot=n.hydrateRoot,Vc}var eC=Z1();const tC=O0(eC);var nC=V0();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hl.apply(this,arguments)}var Is;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Is||(Is={}));const Yy="popstate";function rC(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Cp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:M0(s)}return sC(e,t,null,n)}function Ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pm(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substr(2,8)}function Jy(n,e){return{usr:n.state,key:n.key,idx:e}}function Cp(n,e,t,r){return t===void 0&&(t=null),Hl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ma(e):e,{state:t,key:e&&e.key||r||iC()})}function M0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function sC(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d=Is.Pop,f=null,m=y();m==null&&(m=0,u.replaceState(Hl({},u.state,{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function T(){d=Is.Pop;let C=y(),z=C==null?null:C-m;m=C,f&&f({action:d,location:O.location,delta:z})}function _(C,z){d=Is.Push;let K=Cp(O.location,C,z);m=y()+1;let Q=Jy(K,m),Z=O.createHref(K);try{u.pushState(Q,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(Z)}a&&f&&f({action:d,location:O.location,delta:1})}function A(C,z){d=Is.Replace;let K=Cp(O.location,C,z);m=y();let Q=Jy(K,m),Z=O.createHref(K);u.replaceState(Q,"",Z),a&&f&&f({action:d,location:O.location,delta:0})}function N(C){let z=s.location.origin!=="null"?s.location.origin:s.location.href,K=typeof C=="string"?C:M0(C);return K=K.replace(/ $/,"%20"),Ut(z,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,z)}let O={get action(){return d},get location(){return n(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Yy,T),f=C,()=>{s.removeEventListener(Yy,T),f=null}},createHref(C){return e(s,C)},createURL:N,encodeLocation(C){let z=N(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:A,go(C){return u.go(C)}};return O}var Zy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Zy||(Zy={}));function oC(n,e,t){return t===void 0&&(t="/"),aC(n,e,t)}function aC(n,e,t,r){let s=typeof e=="string"?Ma(e):e,a=F0(s.pathname||"/",t);if(a==null)return null;let u=L0(n);lC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=wC(a);d=vC(u[f],m)}return d}function L0(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=wo([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(Ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),L0(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:mC(m,a.index),routesMeta:y})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of j0(a.path))s(a,u,f)}),e}function j0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=j0(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function lC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const uC=/^:[\w-]+$/,cC=3,hC=2,dC=1,fC=10,pC=-2,e_=n=>n==="*";function mC(n,e){let t=n.split("/"),r=t.length;return t.some(e_)&&(r+=pC),e&&(r+=hC),t.filter(s=>!e_(s)).reduce((s,a)=>s+(uC.test(a)?cC:a===""?dC:fC),r)}function gC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function vC(n,e,t){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=yC({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),_=f.route;if(!T)return null;Object.assign(s,T.params),u.push({params:s,pathname:wo([a,T.pathname]),pathnameBase:CC(wo([a,T.pathnameBase])),route:_}),T.pathnameBase!=="/"&&(a=wo([a,T.pathnameBase]))}return u}function yC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_C(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,y,T)=>{let{paramName:_,isOptional:A}=y;if(_==="*"){let O=d[T]||"";u=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const N=d[T];return A&&!N?m[_]=void 0:m[_]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function _C(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pm(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pm(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function F0(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TC=n=>EC.test(n);function SC(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ma(n):n,a;if(t)if(TC(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),pm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?a=t_(t.substring(1),"/"):a=t_(t,e)}else a=e;return{pathname:a,search:bC(r),hash:AC(s)}}function t_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Jf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function U0(n,e){let t=IC(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function z0(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Ma(n):(s=Hl({},n),Ut(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),T-=1;s.pathname=_.join("/")}d=T>=0?e[T]:"/"}let f=SC(s,d),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const wo=n=>n.join("/").replace(/\/\/+/g,"/"),CC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const B0=["post","put","patch","delete"];new Set(B0);const RC=["get",...B0];new Set(RC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}const mm=M.createContext(null),kC=M.createContext(null),iu=M.createContext(null),Fh=M.createContext(null),Ro=M.createContext({outlet:null,matches:[],isDataRoute:!1}),$0=M.createContext(null);function su(){return M.useContext(Fh)!=null}function gm(){return su()||Ut(!1),M.useContext(Fh).location}function H0(n){M.useContext(iu).static||M.useLayoutEffect(n)}function ou(){let{isDataRoute:n}=M.useContext(Ro);return n?$C():xC()}function xC(){su()||Ut(!1);let n=M.useContext(mm),{basename:e,future:t,navigator:r}=M.useContext(iu),{matches:s}=M.useContext(Ro),{pathname:a}=gm(),u=JSON.stringify(U0(s,t.v7_relativeSplatPath)),d=M.useRef(!1);return H0(()=>{d.current=!0}),M.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let T=z0(m,JSON.parse(u),a,y.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:wo([e,T.pathname])),(y.replace?r.replace:r.push)(T,y.state,y)},[e,r,u,a,n])}function NC(n,e){return OC(n,e)}function OC(n,e,t,r){su()||Ut(!1);let{navigator:s}=M.useContext(iu),{matches:a}=M.useContext(Ro),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=gm(),y;if(e){var T;let C=typeof e=="string"?Ma(e):e;f==="/"||(T=C.pathname)!=null&&T.startsWith(f)||Ut(!1),y=C}else y=m;let _=y.pathname||"/",A=_;if(f!=="/"){let C=f.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=oC(n,{pathname:A}),O=jC(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:wo([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:wo([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r);return e&&O?M.createElement(Fh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Is.Pop}},O):O}function DC(){let n=BC(),e=PC(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,null)}const VC=M.createElement(DC,null);class MC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(Ro.Provider,{value:this.props.routeContext},M.createElement($0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(n){let{routeContext:e,match:t,children:r}=n,s=M.useContext(mm);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Ro.Provider,{value:e},r)}function jC(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let y=u.findIndex(T=>T.route.id&&(d==null?void 0:d[T.route.id])!==void 0);y>=0||Ut(!1),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let T=u[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=y),T.route.id){let{loaderData:_,errors:A}=t,N=T.route.loader&&_[T.route.id]===void 0&&(!A||A[T.route.id]===void 0);if(T.route.lazy||N){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((y,T,_)=>{let A,N=!1,O=null,C=null;t&&(A=d&&T.route.id?d[T.route.id]:void 0,O=T.route.errorElement||VC,f&&(m<0&&_===0?(HC("route-fallback"),N=!0,C=null):m===_&&(N=!0,C=T.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,_+1)),K=()=>{let Q;return A?Q=O:N?Q=C:T.route.Component?Q=M.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=y,M.createElement(LC,{match:T,routeContext:{outlet:y,matches:z,isDataRoute:t!=null},children:Q})};return t&&(T.route.ErrorBoundary||T.route.errorElement||_===0)?M.createElement(MC,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:K(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):K()},null)}var W0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(W0||{}),q0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(q0||{});function FC(n){let e=M.useContext(mm);return e||Ut(!1),e}function UC(n){let e=M.useContext(kC);return e||Ut(!1),e}function zC(n){let e=M.useContext(Ro);return e||Ut(!1),e}function G0(n){let e=zC(),t=e.matches[e.matches.length-1];return t.route.id||Ut(!1),t.route.id}function BC(){var n;let e=M.useContext($0),t=UC(),r=G0();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $C(){let{router:n}=FC(W0.UseNavigateStable),e=G0(q0.UseNavigateStable),t=M.useRef(!1);return H0(()=>{t.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Wl({fromRouteId:e},a)))},[n,e])}const n_={};function HC(n,e,t){n_[n]||(n_[n]=!0)}function WC(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Or(n){let{to:e,replace:t,state:r,relative:s}=n;su()||Ut(!1);let{future:a,static:u}=M.useContext(iu),{matches:d}=M.useContext(Ro),{pathname:f}=gm(),m=ou(),y=z0(e,U0(d,a.v7_relativeSplatPath),f,s==="path"),T=JSON.stringify(y);return M.useEffect(()=>m(JSON.parse(T),{replace:t,state:r,relative:s}),[m,T,s,t,r]),null}function go(n){Ut(!1)}function qC(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Is.Pop,navigator:a,static:u=!1,future:d}=n;su()&&Ut(!1);let f=e.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:f,navigator:a,static:u,future:Wl({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=Ma(r));let{pathname:y="/",search:T="",hash:_="",state:A=null,key:N="default"}=r,O=M.useMemo(()=>{let C=F0(y,f);return C==null?null:{location:{pathname:C,search:T,hash:_,state:A,key:N},navigationType:s}},[f,y,T,_,A,N,s]);return O==null?null:M.createElement(iu.Provider,{value:m},M.createElement(Fh.Provider,{children:t,value:O}))}function GC(n){let{children:e,location:t}=n;return NC(bp(e),t)}new Promise(()=>{});function bp(n,e){e===void 0&&(e=[]);let t=[];return M.Children.forEach(n,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){t.push.apply(t,bp(r.props.children,a));return}r.type!==go&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=bp(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const KC="6";try{window.__reactRouterVersion=KC}catch{}const QC="startTransition",r_=Ip[QC];function XC(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=rC({window:s,v5Compat:!0}));let u=a.current,[d,f]=M.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},y=M.useCallback(T=>{m&&r_?r_(()=>f(T)):f(T)},[f,m]);return M.useLayoutEffect(()=>u.listen(y),[u,y]),M.useEffect(()=>WC(r),[r]),M.createElement(qC,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}var i_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(i_||(i_={}));var s_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(s_||(s_={}));function o_(){var t;const n=((t=window.matchMedia)==null?void 0:t.call(window,"(display-mode: standalone)").matches)??!1,e=window.navigator.standalone===!0;return n||e}function YC(){return/iPad|iPhone|iPod/.test(window.navigator.userAgent)}function JC(){const[n,e]=M.useState(null),[t,r]=M.useState(!1);M.useEffect(()=>{function d(f){f.preventDefault(),e(f)}return window.addEventListener("beforeinstallprompt",d),()=>window.removeEventListener("beforeinstallprompt",d)},[]);const s=M.useMemo(()=>!o_()&&YC()&&!t&&!n,[t,n]),a=M.useMemo(()=>!o_()&&!t&&!!n,[n,t]);async function u(){if(!n)return;await n.prompt(),(await n.userChoice).outcome==="accepted"&&e(null),r(!0)}return!s&&!a?null:w.jsxs("section",{className:"install-banner","aria-live":"polite",children:[w.jsx("p",{className:"hint",children:a?"Aggiungi Beastly alla schermata Home per aprirla come app.":"Su iPhone: Condividi -> Aggiungi a Home per installare Beastly."}),w.jsxs("div",{className:"install-actions",children:[a?w.jsx("button",{className:"btn",type:"button",onClick:()=>void u(),children:"Aggiungi alla Home"}):null,w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>r(!0),children:"Chiudi"})]})]})}const K0=M.createContext(null);function ZC({children:n}){const[e,t]=M.useState([]),r=M.useCallback((a,u)=>{const d=Date.now()+Math.floor(Math.random()*1e3);t(f=>[...f,{id:d,type:a,message:u}]),window.setTimeout(()=>{t(f=>f.filter(m=>m.id!==d))},3200)},[]),s=M.useMemo(()=>({showSuccess:a=>r("success",a),showError:a=>r("error",a)}),[r]);return w.jsxs(K0.Provider,{value:s,children:[n,w.jsx("div",{className:"toast-wrap","aria-live":"polite","aria-atomic":"true",children:e.map(a=>w.jsx("div",{className:`toast toast-${a.type}`,children:a.message},a.id))})]})}function Uh(){const n=M.useContext(K0);if(!n)throw new Error("useToast must be used within ToastProvider");return n}const eb=()=>{};var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=a>>2,T=(a&3)<<4|d>>4;let _=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(_=64)),r.push(t[y],t[T],t[_],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||T==null)throw new nb;const _=a<<2|d>>4;if(r.push(_),m!==64){const A=d<<4&240|m>>2;if(r.push(A),T!==64){const N=m<<6&192|T;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rb=function(n){const e=Q0(n);return X0.encodeByteArray(e,!0)},ch=function(n){return rb(n).replace(/\./g,"")},Y0=function(n){try{return X0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=()=>ib().__FIREBASE_DEFAULTS__,ob=()=>{if(typeof process>"u"||typeof a_>"u")return;const n=a_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ab=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y0(n[1]);return e&&JSON.parse(e)},zh=()=>{try{return eb()||sb()||ob()||ab()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},J0=n=>{var e,t;return(t=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vm=n=>{const e=J0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Z0=()=>{var n;return(n=zh())===null||n===void 0?void 0:n.config},eE=n=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bh(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ch(JSON.stringify(t)),ch(JSON.stringify(u)),""].join(".")}const Ll={};function ub(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?n.emulator.push(e):n.prod.push(e);return n}function cb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let l_=!1;function $h(n,e){if(typeof window>"u"||typeof document>"u"||!Fi(window.location.host)||Ll[n]===e||Ll[n]||l_)return;Ll[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=ub().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{l_=!0,u()},_}function y(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function T(){const _=cb(r),A=t("text"),N=document.getElementById(A)||document.createElement("span"),O=t("learnmore"),C=document.getElementById(O)||document.createElement("a"),z=t("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const Q=_.element;d(Q),y(C,O);const Z=m();f(K,z),Q.append(K,N,C,Z),document.body.appendChild(Q)}a?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function db(){var n;const e=(n=zh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vb(){return!db()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="FirebaseError";class Lr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wb,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?Eb(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Lr(s,d,r)}}function Eb(n,e){return n.replace(Tb,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Tb=/\{\$([^}]+)}/g;function Sb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function So(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(u_(a)&&u_(u)){if(!So(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function u_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ib(n,e){const t=new Cb(n,e);return t.subscribe.bind(t)}class Cb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bb(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Zf),s.error===void 0&&(s.error=Zf),s.complete===void 0&&(s.complete=Zf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class Oi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rb(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pb(n){return n===vo?void 0:n}function Rb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ab(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const xb={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Nb=He.INFO,Ob={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Db=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Ob[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=Nb,this._logHandler=Db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Vb=(n,e)=>e.some(t=>n instanceof t);let c_,h_;function Mb(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Ap=new WeakMap,rE=new WeakMap,ep=new WeakMap,_m=new WeakMap;function jb(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&nE.set(t,n)}).catch(()=>{}),_m.set(e,n),e}function Fb(n){if(Ap.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Ap.set(n,e)}let Pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ub(n){Pp=n(Pp)}function zb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(tp(this),e,...t);return rE.set(r,e.sort?e.sort():[e]),bs(r)}:Lb().includes(n)?function(...e){return n.apply(tp(this),e),bs(nE.get(this))}:function(...e){return bs(n.apply(tp(this),e))}}function Bb(n){return typeof n=="function"?zb(n):(n instanceof IDBTransaction&&Fb(n),Vb(n,Mb())?new Proxy(n,Pp):n)}function bs(n){if(n instanceof IDBRequest)return jb(n);if(ep.has(n))return ep.get(n);const e=Bb(n);return e!==n&&(ep.set(n,e),_m.set(e,n)),e}const tp=n=>_m.get(n);function $b(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=bs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(bs(u.result),f.oldVersion,f.newVersion,bs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Hb=["get","getKey","getAll","getAllKeys","count"],Wb=["put","add","delete","clear"],np=new Map;function d_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Wb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hb.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return np.set(e,a),a}Ub(n=>({...n,get:(e,t,r)=>d_(e,t)||n.get(e,t,r),has:(e,t)=>!!d_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Gb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Gb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",f_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new ym("@firebase/app"),Kb="@firebase/app-compat",Qb="@firebase/analytics-compat",Xb="@firebase/analytics",Yb="@firebase/app-check-compat",Jb="@firebase/app-check",Zb="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",rA="@firebase/database-compat",iA="@firebase/functions",sA="@firebase/functions-compat",oA="@firebase/installations",aA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",pA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",vA="@firebase/ai",yA="@firebase/firestore-compat",_A="firebase",wA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",EA={[Rp]:"fire-core",[Kb]:"fire-core-compat",[Xb]:"fire-analytics",[Qb]:"fire-analytics-compat",[Jb]:"fire-app-check",[Yb]:"fire-app-check-compat",[Zb]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[iA]:"fire-fn",[sA]:"fire-fn-compat",[oA]:"fire-iid",[aA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[pA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,TA=new Map,xp=new Map;function p_(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xs(n){const e=n.name;if(xp.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,n);for(const t of hh.values())p_(t,n);for(const t of TA.values())p_(t,n);return!0}function uu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new au("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=wA;function iE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(t||(t=Z0()),!t)throw As.create("no-options");const a=hh.get(s);if(a){if(So(t,a.options)&&So(r,a.config))return a;throw As.create("duplicate-app",{appName:s})}const u=new kb(s);for(const f of xp.values())u.addComponent(f);const d=new IA(t,r,u);return hh.set(s,d),d}function Hh(n=kp){const e=hh.get(n);if(!e&&n===kp&&Z0())return iE();if(!e)throw As.create("no-app",{appName:n});return e}function dr(n,e,t){var r;let s=(r=EA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}xs(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",bA=1,ql="firebase-heartbeat-store";let rp=null;function sE(){return rp||(rp=$b(CA,bA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),rp}async function AA(n){try{const t=(await sE()).transaction(ql),r=await t.objectStore(ql).get(oE(n));return await t.done,r}catch(e){if(e instanceof Lr)Di.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function m_(n,e){try{const r=(await sE()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,oE(n)),await r.done}catch(t){if(t instanceof Lr)Di.warn(t.message);else{const r=As.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(r.message)}}}function oE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=1024,RA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>RA){const u=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g_(),{heartbeatsToSend:r,unsentEntries:s}=xA(this._heartbeatsCache.heartbeats),a=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Di.warn(t),""}}}function g_(){return new Date().toISOString().substring(0,10)}function xA(n,e=PA){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),v_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),v_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class NA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v_(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function OA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){xs(new Oi("platform-logger",e=>new qb(e),"PRIVATE")),xs(new Oi("heartbeat",e=>new kA(e),"PRIVATE")),dr(Rp,f_,n),dr(Rp,f_,"esm2017"),dr("fire-js","")}DA("");var VA="firebase",MA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(VA,MA,"app");function wm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LA=aE,lE=new au("auth","Firebase",aE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new ym("@firebase/auth");function jA(n,...e){dh.logLevel<=He.WARN&&dh.warn(`Auth (${ko}): ${n}`,...e)}function Xc(n,...e){dh.logLevel<=He.ERROR&&dh.error(`Auth (${ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw Tm(n,...e)}function Dr(n,...e){return Tm(n,...e)}function Em(n,e,t){const r=Object.assign(Object.assign({},LA()),{[e]:t});return new au("auth","Firebase",r).create(e,{appName:n.name})}function Ps(n){return Em(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uE(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&si(n,"argument-error"),Em(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lE.create(n,...e)}function Ve(n,e,...t){if(!n)throw Tm(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xc(e),new Error(e)}function Vi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FA(){return y_()==="http:"||y_()==="https:"}function y_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||pb()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=hb()||mb()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HA=new cu(3e4,6e4);function Im(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function La(n,e,t,r,s={}){return hE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=lu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return fb()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(m.credentials="include"),cE.fetch()(await dE(n,n.config.apiHost,t,d),m)})}async function hE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},BA),e);try{const s=new qA(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Mc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Mc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Mc(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Em(n,y,m);si(n,y)}}catch(s){if(s instanceof Lr)throw s;si(n,"network-request-failed",{message:String(s)})}}async function WA(n,e,t,r,s={}){const a=await La(n,e,t,r,s);return"mfaPendingCredential"in a&&si(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function dE(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Sm(n.config,s):`${n.config.apiScheme}://${s}`;return $A.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class qA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),HA.get())})}}function Mc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Dr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e){return La(n,"POST","/v1/accounts:delete",e)}async function fh(n,e){return La(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KA(n,e=!1){const t=ht(n),r=await t.getIdToken(e),s=Cm(r);Ve(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:jl(ip(s.auth_time)),issuedAtTime:jl(ip(s.iat)),expirationTime:jl(ip(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ip(n){return Number(n)*1e3}function Cm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y0(t);return s?JSON.parse(s):(Xc("Failed to decode base64 JWT payload"),null)}catch(s){return Xc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function __(n){const e=Cm(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Lr&&QA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Gl(n,fh(t,{idToken:r}));Ve(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fE(a.providerUserInfo):[],d=JA(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Op(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,T)}async function YA(n){const e=ht(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fE(n){return n.map(e=>{var{providerId:t}=e,r=wm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n,e){const t=await hE(n,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await dE(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(f.credentials="include"),cE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eP(n,e){return La(n,"POST","/v2/accounts:revokeToken",Im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=__(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await ZA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ea;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Op(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KA(this,e)}reload(){return YA(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Gl(this,GA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,m,y;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,K=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Q,emailVerified:Z,isAnonymous:X,providerData:ne,stsTokenManager:P}=t;Ve(Q&&P,e,"internal-error");const b=Ea.fromJSON(this.name,P);Ve(typeof Q=="string",e,"internal-error"),ys(T,e.name),ys(_,e.name),Ve(typeof Z=="boolean",e,"internal-error"),Ve(typeof X=="boolean",e,"internal-error"),ys(A,e.name),ys(N,e.name),ys(O,e.name),ys(C,e.name),ys(z,e.name),ys(K,e.name);const k=new Nr({uid:Q,auth:e,email:_,emailVerified:Z,displayName:T,isAnonymous:X,photoURL:N,phoneNumber:A,tenantId:O,stsTokenManager:b,createdAt:z,lastLoginAt:K});return ne&&Array.isArray(ne)&&(k.providerData=ne.map(j=>Object.assign({},j))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ea;s.updateFromServerResponse(t);const a=new Nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ph(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ve(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?fE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Ea;d.updateFromIdToken(r);const f=new Nr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function ki(n){Vi(n instanceof Function,"Expected a class definition");let e=w_.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pE.type="NONE";const E_=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Yc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Yc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ta(ki(E_),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ki(E_);const u=Yc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(u);if(y){let T;if(typeof y=="string"){const _=await fh(e,{idToken:y}).catch(()=>{});if(!_)break;T=await Nr._fromGetAccountInfoResponse(e,_,y)}else T=Nr._fromJSON(e,y);m!==a&&(d=T),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ta(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(EE(e))return"Webos";if(gE(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(_E(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mE(n=fn()){return/firefox\//i.test(n)}function gE(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(n=fn()){return/crios\//i.test(n)}function yE(n=fn()){return/iemobile/i.test(n)}function _E(n=fn()){return/android/i.test(n)}function wE(n=fn()){return/blackberry/i.test(n)}function EE(n=fn()){return/webos/i.test(n)}function bm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tP(n=fn()){var e;return bm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nP(){return gb()&&document.documentMode===10}function TE(n=fn()){return bm(n)||_E(n)||EE(n)||wE(n)||/windows phone/i.test(n)||yE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,e=[]){let t;switch(n){case"Browser":t=T_(fn());break;case"Worker":t=`${T_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e={}){return La(n,"GET","/v2/passwordPolicy",Im(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=6;class oP{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:sP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new rP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ps(this));const t=e?ht(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iP(this),t=new oP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ja(n){return ht(n)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ib(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lP(n){Am=n}function uP(n){return Am.loadJS(n)}function cP(){return Am.gapiScript}function hP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n,e){const t=uu(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(So(a,e??{}))return s;si(s,"already-initialized")}return t.initialize({options:e})}function fP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pP(n,e,t){const r=ja(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=IE(e),{host:u,port:d}=mP(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(So(m,r.config.emulator)&&So(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Fi(u)?(Bh(`${a}//${u}${f}`),$h("Auth",!0)):gP()}function IE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mP(n){const e=IE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:I_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:I_(u)}}}function I_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(n,e){return WA(n,"POST","/v1/accounts:signInWithIdp",Im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="http://localhost";class Io extends CE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=wm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Io(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Sa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}buildRequest(){const e={requestUri:vP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends hu{constructor(){super("facebook.com")}static credential(e){return Io._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Io._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends hu{constructor(){super("github.com")}static credential(e){return Io._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends hu{constructor(){super("twitter.com")}static credential(e,t){return Io._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ts.credential(t,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Nr._fromIdTokenResponse(e,r,s),u=C_(r);return new Pa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=C_(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function C_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Lr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mh(e,t,r,s)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,a,e,r):a})}async function yP(n,e,t=!1){const r=await Gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e,t=!1){const{auth:r}=n;if(Dn(r.app))return Promise.reject(Ps(r));const s="reauthenticate";try{const a=await Gl(n,bE(r,s,e,n),t);Ve(a.idToken,r,"internal-error");const u=Cm(a.idToken);Ve(u,r,"internal-error");const{sub:d}=u;return Ve(n.uid===d,r,"user-mismatch"),Pa._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&si(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e,t=!1){if(Dn(n.app))return Promise.reject(Ps(n));const r="signIn",s=await bE(n,r,e),a=await Pa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,e){return ht(n).setPersistence(e)}function AE(n,e,t,r){return ht(n).onIdTokenChanged(e,t,r)}function TP(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function qh(n){return ht(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=1e3,IP=10;class RE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);nP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RE.type="LOCAL";const kE=RE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xE.type="SESSION";const NE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await CP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Pm("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(T){const _=T;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(_.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function AP(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function PP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kP(){return OE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebaseLocalStorageDb",xP=1,vh="firebaseLocalStorage",VE="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function NP(){const n=indexedDB.deleteDatabase(DE);return new du(n).toPromise()}function Dp(){const n=indexedDB.open(DE,xP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:VE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await NP(),e(await Dp()))})})}async function b_(n,e,t){const r=Kh(n,!0).put({[VE]:e,value:t});return new du(r).toPromise()}async function OP(n,e){const t=Kh(n,!1).get(e),r=await new du(t).toPromise();return r===void 0?null:r.value}function A_(n,e){const t=Kh(n,!0).delete(e);return new du(t).toPromise()}const DP=800,VP=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>VP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(kP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PP(),!this.activeServiceWorker)return;this.sender=new bP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await b_(e,gh,"1"),await A_(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>OP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>A_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Kh(s,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const MP=ME;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n,e){return e?ki(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends CE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LP(n){return wP(n.auth,new km(n),n.bypassAuthState)}function jP(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),_P(t,new km(n),n.bypassAuthState)}async function FP(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),yP(t,new km(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LP;case"linkViaPopup":case"linkViaRedirect":return FP;case"reauthViaPopup":case"reauthViaRedirect":return jP;default:si(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new cu(2e3,1e4);async function zP(n,e,t){if(Dn(n.app))return Promise.reject(Dr(n,"operation-not-supported-in-this-environment"));const r=ja(n);uE(n,e,Wh);const s=Rm(r,t);return new yo(r,"signInViaPopup",e,s).executeNotNull()}class yo extends LE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="pendingRedirect",Jc=new Map;class $P extends LE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await HP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HP(n,e){const t=FE(e),r=jE(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function WP(n,e){return jE(n)._set(FE(e),"true")}function qP(n,e){Jc.set(n._key(),e)}function jE(n){return ki(n._redirectPersistence)}function FE(n){return Yc(BP,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n,e,t){return KP(n,e,t)}async function KP(n,e,t){if(Dn(n.app))return Promise.reject(Ps(n));const r=ja(n);uE(n,e,Wh),await r._initializationPromise;const s=Rm(r,t);return await WP(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function QP(n,e){return await ja(n)._initializationPromise,UE(n,e,!1)}async function UE(n,e,t=!1){if(Dn(n.app))return Promise.reject(Ps(n));const r=ja(n),s=Rm(r,e),u=await new $P(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=600*1e3;class YP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Dr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XP&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e={}){return La(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function nR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZP(n);for(const t of e)try{if(rR(t))return}catch{}si(n,"unauthorized-domain")}function rR(n){const e=Np(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!tR.test(t))return!1;if(eR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new cu(3e4,6e4);function R_(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sR(n){return new Promise((e,t)=>{var r,s,a;function u(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),t(Dr(n,"network-request-failed"))},timeout:iR.get()})}if(!((s=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Zr().gapi)===null||a===void 0)&&a.load)u();else{const d=hP("iframefcb");return Zr()[d]=()=>{gapi.load?u():t(Dr(n,"network-request-failed"))},uP(`${cP()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function oR(n){return Zc=Zc||sR(n),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new cu(5e3,15e3),lR="__/auth/iframe",uR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dR(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sm(e,uR):`https://${n.config.authDomain}/${lR}`,r={apiKey:e.apiKey,appName:n.name,v:ko},s=hR.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${lu(r).slice(1)}`}async function fR(n){const e=await oR(n),t=Zr().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:dR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Dr(n,"network-request-failed"),d=Zr().setTimeout(()=>{a(u)},aR.get());function f(){Zr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,vR="_blank",yR="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(n,e,t,r=mR,s=gR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},pR),{width:r.toString(),height:s.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(d=vE(m)?vR:t),mE(m)&&(e=e||yR,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[A,N])=>`${_}${A}=${N},`,"");if(tP(m)&&d!=="_self")return wR(e||"",d),new k_(null);const T=window.open(e||"",d,y);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new k_(T)}function wR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",TR="emulator/auth/handler",SR=encodeURIComponent("fac");async function x_(n,e,t,r,s,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ko,eventId:s};if(e instanceof Wh){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Sb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))u[y]=T}if(e instanceof hu){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await n._getAppCheckToken(),m=f?`#${SR}=${encodeURIComponent(f)}`:"";return`${IR(n)}?${lu(d).slice(1)}${m}`}function IR({config:n}){return n.emulator?Sm(n,TR):`https://${n.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=UE,this._overrideRedirectResult=qP}async _openPopup(e,t,r,s){var a;Vi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await x_(e,t,r,Np(),s);return _R(e,u,Pm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await x_(e,t,r,Np(),s);return AP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await fR(e),r=new YP(e);return t.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[sp];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TE()||gE()||bm()}}const bR=CR;var N_="@firebase/auth",O_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(n){xs(new Oi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(n)},m=new aP(r,s,a,f);return fP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xs(new Oi("auth-internal",e=>{const t=ja(e.getProvider("auth").getImmediate());return(r=>new AR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(N_,O_,PR(n)),dr(N_,O_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=300,xR=eE("authIdTokenMaxAge")||kR;let D_=null;const NR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>xR)return;const s=t==null?void 0:t.token;D_!==s&&(D_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OR(n=Hh()){const e=uu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dP(n,{popupRedirectResolver:bR,persistence:[MP,kE,NE]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=NR(a.toString());TP(t,u,()=>u(t.currentUser)),AE(t,d=>u(d))}}const s=J0("auth");return s&&pP(t,`http://${s}`),t}function DR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Dr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",DR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,BE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,b){function k(){}k.prototype=b.prototype,P.D=b.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(j,D,V){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return b.prototype[D].apply(j,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,b,k){k||(k=0);var j=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)j[D]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(D=0;16>D;++D)j[D]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=P.g[0],k=P.g[1],D=P.g[2];var V=P.g[3],R=b+(V^k&(D^V))+j[0]+3614090360&4294967295;b=k+(R<<7&4294967295|R>>>25),R=V+(D^b&(k^D))+j[1]+3905402710&4294967295,V=b+(R<<12&4294967295|R>>>20),R=D+(k^V&(b^k))+j[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=k+(b^D&(V^b))+j[3]+3250441966&4294967295,k=D+(R<<22&4294967295|R>>>10),R=b+(V^k&(D^V))+j[4]+4118548399&4294967295,b=k+(R<<7&4294967295|R>>>25),R=V+(D^b&(k^D))+j[5]+1200080426&4294967295,V=b+(R<<12&4294967295|R>>>20),R=D+(k^V&(b^k))+j[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=k+(b^D&(V^b))+j[7]+4249261313&4294967295,k=D+(R<<22&4294967295|R>>>10),R=b+(V^k&(D^V))+j[8]+1770035416&4294967295,b=k+(R<<7&4294967295|R>>>25),R=V+(D^b&(k^D))+j[9]+2336552879&4294967295,V=b+(R<<12&4294967295|R>>>20),R=D+(k^V&(b^k))+j[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=k+(b^D&(V^b))+j[11]+2304563134&4294967295,k=D+(R<<22&4294967295|R>>>10),R=b+(V^k&(D^V))+j[12]+1804603682&4294967295,b=k+(R<<7&4294967295|R>>>25),R=V+(D^b&(k^D))+j[13]+4254626195&4294967295,V=b+(R<<12&4294967295|R>>>20),R=D+(k^V&(b^k))+j[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=k+(b^D&(V^b))+j[15]+1236535329&4294967295,k=D+(R<<22&4294967295|R>>>10),R=b+(D^V&(k^D))+j[1]+4129170786&4294967295,b=k+(R<<5&4294967295|R>>>27),R=V+(k^D&(b^k))+j[6]+3225465664&4294967295,V=b+(R<<9&4294967295|R>>>23),R=D+(b^k&(V^b))+j[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=k+(V^b&(D^V))+j[0]+3921069994&4294967295,k=D+(R<<20&4294967295|R>>>12),R=b+(D^V&(k^D))+j[5]+3593408605&4294967295,b=k+(R<<5&4294967295|R>>>27),R=V+(k^D&(b^k))+j[10]+38016083&4294967295,V=b+(R<<9&4294967295|R>>>23),R=D+(b^k&(V^b))+j[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=k+(V^b&(D^V))+j[4]+3889429448&4294967295,k=D+(R<<20&4294967295|R>>>12),R=b+(D^V&(k^D))+j[9]+568446438&4294967295,b=k+(R<<5&4294967295|R>>>27),R=V+(k^D&(b^k))+j[14]+3275163606&4294967295,V=b+(R<<9&4294967295|R>>>23),R=D+(b^k&(V^b))+j[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=k+(V^b&(D^V))+j[8]+1163531501&4294967295,k=D+(R<<20&4294967295|R>>>12),R=b+(D^V&(k^D))+j[13]+2850285829&4294967295,b=k+(R<<5&4294967295|R>>>27),R=V+(k^D&(b^k))+j[2]+4243563512&4294967295,V=b+(R<<9&4294967295|R>>>23),R=D+(b^k&(V^b))+j[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=k+(V^b&(D^V))+j[12]+2368359562&4294967295,k=D+(R<<20&4294967295|R>>>12),R=b+(k^D^V)+j[5]+4294588738&4294967295,b=k+(R<<4&4294967295|R>>>28),R=V+(b^k^D)+j[8]+2272392833&4294967295,V=b+(R<<11&4294967295|R>>>21),R=D+(V^b^k)+j[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=k+(D^V^b)+j[14]+4259657740&4294967295,k=D+(R<<23&4294967295|R>>>9),R=b+(k^D^V)+j[1]+2763975236&4294967295,b=k+(R<<4&4294967295|R>>>28),R=V+(b^k^D)+j[4]+1272893353&4294967295,V=b+(R<<11&4294967295|R>>>21),R=D+(V^b^k)+j[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=k+(D^V^b)+j[10]+3200236656&4294967295,k=D+(R<<23&4294967295|R>>>9),R=b+(k^D^V)+j[13]+681279174&4294967295,b=k+(R<<4&4294967295|R>>>28),R=V+(b^k^D)+j[0]+3936430074&4294967295,V=b+(R<<11&4294967295|R>>>21),R=D+(V^b^k)+j[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=k+(D^V^b)+j[6]+76029189&4294967295,k=D+(R<<23&4294967295|R>>>9),R=b+(k^D^V)+j[9]+3654602809&4294967295,b=k+(R<<4&4294967295|R>>>28),R=V+(b^k^D)+j[12]+3873151461&4294967295,V=b+(R<<11&4294967295|R>>>21),R=D+(V^b^k)+j[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=k+(D^V^b)+j[2]+3299628645&4294967295,k=D+(R<<23&4294967295|R>>>9),R=b+(D^(k|~V))+j[0]+4096336452&4294967295,b=k+(R<<6&4294967295|R>>>26),R=V+(k^(b|~D))+j[7]+1126891415&4294967295,V=b+(R<<10&4294967295|R>>>22),R=D+(b^(V|~k))+j[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=k+(V^(D|~b))+j[5]+4237533241&4294967295,k=D+(R<<21&4294967295|R>>>11),R=b+(D^(k|~V))+j[12]+1700485571&4294967295,b=k+(R<<6&4294967295|R>>>26),R=V+(k^(b|~D))+j[3]+2399980690&4294967295,V=b+(R<<10&4294967295|R>>>22),R=D+(b^(V|~k))+j[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=k+(V^(D|~b))+j[1]+2240044497&4294967295,k=D+(R<<21&4294967295|R>>>11),R=b+(D^(k|~V))+j[8]+1873313359&4294967295,b=k+(R<<6&4294967295|R>>>26),R=V+(k^(b|~D))+j[15]+4264355552&4294967295,V=b+(R<<10&4294967295|R>>>22),R=D+(b^(V|~k))+j[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=k+(V^(D|~b))+j[13]+1309151649&4294967295,k=D+(R<<21&4294967295|R>>>11),R=b+(D^(k|~V))+j[4]+4149444226&4294967295,b=k+(R<<6&4294967295|R>>>26),R=V+(k^(b|~D))+j[11]+3174756917&4294967295,V=b+(R<<10&4294967295|R>>>22),R=D+(b^(V|~k))+j[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=k+(V^(D|~b))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+b&4294967295,P.g[1]=P.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,b){b===void 0&&(b=P.length);for(var k=b-this.blockSize,j=this.B,D=this.h,V=0;V<b;){if(D==0)for(;V<=k;)s(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<b;)if(j[D++]=P.charCodeAt(V++),D==this.blockSize){s(this,j),D=0;break}}else for(;V<b;)if(j[D++]=P[V++],D==this.blockSize){s(this,j),D=0;break}}this.h=D,this.o+=b},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var b=1;b<P.length-8;++b)P[b]=0;var k=8*this.o;for(b=P.length-8;b<P.length;++b)P[b]=k&255,k/=256;for(this.u(P),P=Array(16),b=k=0;4>b;++b)for(var j=0;32>j;j+=8)P[k++]=this.g[b]>>>j&255;return P};function a(P,b){var k=d;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=b(P)}function u(P,b){this.h=b;for(var k=[],j=!0,D=P.length-1;0<=D;D--){var V=P[D]|0;j&&V==b||(k[D]=V,j=!1)}this.g=k}var d={};function f(P){return-128<=P&&128>P?a(P,function(b){return new u([b|0],0>b?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return C(m(-P));for(var b=[],k=1,j=0;P>=k;j++)b[j]=P/k|0,k*=4294967296;return new u(b,0)}function y(P,b){if(P.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(P.charAt(0)=="-")return C(y(P.substring(1),b));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(b,8)),j=T,D=0;D<P.length;D+=8){var V=Math.min(8,P.length-D),R=parseInt(P.substring(D,D+V),b);8>V?(V=m(Math.pow(b,V)),j=j.j(V).add(m(R))):(j=j.j(k),j=j.add(m(R)))}return j}var T=f(0),_=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-C(this).m();for(var P=0,b=1,k=0;k<this.g.length;k++){var j=this.i(k);P+=(0<=j?j:4294967296+j)*b,b*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(O(this))return"-"+C(this).toString(P);for(var b=m(Math.pow(P,6)),k=this,j="";;){var D=Z(k,b).g;k=z(k,D.j(b));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=D,N(k))return V+j;for(;6>V.length;)V="0"+V;j=V+j}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var b=0;b<P.g.length;b++)if(P.g[b]!=0)return!1;return!0}function O(P){return P.h==-1}n.l=function(P){return P=z(this,P),O(P)?-1:N(P)?0:1};function C(P){for(var b=P.g.length,k=[],j=0;j<b;j++)k[j]=~P.g[j];return new u(k,~P.h).add(_)}n.abs=function(){return O(this)?C(this):this},n.add=function(P){for(var b=Math.max(this.g.length,P.g.length),k=[],j=0,D=0;D<=b;D++){var V=j+(this.i(D)&65535)+(P.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);j=R>>>16,V&=65535,R&=65535,k[D]=R<<16|V}return new u(k,k[k.length-1]&-2147483648?-1:0)};function z(P,b){return P.add(C(b))}n.j=function(P){if(N(this)||N(P))return T;if(O(this))return O(P)?C(this).j(C(P)):C(C(this).j(P));if(O(P))return C(this.j(C(P)));if(0>this.l(A)&&0>P.l(A))return m(this.m()*P.m());for(var b=this.g.length+P.g.length,k=[],j=0;j<2*b;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var D=0;D<P.g.length;D++){var V=this.i(j)>>>16,R=this.i(j)&65535,he=P.i(D)>>>16,be=P.i(D)&65535;k[2*j+2*D]+=R*be,K(k,2*j+2*D),k[2*j+2*D+1]+=V*be,K(k,2*j+2*D+1),k[2*j+2*D+1]+=R*he,K(k,2*j+2*D+1),k[2*j+2*D+2]+=V*he,K(k,2*j+2*D+2)}for(j=0;j<b;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=b;j<2*b;j++)k[j]=0;return new u(k,0)};function K(P,b){for(;(P[b]&65535)!=P[b];)P[b+1]+=P[b]>>>16,P[b]&=65535,b++}function Q(P,b){this.g=P,this.h=b}function Z(P,b){if(N(b))throw Error("division by zero");if(N(P))return new Q(T,T);if(O(P))return b=Z(C(P),b),new Q(C(b.g),C(b.h));if(O(b))return b=Z(P,C(b)),new Q(C(b.g),b.h);if(30<P.g.length){if(O(P)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var k=_,j=b;0>=j.l(P);)k=X(k),j=X(j);var D=ne(k,1),V=ne(j,1);for(j=ne(j,2),k=ne(k,2);!N(j);){var R=V.add(j);0>=R.l(P)&&(D=D.add(k),V=R),j=ne(j,1),k=ne(k,1)}return b=z(P,D.j(b)),new Q(D,b)}for(D=T;0<=P.l(b);){for(k=Math.max(1,Math.floor(P.m()/b.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),V=m(k),R=V.j(b);O(R)||0<R.l(P);)k-=j,V=m(k),R=V.j(b);N(V)&&(V=_),D=D.add(V),P=z(P,R)}return new Q(D,P)}n.A=function(P){return Z(this,P).h},n.and=function(P){for(var b=Math.max(this.g.length,P.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)&P.i(j);return new u(k,this.h&P.h)},n.or=function(P){for(var b=Math.max(this.g.length,P.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)|P.i(j);return new u(k,this.h|P.h)},n.xor=function(P){for(var b=Math.max(this.g.length,P.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)^P.i(j);return new u(k,this.h^P.h)};function X(P){for(var b=P.g.length+1,k=[],j=0;j<b;j++)k[j]=P.i(j)<<1|P.i(j-1)>>>31;return new u(k,P.h)}function ne(P,b){var k=b>>5;b%=32;for(var j=P.g.length-k,D=[],V=0;V<j;V++)D[V]=0<b?P.i(V+k)>>>b|P.i(V+k+1)<<32-b:P.i(V+k);return new u(D,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Rs=u}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,Nl,HE,eh,Vp,WE,qE,GE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,E){return c==Array.prototype||c==Object.prototype||(c[g]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var E=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var W=c[I];if(!(W in E))break e;E=E[W]}c=c[c.length-1],I=E[c],g=g(I),g!=I&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var E=0,I=!1,W={next:function(){if(!I&&E<c.length){var J=E++;return{value:g(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,E){return c.call.apply(c.bind,arguments)}function T(c,g,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function _(c,g,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,_.apply(null,arguments)}function A(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function N(c,g){function E(){}E.prototype=g.prototype,c.aa=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,W,J){for(var ce=Array(arguments.length-2),st=2;st<arguments.length;st++)ce[st-2]=arguments[st];return g.prototype[W].apply(I,ce)}}function O(c){const g=c.length;if(0<g){const E=Array(g);for(let I=0;I<g;I++)E[I]=c[I];return E}return[]}function C(c,g){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const W=c.length||0,J=I.length||0;c.length=W+J;for(let ce=0;ce<J;ce++)c[W+ce]=I[ce]}else c.push(I)}}class z{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var X=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ne(c,g,E){for(const I in c)g.call(E,c[I],I,c)}function P(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function b(c){const g={};for(const E in c)g[E]=c[E];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,g){let E,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(E in I)c[E]=I[E];for(let J=0;J<k.length;J++)E=k[J],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function D(c){var g=1;c=c.split(":");const E=[];for(;0<g&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function V(c){d.setTimeout(()=>{throw c},0)}function R(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class he{constructor(){this.h=this.g=null}add(g,E){const I=be.get();I.set(g,E),this.h?this.h.next=I:this.g=I,this.h=I}}var be=new z(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,$=!1,fe=new he,ue=()=>{const c=d.Promise.resolve(void 0);ke=()=>{c.then(B)}};var B=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){V(E)}var g=be;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}$=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return c})();function Ee(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(X){e:{try{Z(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}N(Ee,le);var xe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function Qe(c,g,E,I,W){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!I,this.ha=W,this.key=++je,this.da=this.fa=!1}function vt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pn(c){this.src=c,this.g={},this.h=0}pn.prototype.add=function(c,g,E,I,W){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ce=jn(c,g,I,W);return-1<ce?(g=c[ce],E||(g.fa=!1)):(g=new Qe(g,this.src,J,!!I,W),g.fa=E,c.push(g)),g};function yt(c,g){var E=g.type;if(E in c.g){var I=c.g[E],W=Array.prototype.indexOf.call(I,g,void 0),J;(J=0<=W)&&Array.prototype.splice.call(I,W,1),J&&(vt(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function jn(c,g,E,I){for(var W=0;W<c.length;++W){var J=c[W];if(!J.da&&J.listener==g&&J.capture==!!E&&J.ha==I)return W}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),mr={};function zi(c,g,E,I,W){if(Array.isArray(g)){for(var J=0;J<g.length;J++)zi(c,g[J],E,I,W);return null}return E=Bi(E),c&&c[Ue]?c.K(g,E,m(I)?!!I.capture:!1,W):Qn(c,g,E,!1,I,W)}function Qn(c,g,E,I,W,J){if(!g)throw Error("Invalid event type");var ce=m(W)?!!W.capture:!!W,st=ui(c);if(st||(c[Xe]=st=new pn(c)),E=st.add(g,E,I,ce,J),E.proxy)return E;if(I=Bs(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)ve||(W=ce),W===void 0&&(W=!1),c.addEventListener(g.toString(),I,W);else if(c.attachEvent)c.attachEvent(St(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bs(){function c(E){return g.call(c.src,c.listener,E)}const g=Je;return c}function mn(c,g,E,I,W){if(Array.isArray(g))for(var J=0;J<g.length;J++)mn(c,g[J],E,I,W);else I=m(I)?!!I.capture:!!I,E=Bi(E),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(J=c.g[g],E=jn(J,E,I,W),-1<E&&(vt(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete c.g[g],c.h--)))):c&&(c=ui(c))&&(g=c.g[g.toString()],c=-1,g&&(c=jn(g,E,I,W)),(E=-1<c?g[c]:null)&&Xn(E))}function Xn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])yt(g.i,c);else{var E=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(E,I,c.capture):g.detachEvent?g.detachEvent(St(E),I):g.addListener&&g.removeListener&&g.removeListener(I),(E=ui(g))?(yt(E,c),E.h==0&&(E.src=null,g[Xe]=null)):vt(c)}}}function St(c){return c in mr?mr[c]:mr[c]="on"+c}function Je(c,g){if(c.da)c=!0;else{g=new Ee(g,this);var E=c.listener,I=c.ha||c.src;c.fa&&Xn(c),c=E.call(I,g)}return c}function ui(c){return c=c[Xe],c instanceof pn?c:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(c){return typeof c=="function"?c:(c[ci]||(c[ci]=function(g){return c.handleEvent(g)}),c[ci])}function Rt(){H.call(this),this.i=new pn(this),this.M=this,this.F=null}N(Rt,H),Rt.prototype[Ue]=!0,Rt.prototype.removeEventListener=function(c,g,E,I){mn(this,c,g,E,I)};function It(c,g){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var W=g;g=new le(I,c),j(g,W)}if(W=!0,E)for(var J=E.length-1;0<=J;J--){var ce=g.g=E[J];W=gr(ce,I,!0,g)&&W}if(ce=g.g=c,W=gr(ce,I,!0,g)&&W,W=gr(ce,I,!1,g)&&W,E)for(J=0;J<E.length;J++)ce=g.g=E[J],W=gr(ce,I,!1,g)&&W}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var E=c.g[g],I=0;I<E.length;I++)vt(E[I]);delete c.g[g],c.h--}}this.F=null},Rt.prototype.K=function(c,g,E,I){return this.i.add(String(c),g,!1,E,I)},Rt.prototype.L=function(c,g,E,I){return this.i.add(String(c),g,!0,E,I)};function gr(c,g,E,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,J=0;J<g.length;++J){var ce=g[J];if(ce&&!ce.da&&ce.capture==E){var st=ce.listener,zt=ce.ha||ce.src;ce.fa&&yt(c.i,ce),W=st.call(zt,I)!==!1&&W}}return W&&!I.defaultPrevented}function $i(c,g,E){if(typeof c=="function")E&&(c=_(c,E));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function jr(c){c.g=$i(()=>{c.g=null,c.i&&(c.i=!1,jr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class vr extends H{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(c){H.call(this),this.h=c,this.g={}}N(Fr,H);var hi=[];function $s(c){ne(c.g,function(g,E){this.g.hasOwnProperty(E)&&Xn(g)},c),c.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),$s(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=d.JSON.stringify,Ws=d.JSON.parse,Sn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $e(){}$e.prototype.h=null;function di(c){return c.h||(c.h=c.i())}function Hi(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){le.call(this,"d")}N(Yn,le);function Wi(){le.call(this,"c")}N(Wi,le);var Jn={},qs=null;function fi(){return qs=qs||new Rt}Jn.La="serverreachability";function Gs(c){le.call(this,Jn.La,c)}N(Gs,le);function yr(c){const g=fi();It(g,new Gs(g))}Jn.STAT_EVENT="statevent";function qi(c,g){le.call(this,Jn.STAT_EVENT,c),this.stat=g}N(qi,le);function _t(c){const g=fi();It(g,new qi(g,c))}Jn.Ma="timingevent";function Gi(c,g){le.call(this,Jn.Ma,c),this.size=g}N(Gi,le);function Fn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function L(c,g,E,I,W,J){c.info(function(){if(c.g)if(J)for(var ce="",st=J.split("&"),zt=0;zt<st.length;zt++){var Ge=st[zt].split("=");if(1<Ge.length){var Wt=Ge[0];Ge=Ge[1];var Dt=Wt.split("_");ce=2<=Dt.length&&Dt[1]=="type"?ce+(Wt+"="+Ge+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+g+`
`+E+`
`+ce})}function oe(c,g,E,I,W,J,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+g+`
`+E+`
`+J+" "+ce})}function ge(c,g,E,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zn(c,E)+(I?" "+I:"")})}function et(c,g){c.info(function(){return"TIMEOUT: "+g})}pi.prototype.info=function(){};function Zn(c,g){if(!c.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return Hs(E)}catch{return g}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Do={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function Ks(){}N(Ks,$e),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},_r=new Ks;function wr(c,g,E,I){this.j=c,this.i=g,this.l=E,this.R=I||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tu}function Tu(){this.i=null,this.g="",this.h=!1}var Ga={},Vo={};function Mo(c,g,E){c.L=1,c.v=Zi(zn(g)),c.m=E,c.P=!0,Ka(c,null)}function Ka(c,g){c.F=Date.now(),lt(c),c.A=zn(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ts(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Tu,c.g=Uu(c.j,E?g:null,!c.m),0<c.O&&(c.M=new vr(_(c.Y,c,c.g),c.O)),g=c.U,E=c.g,I=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(hi[0]=W.toString()),W=hi);for(var J=0;J<W.length;J++){var ce=zi(E,W[J],I||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),yr(),L(c.i,c.u,c.A,c.l,c.R,c.m)}wr.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},wr.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=bn(this.g);var g=this.g.Ba();const nr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||Dt!=4||g==7||(g==8||0>=nr?yr(3):yr(2)),Qs(this);var E=this.g.Z();this.X=E;t:if(Su(this)){var I=el(this.g);c="";var W=I.length,J=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),Qi(this);var ce="";break t}this.h.i=new d.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(J&&g==W-1)});I.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,oe(this.i,this.u,this.A,this.l,this.R,Dt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var st,zt=this.g;if((st=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(st)){var Ge=st;break t}}Ge=null}if(E=Ge)ge(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,E);else{this.o=!1,this.s=3,_t(12),er(this),Qi(this);break e}}if(this.P){E=!0;let $n;for(;!this.J&&this.C<ce.length;)if($n=Ed(this,ce),$n==Vo){Dt==4&&(this.s=4,_t(14),E=!1),ge(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Ga){this.s=4,_t(15),ge(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else ge(this.i,this.l,$n,null),Qa(this,$n);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ce.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)ge(this.i,this.l,ce,"[Invalid Chunked Response]"),er(this),Qi(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),nl(Wt),Wt.M=!0,_t(11))}}else ge(this.i,this.l,ce,null),Qa(this,ce);Dt==4&&er(this),this.o&&!this.J&&(Dt==4?Go(this.j,this):(this.o=!1,lt(this)))}else Bo(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),er(this),Qi(this)}}}catch{}finally{}};function Su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ed(c,g){var E=c.C,I=g.indexOf(`
`,E);return I==-1?Vo:(E=Number(g.substring(E,I)),isNaN(E)?Ga:(I+=1,I+E>g.length?Vo:(g=g.slice(I,I+E),c.C=I+E,g)))}wr.prototype.cancel=function(){this.J=!0,er(this)};function lt(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(_(c.ba,c),g)}function Qs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}wr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(et(this.i,this.A),this.L!=2&&(yr(),_t(17)),er(this),this.s=2,Qi(this)):Iu(this,this.S-c)};function Qi(c){c.j.G==0||c.J||Go(c.j,c)}function er(c){Qs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,$s(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Qa(c,g){try{var E=c.j;if(E.G!=0&&(E.g==c||gn(E.h,c))){if(!c.K&&gn(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)qo(E),Cr(E);else break e;Wo(E),_t(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=Fn(_(E.Za,E),6e3));if(1>=bu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else _i(E,11)}else if((c.K||E.g==c)&&qo(E),!K(g))for(W=E.Da.g.parse(g),g=0;g<W.length;g++){let Ge=W[g];if(E.T=Ge[0],Ge=Ge[1],E.G==2)if(Ge[0]=="c"){E.K=Ge[1],E.ia=Ge[2];const Wt=Ge[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Dt=Ge[4];Dt!=null&&(E.Aa=Dt,E.j.info("SVER="+E.Aa));const nr=Ge[5];nr!=null&&typeof nr=="number"&&0<nr&&(I=1.5*nr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const $n=c.g;if($n){const no=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var J=I.h;J.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xa(J,J.h),J.h=null))}if(I.D){const Qo=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(I.ya=Qo,ot(I.I,I.D,Qo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ce=c;if(I.qa=Fu(I,I.J?I.ia:null,I.W),ce.K){Au(I.h,ce);var st=ce,zt=I.L;zt&&(st.I=zt),st.B&&(Qs(st),lt(st)),I.g=ce}else to(I);0<E.i.length&&$r(E)}else Ge[0]!="stop"&&Ge[0]!="close"||_i(E,7);else E.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?_i(E,7):Yt(E):Ge[0]!="noop"&&E.l&&E.l.ta(Ge),E.v=0)}}yr(4)}catch{}}var Cu=class{constructor(c,g){this.g=c,this.map=g}};function Xs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bu(c){return c.h?1:c.g?c.g.size:0}function gn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Xa(c,g){c.g?c.g.add(g):c.h=g}function Au(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=Pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Pu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.D);return g}return O(c.i)}function Lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],E=c.length,I=0;I<E;I++)g.push(c[I]);return g}g=[],E=0;for(I in c)g[E++]=c[I];return g}function jo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var E=0;E<c;E++)g.push(E);return g}g=[],E=0;for(const I in c)g[E++]=I;return g}}}function Xi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var E=jo(c),I=Lo(c),W=I.length,J=0;J<W;J++)g.call(void 0,I[J],E&&E[J],c)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(c,g){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),W=null;if(0<=I){var J=c[E].substring(0,I);W=c[E].substring(I+1)}else J=c[E];g(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,Js(this,c.j),this.o=c.o,this.g=c.g,Yi(this,c.s),this.l=c.l;var g=c.i,E=new Ur;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Ji(this,E),this.m=c.m}else c&&(g=String(c).match(Ys))?(this.h=!1,Js(this,g[1]||"",!0),this.o=qe(g[2]||""),this.g=qe(g[3]||"",!0),Yi(this,g[4]),this.l=qe(g[5]||"",!0),Ji(this,g[6]||"",!0),this.m=qe(g[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}mi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(es(g,Fo,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(es(g,Fo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(es(E,E.charAt(0)=="/"?xu:ku,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",es(E,Ya)),c.join("")};function zn(c){return new mi(c)}function Js(c,g,E){c.j=E?qe(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Yi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ji(c,g,E){g instanceof Ur?(c.i=g,zr(c.i,c.h)):(E||(g=es(g,Nu)),c.i=new Ur(g,c.h))}function ot(c,g,E){c.i.set(g,E)}function Zi(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qe(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function es(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,Ru),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,ku=/[#\?:]/g,xu=/[#\?]/g,Nu=/[#\?@]/g,Ya=/#/g;function Ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Xt(c){c.g||(c.g=new Map,c.h=0,c.i&&Td(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=Ur.prototype,n.add=function(c,g){Xt(this),this.i=null,c=tr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Er(c,g){Xt(c),g=tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tr(c,g){return Xt(c),g=tr(c,g),c.g.has(g)}n.forEach=function(c,g){Xt(this),this.g.forEach(function(E,I){E.forEach(function(W){c.call(g,W,I,this)},this)},this)},n.na=function(){Xt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let I=0;I<g.length;I++){const W=c[I];for(let J=0;J<W.length;J++)E.push(g[I])}return E},n.V=function(c){Xt(this);let g=[];if(typeof c=="string")Tr(this,c)&&(g=g.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)g=g.concat(c[E])}return g},n.set=function(c,g){return Xt(this),this.i=null,c=tr(this,c),Tr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ts(c,g,E){Er(c,g),0<E.length&&(c.i=null,c.g.set(tr(c,g),O(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var I=g[E];const J=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var W=J;ce[I]!==""&&(W+="="+encodeURIComponent(String(ce[I]))),c.push(W)}}return this.i=c.join("&")};function tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function zr(c,g){g&&!c.j&&(Xt(c),c.i=null,c.g.forEach(function(E,I){var W=I.toLowerCase();I!=W&&(Er(this,I),ts(this,W,E))},c)),c.j=g}function Sd(c,g){const E=new pi;if(d.Image){const I=new Image;I.onload=A(Cn,E,"TestLoadImage: loaded",!0,g,I),I.onerror=A(Cn,E,"TestLoadImage: error",!1,g,I),I.onabort=A(Cn,E,"TestLoadImage: abort",!1,g,I),I.ontimeout=A(Cn,E,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Ou(c,g){const E=new pi,I=new AbortController,W=setTimeout(()=>{I.abort(),Cn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(W),J.ok?Cn(E,"TestPingServer: ok",!0,g):Cn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),Cn(E,"TestPingServer: error",!1,g)})}function Cn(c,g,E,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(E)}catch{}}function Id(){this.g=new Sn}function Du(c,g,E){const I=E||"";try{Xi(c,function(W,J){let ce=W;m(W)&&(ce=Hs(W)),g.push(I+J+"="+encodeURIComponent(ce))})}catch(W){throw g.push(I+"type="+encodeURIComponent("_badmap")),W}}function gi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(gi,$e),gi.prototype.g=function(){return new Zs(this.l,this.j)},gi.prototype.i=(function(c){return function(){return c}})({});function Zs(c,g){Rt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Zs,Rt),n=Zs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ir(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Sr(this):Ir(this),this.readyState==3&&Vu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},n.Qa=function(c){this.g&&(this.response=c,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ir(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vi(c){let g="";return ne(c,function(E,I){g+=I,g+=":",g+=E,g+=`\r
`}),g}function ns(c,g,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=vi(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):ot(c,g,E))}function mt(c){Rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(mt,Rt);var Cd=/^https?$/i,Ja=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?di(this.o):di(_r),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(J){eo(this,J);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)E.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())E.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),W=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ja,g,void 0))||I||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of E)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){eo(this,J)}};function eo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Uo(c),Bn(c)}function Uo(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},n.bb=function(){Za(this)};function Za(c){if(c.h&&typeof u<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)$i(c.Ea,0,c);else if(It(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var I;if(I=ce===0){var W=String(c.D).match(Ys)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),I=!Cd.test(W?W.toLowerCase():"")}E=I}if(E)It(c,"complete"),It(c,"success");else{c.m=6;try{var J=2<bn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Uo(c)}}finally{Bn(c)}}}}function Bn(c,g){if(c.g){zo(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{E.onreadystatechange=I}catch{}}}function zo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ws(g)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bo(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(K(c[I]))continue;var E=D(c[I]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=g[W]||[];g[W]=J,J.push(E)}P(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function tl(c){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,c),this.cb=Br("retryDelaySeedMs",1e4,c),this.Wa=Br("forwardChannelMaxRetries",2,c),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(c&&c.concurrentRequestLimit),this.Da=new Id,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tl.prototype,n.la=8,n.G=1,n.connect=function(c,g,E,I){_t(0),this.W=c,this.H=g||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Fu(this,null,this.W),$r(this)};function Yt(c){if($o(c),c.G==3){var g=c.U++,E=zn(c.I);if(ot(E,"SID",c.K),ot(E,"RID",g),ot(E,"TYPE","terminate"),yi(c,E),g=new wr(c,c.j,g),g.L=2,g.v=Zi(zn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.v,E=!0),E||(g.g=Uu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),lt(g)}ju(c)}function Cr(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function $o(c){Cr(c),c.u&&(d.clearTimeout(c.u),c.u=null),qo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function $r(c){if(!Un(c.h)&&!c.s){c.s=!0;var g=c.Ga;ke||ue(),$||(ke(),$=!0),fe.add(g,c),c.B=0}}function bd(c,g){return bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(_(c.Ga,c,g),Lu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new wr(this,this.j,c);let J=this.o;if(this.S&&(J?(J=b(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=rs(this,W,g),E=zn(this.I),ot(E,"RID",c),ot(E,"CVER",22),this.D&&ot(E,"X-HTTP-Session-Id",this.D),yi(this,E),J&&(this.O?g="headers="+encodeURIComponent(String(vi(J)))+"&"+g:this.m&&ns(E,this.m,J)),Xa(this.h,W),this.Ua&&ot(E,"TYPE","init"),this.P?(ot(E,"$req",g),ot(E,"SID","null"),W.T=!0,Mo(W,E,null)):Mo(W,E,g),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||Un(this.h)||Ho(this))};function Ho(c,g){var E;g?E=g.l:E=c.U++;const I=zn(c.I);ot(I,"SID",c.K),ot(I,"RID",E),ot(I,"AID",c.T),yi(c,I),c.m&&c.o&&ns(I,c.m,c.o),E=new wr(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),g&&(c.i=g.D.concat(c.i)),g=rs(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xa(c.h,E),Mo(E,I,g)}function yi(c,g){c.H&&ne(c.H,function(E,I){ot(g,I,E)}),c.l&&Xi({},function(E,I){ot(g,I,E)})}function rs(c,g,E){E=Math.min(c.i.length,E);var I=c.l?_(c.l.Na,c.l,c):null;e:{var W=c.i;let J=-1;for(;;){const ce=["count="+E];J==-1?0<E?(J=W[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let st=!0;for(let zt=0;zt<E;zt++){let Ge=W[zt].g;const Wt=W[zt].map;if(Ge-=J,0>Ge)J=Math.max(0,W[zt].g-100),st=!1;else try{Du(Wt,ce,"req"+Ge+"_")}catch{I&&I(Wt)}}if(st){I=ce.join("&");break e}}}return c=c.i.splice(0,E),g.D=c,I}function to(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ke||ue(),$||(ke(),$=!0),fe.add(g,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(_(c.Fa,c),Lu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Cr(this),Mu(this))};function nl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new wr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=zn(c.qa);ot(g,"RID","rpc"),ot(g,"SID",c.K),ot(g,"AID",c.T),ot(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(g,"TO",c.ja),ot(g,"TYPE","xmlhttp"),yi(c,g),c.m&&c.o&&ns(g,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Zi(zn(g)),E.m=null,E.P=!0,Ka(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Cr(this),Wo(this),_t(19))};function qo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Go(c,g){var E=null;if(c.g==g){qo(c),nl(c),c.g=null;var I=2}else if(gn(c.h,g))E=g.D,Au(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;I=fi(),It(I,new Gi(I,E)),$r(c)}else to(c);else if(W=g.s,W==3||W==0&&0<g.X||!(I==1&&bd(c,g)||I==2&&Wo(c)))switch(E&&0<E.length&&(g=c.h,g.i=g.i.concat(E)),W){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Lu(c,g){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*g}function _i(c,g){if(c.j.info("Error code "+g),g==2){var E=_(c.fb,c),I=c.Xa;const W=!I;I=new mi(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Js(I,"https"),Zi(I),W?Sd(I.toString(),E):Ou(I.toString(),E)}else _t(2);c.G=0,c.l&&c.l.sa(g),ju(c),$o(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const g=Pu(c.h);(g.length!=0||c.i.length!=0)&&(C(c.ka,g),C(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Fu(c,g,E){var I=E instanceof mi?zn(E):new mi(E);if(I.g!="")g&&(I.g=g+"."+I.g),Yi(I,I.s);else{var W=d.location;I=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var J=new mi(null);I&&Js(J,I),g&&(J.g=g),W&&Yi(J,W),E&&(J.l=E),I=J}return E=c.D,g=c.ya,E&&g&&ot(I,E,g),ot(I,"VER",c.la),yi(c,I),I}function Uu(c,g,E){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new gi({eb:E})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}n=rl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(c,g){return new vn(c,g)};function vn(c,g){Rt.call(this),this.g=new tl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!K(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!K(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hr(this)}N(vn,Rt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Yt(this.g)},vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Hs(c),c=E);g.i.push(new Cu(g.Ya++,c)),g.G==3&&$r(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,vn.aa.N.call(this)};function zu(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(zu,Yn);function Bu(){Wi.call(this),this.status=1}N(Bu,Wi);function Hr(c){this.g=c}N(Hr,rl),Hr.prototype.ua=function(){It(this.g,"a")},Hr.prototype.ta=function(c){It(this.g,new zu(c))},Hr.prototype.sa=function(c){It(this.g,new Bu)},Hr.prototype.ra=function(){It(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,GE=function(){return new Ko},qE=function(){return fi()},WE=Jn,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,eh=Ki,Do.COMPLETE="complete",HE=Do,Hi.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Nl=Hi,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,$E=mt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",L_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new ym("@firebase/firestore");function va(){return Co.logLevel}function me(n,...e){if(Co.logLevel<=He.DEBUG){const t=e.map(xm);Co.debug(`Firestore (${Fa}): ${n}`,...t)}}function Mi(n,...e){if(Co.logLevel<=He.ERROR){const t=e.map(xm);Co.error(`Firestore (${Fa}): ${n}`,...t)}}function Ns(n,...e){if(Co.logLevel<=He.WARN){const t=e.map(xm);Co.warn(`Firestore (${Fa}): ${n}`,...t)}}function xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KE(n,r,t)}function KE(n,e,t){let r=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Mi(r),new Error(r)}function it(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||KE(e,s,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class jR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new j_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function Mp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ze(r,s);{const a=XE(),u=BR(a.encode(F_(n,t)),a.encode(F_(e,t)));return u!==0?u:ze(r,s)}}t+=r>65535?2:1}return ze(n.length,e.length)}function F_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function Ra(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class Qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Qr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const r=Qr.isNumericId(e),s=Qr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ct extends Qr{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const $R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qr{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return $R.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new nn([U_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ct.fromString(e))}static fromName(e){return new Ce(ct.fromString(e).popFirst(5))}static empty(){return new Ce(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,e,t){if(!t)throw new de(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HR(n,e,t,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z_(n){if(!Ce.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function B_(n){if(Ce.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qh(n);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function fu(n,e){if(!JE(n))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new de(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,H_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*H_);return new pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$_)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ft("string",pt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new pt(0,0))}static max(){return new Le(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function WR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new pt(t+1,0):new pt(t,r));return new Os(s,Ce.empty(),e)}function qR(n){return new Os(n.readTime,n.key,Kl)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(Le.min(),Ce.empty(),Kl)}static max(){return new Os(Le.max(),Ce.empty(),Kl)}}function GR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==KR)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((s=>s?te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{u[m]=y,++d,d===a&&r(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new te(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function XR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function za(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function Yh(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function YR(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function JR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=W_(e)),e=ZR(n.get(t),e);return W_(e)}function ZR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case ZE:t+="";break;default:t+=a}}return t}function W_(n){return n+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??en.RED,this.left=s??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new en(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Ht(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tT("Invalid base64 string: "+a):a}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=ek.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="server_timestamp",rT="__type__",iT="__previous_value__",sT="__local_write_time__";function Dm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||t===void 0?void 0:t.stringValue)===nT}function Jh(n){const e=n.mapValue.fields[iT];return Dm(e)?Jh(e):e}function Ql(n){const e=Ds(n.mapValue.fields[sT].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,r,s,a,u,d,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const _h="(default)";class Xl{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",nk="__max__",Fc={mapValue:{}},aT="__vector__",wh="value";function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dm(n)?4:ik(n)?9007199254740991:rk(n)?10:11:Oe(28295,{value:n})}function ai(n,e){if(n===e)return!0;const t=Ms(n);if(t!==Ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ql(n).isEqual(Ql(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ds(s.timestampValue),d=Ds(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return Vs(s.bytesValue).isEqual(Vs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Nt(s.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(s.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Nt(s.integerValue)===Nt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Nt(s.doubleValue),d=Nt(a.doubleValue);return u===d?yh(u)===yh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(q_(u)!==q_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!ai(u[f],d[f])))return!1;return!0})(n,e);default:return Oe(52216,{left:n})}}function Yl(n,e){return(n.values||[]).find((t=>ai(t,e)))!==void 0}function ka(n,e){if(n===e)return 0;const t=Ms(n),r=Ms(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Nt(a.integerValue||a.doubleValue),f=Nt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return K_(n.timestampValue,e.timestampValue);case 4:return K_(Ql(n),Ql(e));case 5:return Mp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Vs(a),f=Vs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=ze(d[m],f[m]);if(y!==0)return y}return ze(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=ze(Nt(a.latitude),Nt(u.latitude));return d!==0?d:ze(Nt(a.longitude),Nt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Q_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,f,m,y;const T=a.fields||{},_=u.fields||{},A=(d=T[wh])===null||d===void 0?void 0:d.arrayValue,N=(f=_[wh])===null||f===void 0?void 0:f.arrayValue,O=ze(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:Q_(A,N)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Fc.mapValue&&u===Fc.mapValue)return 0;if(a===Fc.mapValue)return 1;if(u===Fc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let T=0;T<f.length&&T<y.length;++T){const _=Mp(f[T],y[T]);if(_!==0)return _;const A=ka(d[f[T]],m[y[T]]);if(A!==0)return A}return ze(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Oe(23264,{le:t})}}function K_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Ds(n),r=Ds(e),s=ze(t.seconds,r.seconds);return s!==0?s:ze(t.nanos,r.nanos)}function Q_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ka(t[s],r[s]);if(a)return a}return ze(t.length,r.length)}function xa(n){return Lp(n)}function Lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Vs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Lp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Lp(t.fields[u])}`;return s+"}"})(n.mapValue):Oe(61005,{value:n})}function th(n){switch(Ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(n);return e?16+th(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+th(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Fs(r.fields,((a,u)=>{s+=a.length+th(u)})),s})(n.mapValue);default:throw Oe(13486,{value:n})}}function X_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jp(n){return!!n&&"integerValue"in n}function Vm(n){return!!n&&"arrayValue"in n}function Y_(n){return!!n&&"nullValue"in n}function J_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nh(n){return!!n&&"mapValue"in n}function rk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oT])===null||t===void 0?void 0:t.stringValue)===aT}function Fl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Fl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(t)}setAll(e){let t=nn.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Fl(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];nh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Fs(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Vn(Fl(this.value))}}function lT(n){const e=[];return Fs(n.fields,((t,r)=>{const s=new nn([t]);if(nh(r)){const a=lT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Le.min(),Le.min(),Le.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,s){return new dn(e,1,t,Le.min(),r,s,0)}static newNoDocument(e,t){return new dn(e,2,t,Le.min(),Le.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Le.min(),Le.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.position=e,this.inclusive=t}}function Z_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),t.key):r=ka(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{}class jt extends uT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ak(e,t,r):t==="array-contains"?new ck(e,r):t==="in"?new hk(e,r):t==="not-in"?new dk(e,r):t==="array-contains-any"?new fk(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lk(e,r):new uk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ka(t,this.value)):t!==null&&Ms(this.value)===Ms(t)&&this.matchesComparison(ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends uT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Mr(e,t)}matches(e){return cT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function cT(n){return n.op==="and"}function hT(n){return ok(n)&&cT(n)}function ok(n){for(const e of n.filters)if(e instanceof Mr)return!1;return!0}function Fp(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+xa(n.value);if(hT(n))return n.filters.map((e=>Fp(e))).join(",");{const e=n.filters.map((t=>Fp(t))).join(",");return`${n.op}(${e})`}}function dT(n,e){return n instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)})(n,e):n instanceof Mr?(function(r,s){return s instanceof Mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&dT(u,s.filters[d])),!0):!1})(n,e):void Oe(19439)}function fT(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`})(n):n instanceof Mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(fT).join(" ,")+"}"})(n):"Filter"}class ak extends jt{constructor(e,t,r){super(e,t,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class lk extends jt{constructor(e,t){super(e,"in",t),this.keys=pT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uk extends jt{constructor(e,t){super(e,"not-in",t),this.keys=pT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class ck extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vm(t)&&Yl(t.arrayValue,this.value)}}class hk extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yl(this.value.arrayValue,t)}}class dk extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yl(this.value.arrayValue,t)}}class fk extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function tw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new pk(n,e,t,r,s,a,u)}function Mm(n){const e=Fe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Fp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xa(r))).join(",")),e.Pe=t}return e.Pe}function Lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ew(n.startAt,e.startAt)&&ew(n.endAt,e.endAt)}function Up(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mk(n,e,t,r,s,a,u,d){return new pu(n,e,t,r,s,a,u,d)}function jm(n){return new pu(n)}function nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mT(n){return n.collectionGroup!==null}function Ul(n){const e=Fe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(nn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Th(a,r))})),t.has(nn.keyField().canonicalString())||e.Te.push(new Th(nn.keyField(),r))}return e.Te}function ei(n){const e=Fe(n);return e.Ie||(e.Ie=gk(e,Ul(n))),e.Ie}function gk(n,e){if(n.limitType==="F")return tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Th(s.field,a)}));const t=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zp(n,e){const t=n.filters.concat([e]);return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bp(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return Lm(ei(n),ei(e))&&n.limitType===e.limitType}function gT(n){return`${Mm(ei(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>fT(s))).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>xa(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>xa(s))).join(",")),`Target(${r})`})(ei(n))}; limitType=${n.limitType})`}function ed(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Ul(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const m=Z_(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,Ul(r),s)||r.endAt&&!(function(u,d,f){const m=Z_(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,Ul(r),s))})(n,e)}function vk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vT(n){return(e,t)=>{let r=!1;for(const s of Ul(n)){const a=yk(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function yk(n,e,t){const r=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ka(f,m):Oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new Tt(Ce.comparator);function Li(){return _k}const yT=new Tt(Ce.comparator);function Ol(...n){let e=yT;for(const t of n)e=e.insert(t.key,t);return e}function _T(n){let e=yT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function _o(){return zl()}function wT(){return zl()}function zl(){return new xo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wk=new Tt(Ce.comparator),Ek=new Ht(Ce.comparator);function We(...n){let e=Ek;for(const t of n)e=e.add(t);return e}const Tk=new Ht(ze);function Sk(){return Tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function ET(n){return{integerValue:""+n}}function Ik(n,e){return YR(e)?ET(e):Fm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function Ck(n,e,t){return n instanceof Jl?(function(s,a){const u={fields:{[rT]:{stringValue:nT},[sT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Dm(a)&&(a=Jh(a)),a&&(u.fields[iT]=a),{mapValue:u}})(t,e):n instanceof Zl?ST(n,e):n instanceof eu?IT(n,e):(function(s,a){const u=TT(s,a),d=rw(u)+rw(s.Ee);return jp(u)&&jp(s.Ee)?ET(d):Fm(s.serializer,d)})(n,e)}function bk(n,e,t){return n instanceof Zl?ST(n,e):n instanceof eu?IT(n,e):t}function TT(n,e){return n instanceof Sh?(function(r){return jp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Jl extends td{}class Zl extends td{constructor(e){super(),this.elements=e}}function ST(n,e){const t=CT(e);for(const r of n.elements)t.some((s=>ai(s,r)))||t.push(r);return{arrayValue:{values:t}}}class eu extends td{constructor(e){super(),this.elements=e}}function IT(n,e){let t=CT(e);for(const r of n.elements)t=t.filter((s=>!ai(s,r)));return{arrayValue:{values:t}}}class Sh extends td{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function rw(n){return Nt(n.integerValue||n.doubleValue)}function CT(n){return Vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.field=e,this.transform=t}}function Pk(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Zl&&s instanceof Zl||r instanceof eu&&s instanceof eu?Ra(r.elements,s.elements,ai):r instanceof Sh&&s instanceof Sh?ai(r.Ee,s.Ee):r instanceof Jl&&s instanceof Jl})(n.transform,e.transform)}class Rk{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nd{}function bT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Um(n.key,Vr.none()):new mu(n.key,n.data,Vr.none());{const t=n.data,r=Vn.empty();let s=new Ht(nn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Us(n.key,r,new Gn(s.toArray()),Vr.none())}}function kk(n,e,t){n instanceof mu?(function(s,a,u){const d=s.value.clone(),f=sw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Us?(function(s,a,u){if(!rh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=sw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(AT(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Bl(n,e,t,r){return n instanceof mu?(function(a,u,d,f){if(!rh(a.precondition,u))return d;const m=a.value.clone(),y=ow(a.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Us?(function(a,u,d,f){if(!rh(a.precondition,u))return d;const m=ow(a.fieldTransforms,f,u),y=u.data;return y.setAll(AT(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(a,u,d){return rh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function xk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=TT(r.transform,s||null);a!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,a))}return t||null}function iw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ra(r,s,((a,u)=>Pk(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mu extends nd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Us extends nd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function AT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function sw(n,e,t){const r=new Map;it(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,bk(u,d,t[s]))}return r}function ow(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,Ck(a,u,e))}return r}class Um extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&kk(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wT();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=bT(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,((t,r)=>iw(t,r)))&&Ra(this.baseMutations,e.baseMutations,((t,r)=>iw(t,r)))}}class zm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){it(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return wk})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new zm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ke;function Mk(n){switch(n){case ee.OK:return Oe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function PT(n){if(n===void 0)return Mi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Mt.OK:return ee.OK;case Mt.CANCELLED:return ee.CANCELLED;case Mt.UNKNOWN:return ee.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ee.INTERNAL;case Mt.UNAVAILABLE:return ee.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ee.NOT_FOUND;case Mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Mt.ABORTED:return ee.ABORTED;case Mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Mt.DATA_LOSS:return ee.DATA_LOSS;default:return Oe(39323,{code:n})}}(Ke=Mt||(Mt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Rs([4294967295,4294967295],0);function aw(n){const e=XE().encode(n),t=new BE;return t.update(e),new Uint8Array(t.digest())}function lw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([s,a],0)]}class Bm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Rs.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(Rs.fromNumber(r)));return s.compare(Lk)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=aw(e),[r,s]=lw(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Bm(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const t=aw(e),[r,s]=lw(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rd(Le.min(),s,new Tt(ze),Li(),We())}}class gu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class RT{constructor(e,t){this.targetId=e,this.De=t}}class kT{constructor(e,t,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class uw{constructor(){this.ve=0,this.Ce=cw(),this.Fe=rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=We(),t=We(),r=We();return this.Ce.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}})),new gu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=cw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Li(),this.je=Uc(),this.Je=Uc(),this.He=new Tt(ze)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,s)=>{this.nt(s)&&t(s)}))}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const a=s.target;if(Up(a))if(r===0){const u=new Ce(a.path);this.Xe(t,u,dn.newNoDocument(u,Le.min()))}else it(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Vs(r).toUint8Array()}catch(f){if(f instanceof tT)return Ns("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Bm(u,s,a)}catch(f){return Ns(f instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),s++)})),s}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&Up(d.target)){const f=new Ce(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,dn.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=We();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const s=new rd(e,t,this.He,this.ze,r);return this.ze=Li(),this.je=Uc(),this.Je=Uc(),this.He=new Tt(ze),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new uw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ht(ze),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ht(ze),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Uc(){return new Tt(Ce.comparator)}function cw(){return new Tt(Ce.comparator)}const Fk={asc:"ASCENDING",desc:"DESCENDING"},Uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Bk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $p(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $k(n,e){return Ih(n,e.toTimestamp())}function ti(n){return it(!!n,49232),Le.fromTimestamp((function(t){const r=Ds(t);return new pt(r.seconds,r.nanos)})(n))}function $m(n,e){return Hp(n,e).canonicalString()}function Hp(n,e){const t=(function(s){return new ct(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NT(n){const e=ct.fromString(n);return it(LT(e),10190,{key:e.toString()}),e}function Wp(n,e){return $m(n.databaseId,e.path)}function op(n,e){const t=NT(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(DT(t))}function OT(n,e){return $m(n.databaseId,e)}function Hk(n){const e=NT(n);return e.length===4?ct.emptyPath():DT(e)}function qp(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DT(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hw(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function Wk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const y=m.code===void 0?ee.UNKNOWN:PT(m.code);return new de(y,m.message||"")})(u);t=new kT(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=op(n,r.document.name),a=ti(r.document.updateTime),u=r.document.createTime?ti(r.document.createTime):Le.min(),d=new Vn({mapValue:{fields:r.document.fields}}),f=dn.newFoundDocument(s,a,u,d),m=r.targetIds||[],y=r.removedTargetIds||[];t=new ih(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=op(n,r.document),a=r.readTime?ti(r.readTime):Le.min(),u=dn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new ih([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=op(n,r.document),a=r.removedTargetIds||[];t=new ih([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Vk(s,a),d=r.targetId;t=new RT(d,u)}}return t}function qk(n,e){let t;if(e instanceof mu)t={update:hw(n,e.key,e.value)};else if(e instanceof Um)t={delete:Wp(n,e.key)};else if(e instanceof Us)t={update:hw(n,e.key,e.data),updateMask:tx(e.fieldMask)};else{if(!(e instanceof Nk))return Oe(16599,{Rt:e.type});t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Jl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Oe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:$k(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(n,e.precondition)),t}function Gk(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?ti(s.updateTime):ti(a);return u.isEqual(Le.min())&&(u=ti(a)),new Rk(u,s.transformResults||[])})(t,e)))):[]}function Kk(n,e){return{documents:[OT(n,e.path)]}}function Qk(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OT(n,s);const a=(function(m){if(m.length!==0)return MT(Mr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((y=>(function(_){return{field:_a(_.field),direction:Jk(_.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=$p(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:s}}function Xk(n){let e=Hk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){it(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(T){const _=VT(T);return _ instanceof Mr&&hT(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(T){return T.map((_=>(function(N){return new Th(wa(N.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(_)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let _;return _=typeof T=="object"?T.value:T,Yh(_)?null:_})(t.limit));let f=null;t.startAt&&(f=(function(T){const _=!!T.before,A=T.values||[];return new Eh(A,_)})(t.startAt));let m=null;return t.endAt&&(m=(function(T){const _=!T.before,A=T.values||[];return new Eh(A,_)})(t.endAt)),mk(e,s,u,a,d,"F",f,m)}function Yk(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wa(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wa(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wa(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wa(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(wa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Mr.create(t.compositeFilter.filters.map((r=>VT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(n):Oe(30097,{filter:n})}function Jk(n){return Fk[n]}function Zk(n){return Uk[n]}function ex(n){return zk[n]}function _a(n){return{fieldPath:n.canonicalString()}}function wa(n){return nn.fromServerFormat(n.fieldPath)}function MT(n){return n instanceof jt?(function(t){if(t.op==="=="){if(J_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(Y_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(J_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(Y_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:Zk(t.op),value:t.value}}})(n):n instanceof Mr?(function(t){const r=t.getFilters().map((s=>MT(s)));return r.length===1?r[0]:{compositeFilter:{op:ex(t.op),filters:r}}})(n):Oe(54877,{filter:n})}function tx(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function LT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,r,s,a=Le.min(),u=Le.min(),d=rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.gt=e}}function rx(n){const e=Xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Dn=new sx}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Os.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class sx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ht(ct.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ht(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jT=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(jT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Na(0)}static ur(){return new Na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LruGarbageCollector",ox=1048576;function pw([n,e],[t,r]){const s=ze(n,t);return s===0?ze(e,r):s}class ax{constructor(e){this.Tr=e,this.buffer=new Ht(pw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(fw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){za(t)?me(fw,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Rr(3e5)}))}}class ux{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Xh.ue);const r=new ax(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(dw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dw):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,a,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,u=Date.now(),this.nthSequenceNumber(e,s)))).next((T=>(r=T,d=Date.now(),this.removeTargets(e,r,t)))).next((T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(m=Date.now(),va()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:T}))))}}function cx(n,e){return new ux(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.changes=new xo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Bl(r.mutation,s,Gn.empty(),pt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const s=_o();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Ol();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=_o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=Li();const u=zl(),d=(function(){return zl()})();return t.forEach(((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Us)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Bl(y.mutation,m,y.mutation.getFieldMask(),pt.now())):u.set(m.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>{var T;return d.set(m,new dx(y,(T=u.get(m))!==null&&T!==void 0?T:null))})),d)))}recalculateAndSaveOverlays(e,t){const r=zl();let s=new Tt(((u,d)=>u-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Gn.empty();y=d.applyToLocalView(m,y),r.set(f,y);const T=(s.get(d.batchId)||We()).add(f);s=s.insert(d.batchId,T)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,T=wT();y.forEach((_=>{if(!a.has(_)){const A=bT(t.get(_),r.get(_));A!==null&&T.set(_,A),a=a.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return te.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(_o());let d=Kl,f=a;return u.next((m=>te.forEach(m,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{f=f.insert(y,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,We()))).next((y=>({batchId:d,changes:_T(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((r=>{let s=Ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Ol();return this.indexManager.getCollectionParents(e,a).next((d=>te.forEach(d,(f=>{const m=(function(T,_){return new pu(_,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((y=>{y.forEach(((T,_)=>{u=u.insert(T,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,dn.newInvalidDocument(y)))}));let d=Ol();return u.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&Bl(y.mutation,m,Gn.empty(),pt.now()),ed(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(s){return{name:s.name,query:rx(s.bundledQuery),readTime:ti(s.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.overlays=new Tt(Ce.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_o();return te.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.wt(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=_o(),a=t.length+1,u=new Ce(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Tt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=_o(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=_o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=s)););return te.resolve(d)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Dk(t,r));let a=this.kr.get(t);a===void 0&&(a=We(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.qr=new Ht(Qt.Qr),this.$r=new Ht(Qt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Qt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ce(new ct([])),r=new Qt(t,e),s=new Qt(t,e+1),a=[];return this.$r.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ce(new ct([])),r=new Qt(t,e),s=new Qt(t,e+1);let a=We();return this.$r.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Qt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ce.comparator(e.key,t.key)||ze(e.Hr,t.Hr)}static Ur(e,t){return ze(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ht(Qt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ok(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Yr=this.Yr.add(new Qt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Om:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),s=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);a.push(d)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(ze);return t.forEach((s=>{const a=new Qt(s,0),u=new Qt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new Ce(a),0);let d=new Ht(ze);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Hr)),!0)}),u),te.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){it(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(t.mutations,(s=>{const a=new Qt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Qt(t,0),s=this.Yr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.ni=e,this.docs=(function(){return new Tt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():dn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Li();const u=t.path,d=new Ce(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||GR(qR(y),r)<=0||(s.has(y.key)||ed(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Oe(9500)}ri(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _x(this)}getSize(e){return te.resolve(this.size)}}class _x extends hx{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.persistence=e,this.ii=new xo((t=>Mm(t)),Lm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new Hm,this.targetCount=0,this._i=Na.ar()}forEachTarget(e,t){return this.ii.forEach(((r,s)=>t(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Na(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.ai={},this.overlays={},this.ui=new Xh(0),this.ci=!1,this.ci=!0,this.li=new gx,this.referenceDelegate=e(this),this.hi=new wx(this),this.indexManager=new ix,this.remoteDocumentCache=(function(s){return new yx(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new nx(t),this.Ti=new px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new vx(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new Ex(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return te.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class Ex extends QR{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ai=new Hm,this.Ri=null}static Vi(e){return new Wm(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(r=>{const s=Ce.fromPath(r);return this.fi(e,s).next((a=>{a||t.removeEntry(s,Le.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.gi=new xo((r=>JR(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=cx(this,t)}static Vi(e,t){return new Ch(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return te.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((a=>a?te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=th(e.data.value)),t}Sr(e,t,r){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new qm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return vb()?8:XR(fn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Tx;return this.ws(e,t,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)}))})).next((()=>a.result))}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(va()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(va()<=He.DEBUG&&me("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(va()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):te.resolve())}ps(e,t){if(nw(t))return te.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Bp(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=We(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ds(t,m,u,f.readTime)?this.ps(e,Bp(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,r,s){return nw(t)||s.isEqual(Le.min())?te.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,s)?te.resolve(null):(va()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ya(t)),this.vs(e,u,t,WR(s,Kl)).next((d=>d)))}))}bs(e,t){let r=new Ht(vT(e));return t.forEach(((s,a)=>{ed(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,t,r){return va()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ya(t)),this.gs.getDocumentsMatchingQuery(e,t,Os.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",Ix=3e8;class Cx{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new Tt(ze),this.Ms=new xo((a=>Mm(a)),Lm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function bx(n,e,t,r){return new Cx(n,e,t,r)}async function UT(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=We();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function Ax(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,y){const T=m.batch,_=T.keys();let A=te.resolve();return _.forEach((N=>{A=A.next((()=>y.getEntry(f,N))).next((O=>{const C=m.docVersions.get(N);it(C!==null,48541),O.version.compareTo(C)<0&&(T.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,T)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=We();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function zT(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Px(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const d=[];e.targetChanges.forEach(((y,T)=>{const _=s.get(T);if(!_)return;d.push(t.hi.removeMatchingKeys(a,y.removedDocuments,T).next((()=>t.hi.addMatchingKeys(a,y.addedDocuments,T))));let A=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(rn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(T,A),(function(O,C,z){return O.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Ix?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,A,y)&&d.push(t.hi.updateTargetData(a,A))}));let f=Li(),m=We();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(Rx(a,u,e.documentUpdates).next((y=>{f=y.Ls,m=y.ks}))),!r.isEqual(Le.min())){const y=t.hi.getLastRemoteSnapshotVersion(a).next((T=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return te.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=s,a)))}function Rx(n,e,t){let r=We(),s=We();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Li();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):me(Gm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Ls:u,ks:s}}))}function kx(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Om),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xx(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.hi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):t.hi.allocateTargetId(r).next((u=>(s=new Cs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function Gp(n,e,t){const r=Fe(n),s=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!za(u))throw u;me(Gm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function mw(n,e,t){const r=Fe(n);let s=Le.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,y){const T=Fe(f),_=T.Ms.get(y);return _!==void 0?te.resolve(T.Fs.get(_)):T.hi.getTargetData(m,y)})(r,u,ei(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Le.min(),t?a:We()))).next((d=>(Nx(r,vk(e),d),{documents:d,qs:a})))))}function Nx(n,e,t){let r=n.xs.get(e)||Le.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class gw{constructor(){this.activeTargetIds=Sk()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ox{constructor(){this.Fo=new gw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="ConnectivityMonitor";class yw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(vw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(vw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Kp(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mx{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=Kp(),d=this.Go(e,t.toUriEncodedString());me(ap,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,s,a);const{host:m}=new URL(d),y=Fi(m);return this.jo(e,d,f,r,y).then((T=>(me(ap,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Ns(ap,`RPC '${e}' ${u} failed with error: `,T,"url: ",d,"request:",r),T}))}Jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Go(e,t){const r=Vx[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class jx extends Mx{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,a){const u=Kp();return new Promise(((d,f)=>{const m=new $E;m.setWithCredentials(!0),m.listenOnce(HE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case eh.NO_ERROR:const T=m.getResponseJson();me(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case eh.TIMEOUT:me(un,`RPC '${e}' ${u} timed out`),f(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const _=m.getStatus();if(me(un,`RPC '${e}' ${u} failed with status:`,_,"response text:",m.getResponseText()),_>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const O=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN})(N.status);f(new de(O,N.message))}else f(new de(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{me(un,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);me(un,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",y,r,15)}))}P_(e,t,r){const s=Kp(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=GE(),d=qE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");me(un,`Creating RPC '${e}' stream ${s}: ${y}`,f);const T=u.createWebChannel(y,f);this.T_(T);let _=!1,A=!1;const N=new Lx({Ho:C=>{A?me(un,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(me(un,`Opening RPC '${e}' stream ${s} transport.`),T.open(),_=!0),me(un,`RPC '${e}' stream ${s} sending:`,C),T.send(C))},Yo:()=>T.close()}),O=(C,z,K)=>{C.listen(z,(Q=>{try{K(Q)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return O(T,Nl.EventType.OPEN,(()=>{A||(me(un,`RPC '${e}' stream ${s} transport opened.`),N.s_())})),O(T,Nl.EventType.CLOSE,(()=>{A||(A=!0,me(un,`RPC '${e}' stream ${s} transport closed`),N.__(),this.I_(T))})),O(T,Nl.EventType.ERROR,(C=>{A||(A=!0,Ns(un,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),N.__(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),O(T,Nl.EventType.MESSAGE,(C=>{var z;if(!A){const K=C.data[0];it(!!K,16349);const Q=K,Z=(Q==null?void 0:Q.error)||((z=Q[0])===null||z===void 0?void 0:z.error);if(Z){me(un,`RPC '${e}' stream ${s} received error:`,Z);const X=Z.status;let ne=(function(k){const j=Mt[k];if(j!==void 0)return PT(j)})(X),P=Z.message;ne===void 0&&(ne=ee.INTERNAL,P="Unknown error status: "+X+" with message "+Z.message),A=!0,N.__(new de(ne,P)),T.close()}else me(un,`RPC '${e}' stream ${s} received:`,K),N.a_(K)}})),O(d,WE.STAT_EVENT,(C=>{C.stat===Vp.PROXY?me(un,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Vp.NOPROXY&&me(un,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){return new Bk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="PersistentStream";class $T{constructor(e,t,r,s,a,u,d,f){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new BT(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===t&&this.W_(r,s)}),(r=>{e((()=>{const s=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return me(_w,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(me(_w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fx extends $T{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Wk(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?ti(u.readTime):Le.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=qp(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Up(f)?{documents:Kk(a,f)}:{query:Qk(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=xT(a,u.resumeToken);const m=$p(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Le.min())>0){d.readTime=Ih(a,u.snapshotVersion.toTimestamp());const m=$p(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=Yk(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.k_(t)}}class Ux extends $T{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Gk(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=qp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>qk(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class Bx extends zx{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Hp(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(ee.UNKNOWN,a.toString())}))}Jo(e,t,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,Hp(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class $x{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mi(t),this._a=!1):me("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class Hx{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{No(this)&&(me(bo,"Restarting streams for network reachability change."),await(async function(f){const m=Fe(f);m.Ia.add(4),await vu(m),m.Aa.set("Unknown"),m.Ia.delete(4),await sd(m)})(this))}))})),this.Aa=new $x(r,s)}}async function sd(n){if(No(n))for(const e of n.da)await e(!0)}async function vu(n){for(const e of n.da)await e(!1)}function HT(n,e){const t=Fe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Ym(t)?Xm(t):Ba(t).x_()&&Qm(t,e))}function Km(n,e){const t=Fe(n),r=Ba(t);t.Ta.delete(e),r.x_()&&WT(t,e),t.Ta.size===0&&(r.x_()?r.B_():No(t)&&t.Aa.set("Unknown"))}function Qm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ba(n).H_(e)}function WT(n,e){n.Ra.$e(e),Ba(n).Y_(e)}function Xm(n){n.Ra=new jk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ba(n).start(),n.Aa.aa()}function Ym(n){return No(n)&&!Ba(n).M_()&&n.Ta.size>0}function No(n){return Fe(n).Ia.size===0}function qT(n){n.Ra=void 0}async function Wx(n){n.Aa.set("Online")}async function qx(n){n.Ta.forEach(((e,t)=>{Qm(n,e)}))}async function Gx(n,e){qT(n),Ym(n)?(n.Aa.la(e),Xm(n)):n.Aa.set("Unknown")}async function Kx(n,e,t){if(n.Aa.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ta.delete(d),s.Ra.removeTarget(d))})(n,e)}catch(r){me(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(n,r)}else if(e instanceof ih?n.Ra.Ye(e):e instanceof RT?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Le.min()))try{const r=await zT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ta.get(m);y&&a.Ta.set(m,y.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const y=a.Ta.get(f);if(!y)return;a.Ta.set(f,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),WT(a,f);const T=new Cs(y.target,f,m,y.sequenceNumber);Qm(a,T)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){me(bo,"Failed to raise snapshot:",r),await bh(n,r)}}async function bh(n,e,t){if(!za(e))throw e;n.Ia.add(1),await vu(n),n.Aa.set("Offline"),t||(t=()=>zT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(bo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await sd(n)}))}function GT(n,e){return e().catch((t=>bh(n,t,e)))}async function od(n){const e=Fe(n),t=Ls(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Om;for(;Qx(e);)try{const s=await kx(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,Xx(e,s)}catch(s){await bh(e,s)}KT(e)&&QT(e)}function Qx(n){return No(n)&&n.Pa.length<10}function Xx(n,e){n.Pa.push(e);const t=Ls(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function KT(n){return No(n)&&!Ls(n).M_()&&n.Pa.length>0}function QT(n){Ls(n).start()}async function Yx(n){Ls(n).na()}async function Jx(n){const e=Ls(n);for(const t of n.Pa)e.X_(t.mutations)}async function Zx(n,e,t){const r=n.Pa.shift(),s=zm.from(r,e,t);await GT(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await od(n)}async function eN(n,e){e&&Ls(n).Z_&&await(async function(r,s){if((function(u){return Mk(u)&&u!==ee.ABORTED})(s.code)){const a=r.Pa.shift();Ls(r).N_(),await GT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await od(r)}})(n,e),KT(n)&&QT(n)}async function ww(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),me(bo,"RemoteStore received new credentials");const r=No(t);t.Ia.add(3),await vu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await sd(t)}async function tN(n,e){const t=Fe(n);e?(t.Ia.delete(2),await sd(t)):e||(t.Ia.add(2),await vu(t),t.Aa.set("Unknown"))}function Ba(n){return n.Va||(n.Va=(function(t,r,s){const a=Fe(t);return a.ia(),new Fx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:Wx.bind(null,n),e_:qx.bind(null,n),n_:Gx.bind(null,n),J_:Kx.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),Ym(n)?Xm(n):n.Aa.set("Unknown")):(await n.Va.stop(),qT(n))}))),n.Va}function Ls(n){return n.ma||(n.ma=(function(t,r,s){const a=Fe(t);return a.ia(),new Ux(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Yx.bind(null,n),n_:eN.bind(null,n),ea:Jx.bind(null,n),ta:Zx.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await od(n)):(await n.ma.stop(),n.Pa.length>0&&(me(bo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Jm(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),za(n))return new de(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ce.comparator(t.key,r.key):(t,r)=>Ce.comparator(t.key,r.key),this.keyedMap=Ol(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.fa=new Tt(Ce.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Oa{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Oa(e,t,Ia.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class rN{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=Fe(t),a=s.queries;s.queries=Tw(),a.forEach(((u,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function Tw(){return new xo((n=>gT(n)),Zh)}async function XT(n,e){const t=Fe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new nN,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(s,!0);break;case 1:a.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Zm(u,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&eg(t)}async function YT(n,e){const t=Fe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iN(n,e){const t=Fe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(s)&&(r=!0);u.ya=s}}r&&eg(t)}function sN(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(t);r.queries.delete(e)}function eg(n){n.Da.forEach((e=>{e.next()}))}var Qp,Sw;(Sw=Qp||(Qp={})).Fa="default",Sw.Cache="cache";class JT{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class oN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=We(),this.mutatedKeys=We(),this.Xa=vT(e),this.eu=new Ia(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new Ew,s=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,T)=>{const _=s.get(y),A=ed(this.query,T)?T:null,N=!!_&&this.mutatedKeys.has(_.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;_&&A?_.data.isEqual(A.data)?N!==O&&(r.track({type:3,doc:A}),C=!0):this.iu(_,A)||(r.track({type:2,doc:A}),C=!0,(f&&this.Xa(A,f)>0||m&&this.Xa(A,m)<0)&&(d=!0)):!_&&A?(r.track({type:0,doc:A}),C=!0):_&&!A&&(r.track({type:1,doc:_}),C=!0,(f||m)&&(d=!0)),C&&(A?(u=u.add(A),a=O?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((y,T)=>(function(A,N){const O=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:C})}};return O(A)-O(N)})(y.type,T.type)||this.Xa(y.doc,T.doc))),this.su(r),s=s!=null&&s;const d=t&&!s?this.ou():[],f=this.Za.size===0&&this.current&&!s?1:0,m=f!==this.Ya;return this.Ya=f,u.length!==0||m?{snapshot:new Oa(this.query,e.eu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ew,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=We(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new eS(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new ZT(r))})),t}uu(e){this.Ha=e.qs,this.Za=We();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Oa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const tg="SyncEngine";class aN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lN{constructor(e){this.key=e,this.lu=!1}}class uN{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new xo((d=>gT(d)),Zh),this.Tu=new Map,this.Iu=new Set,this.du=new Tt(Ce.comparator),this.Eu=new Map,this.Au=new Hm,this.Ru={},this.Vu=new Map,this.mu=Na.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function cN(n,e,t=!0){const r=oS(n);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await tS(r,e,t,!0),s}async function hN(n,e){const t=oS(n);await tS(t,e,!0,!1)}async function tS(n,e,t,r){const s=await xx(n.localStore,ei(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await dN(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&HT(n.remoteStore,s),d}async function dN(n,e,t,r,s){n.gu=(T,_,A)=>(async function(O,C,z,K){let Q=C.view.nu(z);Q.Ds&&(Q=await mw(O.localStore,C.query,!1).then((({documents:P})=>C.view.nu(P,Q))));const Z=K&&K.targetChanges.get(C.targetId),X=K&&K.targetMismatches.get(C.targetId)!=null,ne=C.view.applyChanges(Q,O.isPrimaryClient,Z,X);return Cw(O,C.targetId,ne._u),ne.snapshot})(n,T,_,A);const a=await mw(n.localStore,e,!0),u=new oN(e,a.qs),d=u.nu(a.documents),f=gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);Cw(n,t,m._u);const y=new aN(e,t,u);return n.Pu.set(e,y),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function fN(n,e,t){const r=Fe(n),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter((u=>!Zh(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Km(r.remoteStore,s.targetId),Xp(r,s.targetId)})).catch(Ua)):(Xp(r,s.targetId),await Gp(r.localStore,s.targetId,!0))}async function pN(n,e){const t=Fe(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Km(t.remoteStore,r.targetId))}async function mN(n,e,t){const r=TN(n);try{const s=await(function(u,d){const f=Fe(u),m=pt.now(),y=d.reduce(((A,N)=>A.add(N.key)),We());let T,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=Li(),O=We();return f.Os.getEntries(A,y).next((C=>{N=C,N.forEach(((z,K)=>{K.isValidDocument()||(O=O.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,N))).next((C=>{T=C;const z=[];for(const K of d){const Q=xk(K,T.get(K.key).overlayedDocument);Q!=null&&z.push(new Us(K.key,Q,lT(Q.value.mapValue),Vr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,z,d)})).next((C=>{_=C;const z=C.applyToLocalDocumentSet(T,O);return f.documentOverlayCache.saveOverlays(A,C.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:_T(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let m=u.Ru[u.currentUser.toKey()];m||(m=new Tt(ze)),m=m.insert(d,f),u.Ru[u.currentUser.toKey()]=m})(r,s.batchId,t),await yu(r,s.changes),await od(r.remoteStore)}catch(s){const a=Zm(s,"Failed to persist write");t.reject(a)}}async function nS(n,e){const t=Fe(n);try{const r=await Px(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Eu.get(a);u&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?it(u.lu,14607):s.removedDocuments.size>0&&(it(u.lu,42227),u.lu=!1))})),await yu(t,r,e)}catch(r){await Ua(r)}}function Iw(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=Fe(u);f.onlineState=d;let m=!1;f.queries.forEach(((y,T)=>{for(const _ of T.wa)_.va(d)&&(m=!0)})),m&&eg(f)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gN(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new Tt(Ce.comparator);u=u.insert(a,dn.newNoDocument(a,Le.min()));const d=We().add(a),f=new rd(Le.min(),new Map,new Tt(ze),u,d);await nS(r,f),r.du=r.du.remove(a),r.Eu.delete(e),ng(r)}else await Gp(r.localStore,e,!1).then((()=>Xp(r,e,t))).catch(Ua)}async function vN(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=await Ax(t.localStore,e);iS(t,r,null),rS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yu(t,s)}catch(s){await Ua(s)}}async function yN(n,e,t){const r=Fe(n);try{const s=await(function(u,d){const f=Fe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next((T=>(it(T!==null,37113),y=T.keys(),f.mutationQueue.removeMutationBatch(m,T)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);iS(r,e,t),rS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yu(r,s)}catch(s){await Ua(s)}}function rS(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function iS(n,e,t){const r=Fe(n);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Xp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||sS(n,r)}))}function sS(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Km(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ng(n))}function Cw(n,e,t){for(const r of t)r instanceof ZT?(n.Au.addReference(r.key,e),_N(n,r)):r instanceof eS?(me(tg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||sS(n,r.key)):Oe(19791,{yu:r})}function _N(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(me(tg,"New document in limbo: "+t),n.Iu.add(r),ng(n))}function ng(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ce(ct.fromString(e)),r=n.mu.next();n.Eu.set(r,new lN(t)),n.du=n.du.insert(t,r),HT(n.remoteStore,new Cs(ei(jm(t.path)),r,"TargetPurposeLimboResolution",Xh.ue))}}async function yu(n,e,t){const r=Fe(n),s=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{u.push(r.gu(f,e,t).then((m=>{var y;if((m||t)&&r.isPrimaryClient){const T=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(m){s.push(m);const T=qm.Es(f.targetId,m);a.push(T)}})))})),await Promise.all(u),r.hu.J_(s),await(async function(f,m){const y=Fe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(m,(_=>te.forEach(_.Is,(A=>y.persistence.referenceDelegate.addReference(T,_.targetId,A))).next((()=>te.forEach(_.ds,(A=>y.persistence.referenceDelegate.removeReference(T,_.targetId,A)))))))))}catch(T){if(!za(T))throw T;me(Gm,"Failed to update sequence numbers: "+T)}for(const T of m){const _=T.targetId;if(!T.fromCache){const A=y.Fs.get(_),N=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(N);y.Fs=y.Fs.insert(_,O)}}})(r.localStore,a))}async function wN(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){me(tg,"User change. New user:",e.toKey());const r=await UT(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((f=>{f.reject(new de(ee.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(t,r.Bs)}}function EN(n,e){const t=Fe(n),r=t.Eu.get(e);if(r&&r.lu)return We().add(r.key);{let s=We();const a=t.Tu.get(e);if(!a)return s;for(const u of a){const d=t.Pu.get(u);s=s.unionWith(d.view.tu)}return s}}function oS(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gN.bind(null,e),e.hu.J_=iN.bind(null,e.eventManager),e.hu.pu=sN.bind(null,e.eventManager),e}function TN(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return bx(this.persistence,new Sx,e.initialUser,this.serializer)}Du(e){return new FT(Wm.Vi,this.serializer)}bu(e){return new Ox}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class SN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){it(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lx(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new FT((r=>Ch.Vi(r,t)),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rN})()}createDatastore(e){const t=id(e.databaseInfo.databaseId),r=(function(a){return new jx(a)})(e.databaseInfo);return(function(a,u,d,f){return new Bx(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new Hx(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Iw(this.syncEngine,t,0)),(function(){return yw.C()?new yw:new Dx})())}createSyncEngine(e,t){return(function(s,a,u,d,f,m,y){const T=new uN(s,a,u,d,f,m);return y&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=Fe(s);me(bo,"RemoteStore shutting down."),a.Ia.add(5),await vu(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class IN{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{me(js,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(js,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function up(n,e){n.asyncQueue.verifyOperationInProgress(),me(js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await UT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{Ns("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Ns("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),n._offlineComponents=e}async function bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CN(n);me(js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ww(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>ww(e.remoteStore,s))),n._onlineComponents=e}async function CN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(js,"Using user provided OfflineComponentProvider");try{await up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ns("Error using user provided cache. Falling back to memory cache: "+t),await up(n,new Ah)}}else me(js,"Using default OfflineComponentProvider"),await up(n,new SN(void 0));return n._offlineComponents}async function lS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(js,"Using user provided OnlineComponentProvider"),await bw(n,n._uninitializedComponentsProvider._online)):(me(js,"Using default OnlineComponentProvider"),await bw(n,new Yp))),n._onlineComponents}function bN(n){return lS(n).then((e=>e.syncEngine))}async function uS(n){const e=await lS(n),t=e.eventManager;return t.onListen=cN.bind(null,e.syncEngine),t.onUnlisten=fN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),t}function AN(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const y=new aS({next:_=>{y.Ou(),u.enqueueAndForget((()=>YT(a,T)));const A=_.docs.has(d);!A&&_.fromCache?m.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&f&&f.source==="server"?m.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),T=new JT(jm(d.path),y,{includeMetadataChanges:!0,ka:!0});return XT(a,T)})(await uS(n),n.asyncQueue,e,t,r))),r.promise}function PN(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const y=new aS({next:_=>{y.Ou(),u.enqueueAndForget((()=>YT(a,T))),_.fromCache&&f.source==="server"?m.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),T=new JT(d,y,{includeMetadataChanges:!0,ka:!0});return XT(a,T)})(await uS(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firestore.googleapis.com",Pw=!0;class Rw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=Pw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ox)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VR;switch(r.type){case"firstParty":return new FR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Aw.get(t);r&&(me("ComponentProvider","Removing Datastore"),Aw.delete(t),r.terminate())})(this),Promise.resolve()}}function RN(n,e,t,r={}){var s;n=oi(n,ad);const a=Fi(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Bh(`https://${f}`),$h("Firestore",!0)),u.host!==hS&&u.host!==f&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!So(m,d)&&(n._setSettings(m),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=hn.MOCK_USER;else{y=tE(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new hn(_)}n._authCredentials=new MR(new QE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(fu(t,Ot._jsonSchema))return new Ot(e,r||null,new Ce(ct.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Ft("string",Ot._jsonSchemaVersion),referencePath:Ft("string")};class ks extends $a{constructor(e,t,r){super(e,t,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ce(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function dS(n,e,...t){if(n=ht(n),YE("collection","path",e),n instanceof ad){const r=ct.fromString(e,...t);return B_(r),new ks(n,null,r)}{if(!(n instanceof Ot||n instanceof ks))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return B_(r),new ks(n.firestore,null,r)}}function zs(n,e,...t){if(n=ht(n),arguments.length===1&&(e=Nm.newId()),YE("doc","path",e),n instanceof ad){const r=ct.fromString(e,...t);return z_(r),new Ot(n,null,new Ce(r))}{if(!(n instanceof Ot||n instanceof ks))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return z_(r),new Ot(n.firestore,n instanceof ks?n.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="AsyncQueue";class xw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new BT(this,"async_queue_retry"),this.oc=()=>{const r=lp();r&&me(kw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new xi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!za(e))throw e;me(kw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Mi("INTERNAL UNHANDLED ERROR: ",Nw(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Jm.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(s),s}ac(){this.tc&&Oe(47125,{hc:Nw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Nw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ha extends ad{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new xw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xw(e),this._firestoreClient=void 0,await e}}}function kN(n,e){const t=typeof n=="object"?n:Hh(),r=typeof n=="string"?n:_h,s=uu(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=vm("firestore");a&&RN(s,...a)}return s}function rg(n){if(n._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xN(n),n._firestoreClient}function xN(n){var e,t,r;const s=n._freezeSettings(),a=(function(d,f,m,y){return new tk(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,cS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new IN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cr(rn.fromBase64String(e))}catch(t){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,cr._jsonSchema))return cr.fromBase64String(e.bytes)}}cr._jsonSchemaVersion="firestore/bytes/1.0",cr._jsonSchema={type:Ft("string",cr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(fu(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:Ft("string",ni._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ri(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Ft("string",ri._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^__.*__$/;class ON{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new mu(e,this.data,t,this.fieldTransforms)}}class fS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:n})}}class ig{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ph(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pS(this.Ec)&&NN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class DN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||id(e)}Dc(e,t,r,s=!1){return new ig({Ec:e,methodName:t,bc:r,path:nn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=id(n._databaseId);return new DN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VN(n,e,t,r,s,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,s);ag("Data must be an object, but it was:",u,r);const d=mS(r,u);let f,m;if(a.merge)f=new Gn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const T of a.mergeFields){const _=Jp(e,T,t);if(!u.contains(_))throw new de(ee.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);vS(y,_)||y.push(_)}f=new Gn(y),m=u.fieldTransforms.filter((T=>f.covers(T.field)))}else f=null,m=u.fieldTransforms;return new ON(new Vn(d),f,m)}class cd extends ud{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}class og extends ud{_toFieldTransform(e){return new Ak(e.path,new Jl)}isEqual(e){return e instanceof og}}function MN(n,e,t,r){const s=n.Dc(1,e,t);ag("Data must be an object, but it was:",s,r);const a=[],u=Vn.empty();Fs(r,((f,m)=>{const y=lg(e,f,t);m=ht(m);const T=s.gc(y);if(m instanceof cd)a.push(y);else{const _=_u(m,T);_!=null&&(a.push(y),u.set(y,_))}}));const d=new Gn(a);return new fS(u,d,s.fieldTransforms)}function LN(n,e,t,r,s,a){const u=n.Dc(1,e,t),d=[Jp(e,r,t)],f=[s];if(a.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)d.push(Jp(e,a[_])),f.push(a[_+1]);const m=[],y=Vn.empty();for(let _=d.length-1;_>=0;--_)if(!vS(m,d[_])){const A=d[_];let N=f[_];N=ht(N);const O=u.gc(A);if(N instanceof cd)m.push(A);else{const C=_u(N,O);C!=null&&(m.push(A),y.set(A,C))}}const T=new Gn(m);return new fS(y,T,u.fieldTransforms)}function jN(n,e,t,r=!1){return _u(t,n.Dc(r?4:3,e))}function _u(n,e){if(gS(n=ht(n)))return ag("Unsupported field value:",e,n),mS(n,e);if(n instanceof ud)return(function(r,s){if(!pS(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=_u(d,s.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ik(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pt.fromDate(r);return{timestampValue:Ih(s.serializer,a)}}if(r instanceof pt){const a=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(s.serializer,a)}}if(r instanceof ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cr)return{bytesValue:xT(s.serializer,r._byteString)};if(r instanceof Ot){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$m(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ri)return(function(u,d){return{mapValue:{fields:{[oT]:{stringValue:aT},[wh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return Fm(d.serializer,m)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${Qh(r)}`)})(n,e)}function mS(n,e){const t={};return eT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(n,((r,s)=>{const a=_u(s,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function gS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof ni||n instanceof cr||n instanceof Ot||n instanceof ud||n instanceof ri)}function ag(n,e,t){if(!gS(t)||!JE(t)){const r=Qh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Jp(n,e,t){if((e=ht(e))instanceof ld)return e._internalPath;if(typeof e=="string")return lg(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const FN=new RegExp("[~\\*/\\[\\]]");function lg(n,e,t){if(e.search(FN)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ld(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new de(ee.INVALID_ARGUMENT,d+n+f)}function vS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ug("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UN extends yS{data(){return super.data()}}function ug(n,e){return typeof e=="string"?lg(n,e):e instanceof ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class BN extends cg{}function _S(n,e,...t){let r=[];e instanceof cg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof hg)).length,d=a.filter((f=>f instanceof hd)).length;if(u>1||u>0&&d>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class hd extends BN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hd(e,t,r)}_apply(e){const t=this._parse(e);return ES(e._query,t),new $a(e.firestore,e.converter,zp(e._query,t))}_parse(e){const t=sg(e.firestore);return(function(a,u,d,f,m,y,T){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Dw(T,y);const N=[];for(const O of T)N.push(Ow(f,a,O));_={arrayValue:{values:N}}}else _=Ow(f,a,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Dw(T,y),_=jN(d,u,T,y==="in"||y==="not-in");return jt.create(m,y,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wS(n,e,t){const r=e,s=ug("where",n);return hd._create(s,r,t)}class hg extends cg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)ES(u,f),u=zp(u,f)})(e._query,t),new $a(e.firestore,e.converter,zp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ow(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(e)&&t.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!Ce.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X_(n,new Ce(r))}if(t instanceof Ot)return X_(n,t._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function Dw(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $N{convertValue(e,t="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fs(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[wh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>Nt(u.doubleValue)));return new ri(a)}convertGeoPoint(e){return new ni(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);it(LT(r),9688,{name:e});const s=new Xl(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return s.isEqual(t)||Mi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends yS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:Ft("string",Eo._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class sh extends Eo{data(e={}){return super.data(e)}}class Ca{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Vl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new sh(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new sh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Vl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new sh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Vl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:WN(d.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){n=oi(n,Ot);const e=oi(n.firestore,Ha);return AN(rg(e),n._key).then((t=>KN(e,n,t)))}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:Ft("string",Ca._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class TS extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new cr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function SS(n){n=oi(n,$a);const e=oi(n.firestore,Ha),t=rg(e),r=new TS(e);return zN(n._query),PN(t,n._query).then((s=>new Ca(e,r,n,s)))}function dg(n,e,t){n=oi(n,Ot);const r=oi(n.firestore,Ha),s=HN(n.converter,e,t);return fg(r,[VN(sg(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Vr.none())])}function qN(n,e,t,...r){n=oi(n,Ot);const s=oi(n.firestore,Ha),a=sg(s);let u;return u=typeof(e=ht(e))=="string"||e instanceof ld?LN(a,"updateDoc",n._key,e,t,r):MN(a,"updateDoc",n._key,e),fg(s,[u.toMutation(n._key,Vr.exists(!0))])}function GN(n){return fg(oi(n.firestore,Ha),[new Um(n._key,Vr.none())])}function fg(n,e){return(function(r,s){const a=new xi;return r.asyncQueue.enqueueAndForget((async()=>mN(await bN(r),s,a))),a.promise})(rg(n),e)}function KN(n,e,t){const r=t.docs.get(e._key),s=new TS(n);return new Eo(n,s,e._key,r,new Vl(t.hasPendingWrites,t.fromCache),e.converter)}function Zp(){return new og("serverTimestamp")}(function(e,t=!0){(function(s){Fa=s})(ko),xs(new Oi("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ha(new LR(r.getProvider("auth-internal")),new UR(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(m.options.projectId,y)})(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),dr(M_,L_,e),dr(M_,L_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="type.googleapis.com/google.protobuf.Int64Value",XN="type.googleapis.com/google.protobuf.UInt64Value";function IS(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Rh(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Rh(e));if(typeof n=="function"||typeof n=="object")return IS(n,e=>Rh(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Da(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case QN:case XN:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Da(e)):typeof n=="function"||typeof n=="object"?IS(n,e=>Da(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mn extends Lr{constructor(e,t,r){super(`${pg}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Mn.prototype)}}function YN(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function kh(n,e){let t=YN(n),r=t,s;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!Vw[u])return new Mn("internal","internal");t=Vw[u],r=u}const d=a.message;typeof d=="string"&&(r=d),s=a.details,s!==void 0&&(s=Da(s))}}catch{}return t==="ok"?null:new Mn(t,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s==null||s.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="us-central1",ZN=/^data: (.*?)(?:\n|$)/;function eO(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Mn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class tO{constructor(e,t,r,s,a=em,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new JN(e,t,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=em}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function nO(n,e,t){const r=Fi(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(Bh(n.emulatorOrigin),$h("Functions",!0))}function rO(n,e,t){const r=s=>sO(n,e,s,{});return r.stream=(s,a)=>aO(n,e,s,a),r}async function iO(n,e,t,r){t["Content-Type"]="application/json";let s;try{s=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function CS(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function sO(n,e,t,r){const s=n._url(e);return oO(n,s,t,r)}async function oO(n,e,t,r){t=Rh(t);const s={data:t},a=await CS(n,r),u=r.timeout||7e4,d=eO(u),f=await Promise.race([iO(e,s,a,n.fetchImpl),d.promise,n.cancelAllRequests]);if(d.cancel(),!f)throw new Mn("cancelled","Firebase Functions instance was deleted.");const m=kh(f.status,f.json);if(m)throw m;if(!f.json)throw new Mn("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new Mn("internal","Response is missing data field.");return{data:Da(y)}}function aO(n,e,t,r){const s=n._url(e);return lO(n,s,t,r||{})}async function lO(n,e,t,r){var s;t=Rh(t);const a={data:t},u=await CS(n,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let d;try{d=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:r==null?void 0:r.signal})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const O=new Mn("cancelled","Request was cancelled.");return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}const N=kh(0,null);return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}let f,m;const y=new Promise((A,N)=>{f=A,m=N});(s=r==null?void 0:r.signal)===null||s===void 0||s.addEventListener("abort",()=>{const A=new Mn("cancelled","Request was cancelled.");m(A)});const T=d.body.getReader(),_=uO(T,f,m,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const A=_.getReader();return{async next(){const{value:N,done:O}=await A.read();return{value:N,done:O}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:y}}function uO(n,e,t,r){const s=(u,d)=>{const f=u.match(ZN);if(!f)return;const m=f[1];try{const y=JSON.parse(m);if("result"in y){e(Da(y.result));return}if("message"in y){d.enqueue(Da(y.message));return}if("error"in y){const T=kh(0,y);d.error(T),t(T);return}}catch(y){if(y instanceof Mn){d.error(y),t(y);return}}},a=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(r!=null&&r.aborted){const m=new Mn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:y}=await n.read();if(y){d.trim()&&s(d.trim(),u),u.close();return}if(r!=null&&r.aborted){const _=new Mn("cancelled","Request was cancelled");u.error(_),t(_),await n.cancel();return}d+=a.decode(m,{stream:!0});const T=d.split(`
`);d=T.pop()||"";for(const _ of T)_.trim()&&s(_.trim(),u);return f()}catch(m){const y=m instanceof Mn?m:kh(0,null);u.error(y),t(y)}}},cancel(){return n.cancel()}})}const Mw="@firebase/functions",Lw="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="auth-internal",hO="app-check-internal",dO="messaging-internal";function fO(n){const e=(t,{instanceIdentifier:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(cO),u=t.getProvider(dO),d=t.getProvider(hO);return new tO(s,a,u,d,r)};xs(new Oi(pg,e,"PUBLIC").setMultipleInstances(!0)),dr(Mw,Lw,n),dr(Mw,Lw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n=Hh(),e=em){const r=uu(ht(n),pg).getImmediate({identifier:e}),s=vm("functions");return s&&mO(r,...s),r}function mO(n,e,t){nO(ht(n),e,t)}function fr(n,e,t){return rO(ht(n),e)}fO();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebasestorage.googleapis.com",AS="storageBucket",gO=120*1e3,vO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends Lr{constructor(e,t,r=0){super(cp(e),`Firebase Storage: ${t} (${cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function cp(n){return"storage/"+n}function mg(){const n="An unknown error occurred, please check the error payload for server response.";return new Pt(At.UNKNOWN,n)}function yO(n){return new Pt(At.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function _O(n){return new Pt(At.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt(At.UNAUTHENTICATED,n)}function EO(){return new Pt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TO(n){return new Pt(At.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function SO(){return new Pt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IO(){return new Pt(At.CANCELED,"User canceled the upload/download.")}function CO(n){return new Pt(At.INVALID_URL,"Invalid URL '"+n+"'.")}function bO(n){return new Pt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function AO(){return new Pt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AS+"' property when initializing the app?")}function PO(){return new Pt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RO(){return new Pt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kO(n){return new Pt(At.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tm(n){return new Pt(At.INVALID_ARGUMENT,n)}function PS(){return new Pt(At.APP_DELETED,"The Firebase app was deleted.")}function xO(n){return new Pt(At.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(n,e){return new Pt(At.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pl(n){throw new Pt(At.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=En.makeFromUrl(e,t)}catch{return new En(e,"")}if(r.path==="")return r;throw bO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${T}/${y}/b/${s}/o${_}`,"i"),N={bucket:1,path:3},O=t===bS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",z=new RegExp(`^https?://${O}/${s}/${C}`,"i"),Q=[{regex:d,indices:f,postModify:a},{regex:A,indices:N,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<Q.length;Z++){const X=Q[Z],ne=X.regex.exec(e);if(ne){const P=ne[X.indices.bucket];let b=ne[X.indices.path];b||(b=""),r=new En(P,b),X.postModify(r);break}}if(r==null)throw CO(e);return r}}class NO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function y(...C){m||(m=!0,e.apply(null,C))}function T(C){s=setTimeout(()=>{s=null,n(A,f())},C)}function _(){a&&clearTimeout(a)}function A(C,...z){if(m){_();return}if(C){_(),y.call(null,C,...z);return}if(f()||u){_(),y.call(null,C,...z);return}r<64&&(r*=2);let Q;d===1?(d=2,Q=0):Q=(r+Math.random())*1e3,T(Q)}let N=!1;function O(C){N||(N=!0,_(),!m&&(s!==null?(C||(d=2),clearTimeout(s),T(0)):C||(d=1)))}return T(0),a=setTimeout(()=>{u=!0,O(!0)},t),O}function DO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n){return n!==void 0}function MO(n){return typeof n=="object"&&!Array.isArray(n)}function gg(n){return typeof n=="string"||n instanceof String}function jw(n){return vg()&&n instanceof Blob}function vg(){return typeof Blob<"u"}function nm(n,e,t,r){if(r<e)throw tm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw tm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var To;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(To||(To={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,r,s,a,u,d,f,m,y,T,_=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=T,this.retry=_,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Bc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===To.NO_ERROR,f=a.getStatus();if(!d||LO(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===To.ABORT;r(!1,new Bc(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Bc(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());VO(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=mg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?PS():IO();u(f)}else{const f=SO();u(f)}};this.canceled_?t(!1,new Bc(!1,null,!0)):this.backoffId_=OO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function FO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function BO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $O(n,e,t,r,s,a,u=!0,d=!1){const f=RS(n.urlParams),m=n.url+f,y=Object.assign({},n.headers);return zO(y,e),FO(y,t),UO(y,a),BO(y,r),new jO(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WO(...n){const e=HO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(vg())return new Blob(n);throw new Pt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){if(typeof atob>"u")throw kO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,t){this.data=e,this.contentType=t||null}}function KO(n,e){switch(n){case Jr.RAW:return new hp(kS(e));case Jr.BASE64:case Jr.BASE64URL:return new hp(xS(n,e));case Jr.DATA_URL:return new hp(XO(e),YO(e))}throw mg()}function kS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QO(n){let e;try{e=decodeURIComponent(n)}catch{throw $l(Jr.DATA_URL,"Malformed data URL.")}return kS(e)}function xS(n,e){switch(n){case Jr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw $l(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw $l(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=GO(e)}catch(s){throw s.message.includes("polyfill")?s:$l(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class NS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw $l(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=JO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XO(n){const e=new NS(n);return e.base64?xS(Jr.BASE64,e.rest):QO(e.rest)}function YO(n){return new NS(n).contentType}function JO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){let r=0,s="";jw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(jw(this.data_)){const r=this.data_,s=qO(r,e,t);return s===null?null:new Ss(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ss(r,!0)}}static getBlob(...e){if(vg()){const t=e.map(r=>r instanceof Ss?r.data_:r);return new Ss(WO.apply(null,t))}else{const t=e.map(u=>gg(u)?KO(Jr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new Ss(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n){let e;try{e=JSON.parse(n)}catch{return null}return MO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function OS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n,e){return e}class wn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||tD}}let $c=null;function nD(n){return!gg(n)||n.length<2?n:OS(n)}function DS(){if($c)return $c;const n=[];n.push(new wn("bucket")),n.push(new wn("generation")),n.push(new wn("metageneration")),n.push(new wn("name","fullPath",!0));function e(a,u){return nD(u)}const t=new wn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new wn("size");return s.xform=r,n.push(s),n.push(new wn("timeCreated")),n.push(new wn("updated")),n.push(new wn("md5Hash",null,!0)),n.push(new wn("cacheControl",null,!0)),n.push(new wn("contentDisposition",null,!0)),n.push(new wn("contentEncoding",null,!0)),n.push(new wn("contentLanguage",null,!0)),n.push(new wn("contentType",null,!0)),n.push(new wn("metadata","customMetadata",!0)),$c=n,$c}function rD(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new En(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function iD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return rD(r,n),r}function VS(n,e,t){const r=yg(e);return r===null?null:iD(n,r,t)}function sD(n,e,t,r){const s=yg(e);if(s===null||!gg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const y=n.bucket,T=n.fullPath,_="/b/"+u(y)+"/o/"+u(T),A=wu(_,t,r),N=RS({alt:"media",token:m});return A+N})[0]}function oD(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="prefixes",Uw="items";function aD(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Fw])for(const s of t[Fw]){const a=s.replace(/\/$/,""),u=n._makeStorageReference(new En(e,a));r.prefixes.push(u)}if(t[Uw])for(const s of t[Uw]){const a=n._makeStorageReference(new En(e,s.name));r.items.push(a)}return r}function lD(n,e,t){const r=yg(t);return r===null?null:aD(n,e,r)}class fd{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n){if(!n)throw mg()}function uD(n,e){function t(r,s){const a=VS(n,s,e);return _g(a!==null),a}return t}function cD(n,e){function t(r,s){const a=lD(n,e,s);return _g(a!==null),a}return t}function hD(n,e){function t(r,s){const a=VS(n,s,e);return _g(a!==null),sD(a,s,n.host,n._protocol)}return t}function wg(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=EO():s=wO():t.getStatus()===402?s=_O(n.bucket):t.getStatus()===403?s=TO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function MS(n){const e=wg(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=yO(n.path)),a.serverResponse=s.serverResponse,a}return t}function dD(n,e,t,r,s){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),s&&(a.maxResults=s);const u=e.bucketOnlyServerUrl(),d=wu(u,n.host,n._protocol),f="GET",m=n.maxOperationRetryTime,y=new fd(d,f,cD(n,e.bucket),m);return y.urlParams=a,y.errorHandler=wg(e),y}function fD(n,e,t){const r=e.fullServerUrl(),s=wu(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new fd(s,a,hD(n,t),u);return d.errorHandler=MS(e),d}function pD(n,e){const t=e.fullServerUrl(),r=wu(t,n.host,n._protocol),s="DELETE",a=n.maxOperationRetryTime;function u(f,m){}const d=new fd(r,s,u,a);return d.successCodes=[200,204],d.errorHandler=MS(e),d}function mD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function gD(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=mD(null,e)),r}function vD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let Q="";for(let Z=0;Z<2;Z++)Q=Q+Math.random().toString().slice(2);return Q}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=gD(e,r,s),y=oD(m,t),T="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",A=Ss.getBlob(T,r,_);if(A===null)throw PO();const N={name:m.fullPath},O=wu(a,n.host,n._protocol),C="POST",z=n.maxUploadRetryTime,K=new fd(O,C,uD(n,t),z);return K.urlParams=N,K.headers=u,K.body=A.uploadData(),K.errorHandler=wg(e),K}class yD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=To.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=To.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=To.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Pl("cannot .send() more than once");if(Fi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _D extends yD{initXhr(){this.xhr_.responseType="text"}}function pd(){return new _D}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this._service=e,t instanceof En?this._location=t:this._location=En.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ao(e,t)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OS(this._location.path)}get storage(){return this._service}get parent(){const e=ZO(this._location.path);if(e===null)return null;const t=new En(this._location.bucket,e);return new Ao(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xO(e)}}function wD(n,e,t){n._throwIfRoot("uploadBytes");const r=vD(n.storage,n._location,DS(),new Ss(e,!0),t);return n.storage.makeRequestWithTokens(r,pd).then(s=>({metadata:s,ref:n}))}function ED(n){const e={prefixes:[],items:[]};return LS(n,e).then(()=>e)}async function LS(n,e,t){const s=await TD(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await LS(n,e,s.nextPageToken)}function TD(n,e){e!=null&&typeof e.maxResults=="number"&&nm("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=dD(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,pd)}function SD(n){n._throwIfRoot("getDownloadURL");const e=fD(n.storage,n._location,DS());return n.storage.makeRequestWithTokens(e,pd).then(t=>{if(t===null)throw RO();return t})}function ID(n){n._throwIfRoot("deleteObject");const e=pD(n.storage,n._location);return n.storage.makeRequestWithTokens(e,pd)}function CD(n,e){const t=eD(n._location.path,e),r=new En(n._location.bucket,t);return new Ao(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){return/^[A-Za-z]+:\/\//.test(n)}function AD(n,e){return new Ao(n,e)}function jS(n,e){if(n instanceof Eg){const t=n;if(t._bucket==null)throw AO();const r=new Ao(t,t._bucket);return e!=null?jS(r,e):r}else return e!==void 0?CD(n,e):n}function PD(n,e){if(e&&bD(e)){if(n instanceof Eg)return AD(n,e);throw tm("To use ref(service, url), the first argument must be a Storage instance.")}else return jS(n,e)}function zw(n,e){const t=e==null?void 0:e[AS];return t==null?null:En.makeFromBucketSpec(t,n)}function RD(n,e,t,r={}){n.host=`${e}:${t}`;const s=Fi(e);s&&(Bh(`https://${n.host}/b`),$h("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:tE(a,n.app.options.projectId))}class Eg{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=bS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gO,this._maxUploadRetryTime=vO,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ao(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new NO(PS());{const u=$O(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Bw="@firebase/storage",$w="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="storage";function kD(n,e,t){return n=ht(n),wD(n,e,t)}function xD(n){return n=ht(n),ED(n)}function ND(n){return n=ht(n),SD(n)}function US(n){return n=ht(n),ID(n)}function Tg(n,e){return n=ht(n),PD(n,e)}function OD(n=Hh(),e){n=ht(n);const r=uu(n,FS).getImmediate({identifier:e}),s=vm("storage");return s&&DD(r,...s),r}function DD(n,e,t,r={}){RD(n,e,t,r)}function VD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Eg(t,r,s,e,ko)}function MD(){xs(new Oi(FS,VD,"PUBLIC").setMultipleInstances(!0)),dr(Bw,$w,""),dr(Bw,$w,"esm2017")}MD();const LD={apiKey:"AIzaSyBMwuPSGuAL3BC4KbmKv7BXwumOvQH4q_U",authDomain:"beastlyworkout-e05ac.firebaseapp.com",projectId:"beastlyworkout-e05ac",storageBucket:"beastlyworkout-e05ac.firebasestorage.app",messagingSenderId:"450850141428",appId:"1:450850141428:web:3cdba0ebf48acfa9f51aa1"},md=iE(LD),Tn=OR(md),li=kN(md),Sg=OD(md),pr=pO(md,"us-central1");EP(Tn,kE);fr(pr,"bootstrapFirstAdmin");fr(pr,"setUserRole");const jD=fr(pr,"ensureCoachAccess"),FD=fr(pr,"acceptCoachTrial"),UD=fr(pr,"getCoachAccessState"),zD=fr(pr,"completeClientOnboarding"),BD=fr(pr,"listCoachesForSupervisor"),$D=fr(pr,"activateCoachSubscription"),HD=fr(pr,"renewCoachSubscription"),WD=fr(pr,"disableCoachSubscription"),qD=fr(pr,"deleteMyProfile"),GD=fr(pr,"updateMyCoachPhone");async function KD(){return(await jD()).data}async function zS(){return(await FD()).data}async function Hw(){return(await UD()).data}async function QD(n){return(await zD(n)).data}async function XD(){return(await BD()).data}async function Ww(n){return(await $D({uid:n})).data}async function YD(n){return(await HD({uid:n})).data}async function JD(n){return(await WD({uid:n})).data}async function BS(){return(await qD()).data}async function ZD(n){return(await GD({phone:n})).data}async function e2(){return Tn.currentUser?Tn.currentUser.getIdTokenResult(!0):null}async function $S(n){const e=n??Tn.currentUser;if(!e)return null;try{const r=(await e.getIdTokenResult()).claims.role;return r==="admin"||r==="trainer"||r==="client"?r:null}catch(t){if((typeof t=="object"&&t&&"code"in t?String(t.code):"").includes("user-token-expired"))try{await e.getIdToken(!0);const a=(await e.getIdTokenResult()).claims.role;return a==="admin"||a==="trainer"||a==="client"?a:null}catch{return await qh(Tn),null}throw t}}async function t2(n){const e=n??Tn.currentUser;return e?(await e.getIdTokenResult()).claims.supervisor===!0:!1}function HS(){return{createdAt:Zp(),updatedAt:Zp()}}function WS(){return{updatedAt:Zp()}}function Oo(){var e;const n=(e=Tn.currentUser)==null?void 0:e.uid;if(!n)throw new Error("unauthenticated");return n}async function rm(n={}){const e=Oo(),t=zs(li,"users",e);return await dg(t,{uid:e,...HS(),...n},{merge:!0}),t}async function ba(n){const e=n??Oo();return dd(zs(li,"users",e))}async function n2(n){const e=n??Oo(),t=_S(dS(li,"users"),wS("assignedCoachId","==",e));return SS(t)}async function qS(n,e){return dd(zs(li,"users",n,"private",e))}async function r2(n,e){await dg(zs(li,"users",n,"private","onboarding"),{...e,...WS()},{merge:!0})}async function i2(n){const e=Oo(),t=zs(li,"plans",n.clientId);return await dg(t,{trainerId:e,clientId:n.clientId,status:n.status,title:n.title,description:n.description??"",exercises:n.exercises,clientNotes:"",lastViewedAt:null,...HS()}),t}async function GS(n,e){const t=e??Oo(),r=n==="client"?"clientId":"trainerId",s=_S(dS(li,"plans"),wS(r,"==",t));return SS(s)}async function s2(n){const e=n??Oo();return dd(zs(li,"plans",e))}async function o2(n,e){await qN(zs(li,"plans",n),{...e,...WS()})}async function a2(n){const e=zs(li,"plans",n),t=await dd(e);if(t.exists()){const r=t.data(),s=c2(r.exercises);await Promise.allSettled(s.map(d=>h2(d)));const a=typeof r.trainerId=="string"?r.trainerId:"",u=typeof r.clientId=="string"?r.clientId:"";a&&u&&await d2(a,u)}await GN(e)}async function l2(n,e){const t=Oo(),r=e.name.replace(/[^a-zA-Z0-9._-]/g,"_"),s=`${Date.now()}-${r}`,a=u2(t,n,s);return await kD(a,e,{contentType:e.type||"application/octet-stream"}),ND(a)}function u2(n,e,t){return Tg(Sg,`workout-media/${n}/${e}/${t}`)}function c2(n){if(!Array.isArray(n))return[];const e=new Set;for(const t of n){if(!t||typeof t!="object")continue;const r=t.imageUrl,s=t.mediaUrl;qw(r)&&e.add(r),qw(s)&&e.add(s)}return[...e]}function qw(n){return typeof n!="string"?!1:n.startsWith("gs://")||n.includes("firebasestorage.googleapis.com")||n.includes("firebasestorage.app")}async function h2(n){try{await US(Tg(Sg,n))}catch(e){console.warn("Unable to remove storage file",{url:n,error:e})}}async function d2(n,e){const t=Tg(Sg,`workout-media/${n}/${e}`);await KS(t)}async function KS(n){try{const{items:e,prefixes:t}=await xD(n);await Promise.allSettled(e.map(r=>US(r))),await Promise.allSettled(t.map(r=>KS(r)))}catch(e){console.warn("Unable to clear storage folder",{path:n.fullPath,error:e})}}function Wa(){const[n,e]=M.useState(!0),[t,r]=M.useState(Tn.currentUser),[s,a]=M.useState(null),[u,d]=M.useState(!1);return M.useEffect(()=>AE(Tn,async f=>{try{if(e(!0),r(f),!f){a(null),d(!1);return}await Ig(f);const m=await $S(f);a(m),d(await t2(f))}catch(m){(typeof m=="object"&&m&&"code"in m?String(m.code):"").includes("user-token-expired")&&(await qh(Tn),r(null)),a(null),d(!1)}finally{e(!1)}}),[]),M.useMemo(()=>({initializing:n,user:t,role:s,isSupervisor:u,isAuthenticated:!!t}),[n,t,s,u])}const im=new Pi;im.setCustomParameters({prompt:"select_account"});async function Ig(n){(await ba(n.uid)).exists()||await rm({email:n.email??"",displayName:n.displayName??"",role:"client"})}async function Gw(){try{const n=await zP(Tn,im);return await Ig(n.user),{redirected:!1,user:n.user}}catch(n){if(p2(n))return await GP(Tn,im),{redirected:!0,user:null};throw n}}async function f2(){try{const n=await QP(Tn);return n!=null&&n.user&&await Ig(n.user),n}catch(n){if((typeof n=="object"&&n&&"code"in n?String(n.code):"").includes("user-token-expired"))return await qh(Tn),null;throw n}}async function hr(){return qh(Tn)}function p2(n){if(!(typeof n=="object"&&n&&"code"in n))return!1;const e=String(n.code);return e==="auth/popup-blocked"||e==="auth/operation-not-supported-in-this-environment"}function QS(n){return n.replace(/[^\d]/g,"")}const m2="393405882404".trim(),XS=QS(m2);XS.length>6;function YS(n,e){const t=QS(e??XS),r=encodeURIComponent(n??"Ciao coach, avrei bisogno di un feedback sulla mia scheda.");return`https://wa.me/${t}?text=${r}`}function g2(n){return n.map(e=>({id:e.id,...e.data()}))}function xt(n){if(typeof n=="object"&&n&&"code"in n){const e=String(n.code);return e.includes("permission-denied")?"Non hai i permessi per questa azione.":e.includes("unauthenticated")?"La sessione  scaduta. Accedi di nuovo.":e.includes("invalid-argument")?"Alcuni dati non sono corretti. Controlla e riprova.":e.includes("failed-precondition")?"Manca una configurazione tecnica lato server. Riprova tra poco.":e.includes("internal")?"Qualcosa non ha funzionato. Riprova tra pochi secondi.":"Operazione non completata. Riprova."}if(n instanceof Error){const e=n.message.toLowerCase();return e.includes("token")||e.includes("credential")?"Sessione non valida. Esci e accedi di nuovo.":"Si  verificato un problema. Riprova."}return"Operazione non riuscita."}const ur="bw_login_intent";function v2(n){return n==="trainer"||n==="admin"}function y2(){const{user:n,role:e}=Wa(),t=ou(),{showError:r}=Uh(),[s,a]=M.useState(!1),[u,d]=M.useState(""),[f,m]=M.useState(!1),[y,T]=M.useState(!1),[_,A]=M.useState(null),[N,O]=M.useState(null),[C,z]=M.useState(!1),K=M.useRef(0),Q=M.useMemo(()=>YS("Ciao, vorrei richiedere accesso alla piattaforma Beastly Workout e sottoscrivere l'abbonamento coach.","393405882404"),[]);M.useEffect(()=>{async function D(){try{await f2()}catch(V){const R=xt(V);d(R),r(R)}}D()},[r]);async function Z(D=10){if(!n)return!1;for(let V=0;V<D;V+=1){await e2();const R=await $S(n);if(v2(R))return!0;await new Promise(he=>setTimeout(he,500))}return!1}async function X(){if(!n)return;const D=++K.current,V=()=>D!==K.current||y;m(!0),d("Sto preparando il tuo accesso coach...");try{if(await rm({email:n.email??"",displayName:n.displayName??"",coachAccessRequestedAt:new Date().toISOString()}),V())return;const R=await KD();if(V())return;const be=(await ba(n.uid)).data();if(!(typeof(be==null?void 0:be.phone)=="string"?be.phone.trim():"")){O({access:R,phone:""}),m(!1),d("");return}if(R.isExpired){if(await hr(),sessionStorage.removeItem(ur),V())return;A({mode:"expired",access:R});return}if(R.requiresTrialAcceptance){if(V())return;A({mode:"trial",access:R});return}const ke=await Z();if(V())return;if(!ke){d("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}sessionStorage.removeItem(ur),t("/app/coach",{replace:!0})}catch(R){if(V())return;const he=xt(R);d(he),r(he)}finally{V()||m(!1)}}async function ne(){if(!N||!n)return;const D=N.phone.replace(/[^\d+]/g,"").trim();if(D.length<8){d("Inserisci un numero WhatsApp valido.");return}z(!0),d("Salvo il tuo numero e completo la registrazione coach...");try{await rm({phone:D});const V=N.access;if(O(null),V.isExpired){await hr(),sessionStorage.removeItem(ur),A({mode:"expired",access:V});return}if(V.requiresTrialAcceptance){A({mode:"trial",access:V});return}if(!await Z()){d("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}sessionStorage.removeItem(ur),t("/app/coach",{replace:!0})}catch(V){const R=xt(V);d(R),r(R)}finally{z(!1)}}M.useEffect(()=>{async function D(){if(!n){m(!1),y||d("");return}if(f||y||N)return;if(sessionStorage.getItem(ur)==="coach"){await X();return}if(!e){t("/app/client",{replace:!0});return}t(e==="client"?"/app/client":"/app/coach",{replace:!0})}D()},[n,e,f,y,N]),M.useEffect(()=>{y&&(n||(T(!1),t("/auth",{replace:!0})))},[y,n,t]);async function P(){K.current+=1,T(!0),m(!1),d("Uscita in corso..."),sessionStorage.removeItem(ur),A(null),O(null);try{await hr()}catch(D){d(xt(D)),T(!1)}}async function b(){a(!0),d("Sto attivando il tuo periodo di prova...");try{const D=await zS();if(D.isExpired){await hr(),sessionStorage.removeItem(ur),A({mode:"expired",access:D});return}if(!await Z()){d("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}A(null),sessionStorage.removeItem(ur),t("/app/coach",{replace:!0})}catch(D){const V=xt(D);d(V),r(V)}finally{a(!1)}}async function k(){a(!0),d(""),A(null);try{if(sessionStorage.setItem(ur,"client"),(await Gw()).redirected){d("Ti sto reindirizzando a Google...");return}t("/app/client",{replace:!0})}catch(D){const V=xt(D);d(V),r(V)}finally{a(!1)}}async function j(){a(!0),d(""),A(null);try{sessionStorage.setItem(ur,"coach");const D=await Gw();if(D.redirected){d("Ti sto reindirizzando a Google...");return}if(!D.user){d("Accesso non completato. Riprova.");return}await X()}catch(D){const V=xt(D);d(V),r(V)}finally{a(!1)}}return(_==null?void 0:_.mode)==="trial"?w.jsx("main",{className:"page page-top",children:w.jsxs("section",{className:"card auth-card fullscreen-gate",children:[w.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),w.jsx("h1",{children:"Prova gratuita 15 giorni"}),w.jsx("p",{className:"hero-sub",children:"Hai 15 giorni gratuiti da oggi. Alla scadenza l'accesso sar bloccato finch non attiverai l'abbonamento."}),w.jsx("button",{className:"btn",type:"button",disabled:s,onClick:()=>void b(),children:s?"Attivazione...":"Accetta e continua"}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void P(),children:"Esci"})]})}):(_==null?void 0:_.mode)==="expired"?w.jsx("main",{className:"page page-top",children:w.jsxs("section",{className:"card auth-card fullscreen-gate",children:[w.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),w.jsx("h1",{children:"Periodo di prova terminato"}),w.jsx("p",{className:"hero-sub",children:"Per riattivare l'accesso alla piattaforma, contattaci su WhatsApp e richiedi la sottoscrizione dell'abbonamento."}),w.jsx("a",{className:"btn btn-whatsapp",href:Q,target:"_blank",rel:"noreferrer",children:"Richiedi attivazione su WhatsApp"}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>{A(null),sessionStorage.removeItem(ur)},children:"Torna all'accesso"})]})}):N?w.jsx("main",{className:"page page-top",children:w.jsxs("section",{className:"card auth-card fullscreen-gate",children:[w.jsx("p",{className:"eyebrow",children:"Registrazione Coach"}),w.jsx("h1",{children:"Inserisci numero WhatsApp"}),w.jsx("p",{className:"hero-sub",children:"Ultimo step obbligatorio: questo numero verr condiviso ai clienti associati al tuo codice coach."}),w.jsxs("label",{children:["Numero di telefono / WhatsApp *",w.jsx("input",{type:"tel",placeholder:"Es. 3405882404",value:N.phone,onChange:D=>O(V=>V&&{...V,phone:D.target.value})})]}),w.jsx("button",{className:"btn",type:"button",disabled:C,onClick:()=>void ne(),children:C?"Salvataggio...":"Continua"}),w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:C,onClick:()=>void P(),children:"Esci"}),u?w.jsx("p",{className:"message",children:u}):null]})}):n&&e&&sessionStorage.getItem(ur)!=="coach"?w.jsx(Or,{to:e==="client"?"/app/client":"/app/coach",replace:!0}):w.jsx("main",{className:"page page-center",children:w.jsxs("section",{className:"card auth-card",children:[w.jsx("img",{className:"auth-logo",src:"/brand/beastly-logo.jpeg",alt:"Beastly Workout logo"}),w.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),w.jsx("h1",{children:"Accedi con Google"}),w.jsx("p",{className:"hero-sub",children:"Entra in pochi secondi e inizia subito il tuo percorso."}),w.jsx("button",{className:"btn",disabled:s||f,onClick:()=>void k(),type:"button",children:s?"Connessione...":"Continua con Google"}),w.jsx("div",{className:"divider"}),w.jsx("h2",{children:"Sei un Coach?"}),w.jsx("p",{className:"hint",children:"Accedi o registrati come coach con Google."}),w.jsx("button",{className:"btn btn-ghost",disabled:s||f,onClick:()=>void j(),type:"button",children:f?"Verifica accesso coach...":"Continua come Coach"}),u?w.jsx("p",{className:"message",children:u}):null,w.jsx(JC,{})]})})}function JS({role:n,title:e,subtitle:t,headerAction:r,sections:s=[],activeSection:a,onSectionChange:u,children:d}){const f=s.length>0&&!!u,[m,y]=M.useState(!1),T=M.useMemo(()=>f?s.length<=4?s:s.slice(0,3):[],[f,s]),_=M.useMemo(()=>!f||s.length<=4?[]:s.slice(3),[f,s]),A=m?"__more__":a,N=m||!m&&_.some(C=>C.id===a);function O(C,z){const K=(z==="mobile"?A:a)===C.id,Q=z==="mobile"?C.mobileLabel??C.label:C.label;return w.jsxs("button",{className:`shell-tab shell-tab-${z} ${K?"shell-tab-active":""}`.trim(),type:"button",onClick:()=>{u==null||u(C.id),z==="mobile"&&y(!1)},"aria-current":K?"page":void 0,children:[C.icon?w.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:C.icon}):null,w.jsx("span",{className:"shell-tab-label",children:Q})]},`${z}-${C.id}`)}return w.jsxs("main",{className:`page shell-page ${n==="client"?"shell-client":"shell-coach"}`.trim(),children:[f?w.jsxs("aside",{className:"shell-sidebar desktop-only",children:[w.jsx("p",{className:"eyebrow",children:n==="client"?"Area Cliente":"Area Coach"}),w.jsx("h2",{children:e}),w.jsx("p",{className:"hint",children:t}),w.jsx("nav",{className:"shell-sidebar-nav",children:s.map(C=>O(C,"desktop"))}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void hr(),children:"Esci dal profilo"})]}):null,w.jsxs("section",{className:"shell-main",children:[w.jsxs("section",{className:"hero hero-compact",children:[w.jsx("p",{className:"eyebrow",children:n==="client"?"Area Cliente":"Area Coach"}),w.jsx("h1",{children:e}),w.jsx("p",{className:"hero-sub",children:t}),r,f?null:w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void hr(),children:"Esci dal profilo"})]}),w.jsx("section",{className:"stack app-stack",children:d})]}),w.jsxs("nav",{className:"mobile-nav shell-mobile-nav",children:[f?T.map(C=>O(C,"mobile")):w.jsxs("button",{className:"shell-tab shell-tab-mobile shell-tab-active",type:"button",children:[w.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),w.jsx("span",{className:"shell-tab-label",children:"Home"})]}),_.length>0?w.jsxs("button",{className:`shell-tab shell-tab-mobile ${N||m?"shell-tab-active":""}`.trim(),type:"button",onClick:()=>y(C=>!C),children:[w.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),w.jsx("span",{className:"shell-tab-label",children:"Altro"})]}):null,w.jsxs("button",{className:"shell-tab shell-tab-mobile",type:"button",onClick:()=>void hr(),children:[w.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),w.jsx("span",{className:"shell-tab-label",children:"Esci"})]})]}),m&&_.length>0?w.jsx("section",{className:"modal-overlay mobile-more-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card mobile-more-card",children:[w.jsx("h3",{children:"Altre sezioni"}),w.jsx("div",{className:"mobile-more-list",children:_.map(C=>w.jsxs("button",{className:`step-tab ${a===C.id?"step-tab-active":""}`.trim(),type:"button",onClick:()=>{u==null||u(C.id),y(!1)},children:[C.icon?`${C.icon} `:"",C.label]},`more-${C.id}`))}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>y(!1),children:"Chiudi"})]})}):null]})}function dp(n){try{const e=new URL(n);if(e.hostname.includes("youtu.be")){const t=e.pathname.replace("/","").trim();return t?`https://www.youtube.com/embed/${t}`:null}if(e.hostname.includes("youtube.com")){const t=e.searchParams.get("v");return t?`https://www.youtube.com/embed/${t}`:null}return null}catch{return null}}function Kw(n){return/\.(jpg|jpeg|png|gif|webp|avif|svg)(\?.*)?$/i.test(n)}function Qw(n){return/\.(mp4|webm|mov|m4v|ogg)(\?.*)?$/i.test(n)}function _2(n){return Array.isArray(n)?n.map(e=>{if(!e||typeof e!="object")return null;const t=e;return{name:typeof t.name=="string"?t.name:"",sets:typeof t.sets=="number"?t.sets:Number(t.sets??0)||0,reps:typeof t.reps=="number"?t.reps:Number(t.reps??0)||0,weight:typeof t.weight=="string"?t.weight:"",mediaUrl:typeof t.mediaUrl=="string"?t.mediaUrl:""}}).filter(e=>!!e):[]}function Xw(n){const e=n.replace(/[^\d+]/g,"").replace(/\s+/g,"");return e?e.startsWith("+")?e.slice(1):e.startsWith("00")?e.slice(2):e.startsWith("39")?e:e.length>=9?`39${e}`:e:""}function w2(){const{role:n,user:e}=Wa(),t=ou(),{showError:r}=Uh(),[s,a]=M.useState([]),[u,d]=M.useState(!1),[f,m]=M.useState(!0),[y,T]=M.useState(null),[_,A]=M.useState(null),[N,O]=M.useState("plan"),[C,z]=M.useState(!1),[K,Q]=M.useState(!1),[Z,X]=M.useState(""),ne="Ciao coach, avrei bisogno di un feedback sulla mia scheda.";M.useEffect(()=>{async function he(){if(e)try{const Se=(await ba(e.uid)).data();if(!(Se!=null&&Se.onboardingCompleted)){t("/onboarding",{replace:!0});return}}catch{t("/onboarding",{replace:!0});return}finally{m(!1)}}he()},[e,t]);async function P(){d(!0);try{const he=(e==null?void 0:e.uid)??"",be=he?await ba(he):null,Se=(be==null?void 0:be.data())??{},ke=he?await qS(he,"onboarding"):null;A((ke==null?void 0:ke.data())??null);let $=Xw(Se.assignedCoachPhone??"");if(!$&&Se.assignedCoachId)try{const ve=(await ba(Se.assignedCoachId)).data();$=Xw(typeof(ve==null?void 0:ve.phone)=="string"?ve.phone:"")}catch{$=""}X($);const fe=Array.from(new Set([he,(Se.uid??"").trim(),(Se.clientId??"").trim()].filter(le=>le.length>0))),ue=await Promise.allSettled(fe.flatMap(le=>[GS("client",le),s2(le)])),B=new Map;for(const le of ue){if(le.status!=="fulfilled")continue;const ve=le.value;if("docs"in ve)for(const Ee of g2(ve.docs))B.set(Ee.id,Ee);else if(ve.exists()){const Ee={id:ve.id,...ve.data()};B.set(Ee.id,Ee)}}const H=Array.from(B.values()).sort((le,ve)=>{const Ee=fe.includes(le.id)?0:1,xe=fe.includes(ve.id)?0:1;return Ee-xe});a(H)}catch(he){r(xt(he))}finally{d(!1)}}M.useEffect(()=>{e&&(n==="client"||n===null)&&P()},[n,e==null?void 0:e.uid]);async function b(){Q(!0);try{await BS(),await hr().catch(()=>{}),t("/auth",{replace:!0})}catch(he){r(xt(he))}finally{Q(!1),z(!1)}}const k=s[0],j=_2(k==null?void 0:k.exercises),D=Z.length>6,V=D?YS(ne,Z):"#",R=[{label:"Nome e cognome",value:_==null?void 0:_.fullName},{label:"E-mail",value:(_==null?void 0:_.email)??(e==null?void 0:e.email)},{label:"Telefono",value:_==null?void 0:_.phone},{label:"Et",value:_==null?void 0:_.age},{label:"Sesso",value:_==null?void 0:_.sex},{label:"Altezza",value:_!=null&&_.heightCm?`${_.heightCm} cm`:""},{label:"Peso",value:_!=null&&_.weightKg?`${_.weightKg} kg`:""},{label:"Obiettivo",value:_==null?void 0:_.objectivePrimary}].filter(he=>(he.value??"").toString().trim().length>0);return e?f?w.jsx("main",{className:"page page-center",children:w.jsxs("section",{className:"card auth-card",children:[w.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),w.jsx("h1",{children:"Prepariamo la tua area"}),w.jsx("p",{className:"hero-sub",children:"Sto verificando le informazioni del tuo profilo..."})]})}):w.jsxs(JS,{role:"client",subtitle:"Scheda tecnica e anagrafica in un unico spazio chiaro.",title:"La tua area",sections:[{id:"plan",label:"Scheda",mobileLabel:"Scheda",icon:""},{id:"profile",label:"Profilo",mobileLabel:"Profilo",icon:""}],activeSection:N,onSectionChange:he=>O(he),headerAction:w.jsx("div",{className:"mobile-only",children:w.jsx("a",{className:`btn btn-whatsapp ${D?"":"btn-disabled"}`.trim(),href:V,onClick:he=>{D||he.preventDefault()},target:"_blank",rel:"noreferrer",children:"Scrivi al tuo PT su WhatsApp"})}),children:[N==="plan"?w.jsxs(w.Fragment,{children:[w.jsxs("article",{className:"card desktop-only",children:[w.jsx("h2",{children:"Parla con il tuo Personal Trainer"}),w.jsx("p",{className:"hint",children:"Per feedback sulla scheda o qualsiasi dubbio, scrivi direttamente su WhatsApp."}),w.jsx("a",{className:`btn btn-whatsapp ${D?"":"btn-disabled"}`.trim(),href:V,onClick:he=>{D||he.preventDefault()},target:"_blank",rel:"noreferrer",children:"Apri chat WhatsApp"}),D?null:w.jsx("p",{className:"message",children:"Numero WhatsApp coach non ancora configurato."})]}),w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:"La tua scheda tecnica"}),k?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"plan-head",children:[w.jsx("p",{className:"hint",children:"Programma attivo"}),w.jsx("h3",{children:k.title})]}),w.jsx("div",{className:"exercise-grid",children:j.map((he,be)=>w.jsxs("article",{className:"exercise-card",children:[w.jsx("p",{className:"exercise-name",children:he.name||`Esercizio ${be+1}`}),w.jsxs("div",{className:"exercise-meta",children:[w.jsxs("span",{children:[he.sets??"-"," serie"]}),w.jsxs("span",{children:[he.reps||"-"," reps"]}),w.jsx("span",{children:he.weight||"Peso libero"})]}),he.mediaUrl?w.jsx("button",{className:"btn-link",type:"button",onClick:()=>T({url:he.mediaUrl,label:he.name||`Esercizio ${be+1}`}),children:dp(he.mediaUrl)||Qw(he.mediaUrl)?"Apri video":Kw(he.mediaUrl)?"Apri immagine":"Apri link"}):w.jsx("p",{className:"hint",children:"Nessun media allegato"})]},`plan-ex-${be}`))})]}):w.jsx("p",{className:"hint",children:"La tua scheda non  ancora disponibile. Il coach la pubblicher a breve."})]})]}):null,N==="profile"?w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:"Profilo e anagrafica"}),R.length>0?w.jsx("div",{className:"client-info-block",children:R.map(he=>w.jsxs("p",{className:"hint",children:[w.jsxs("strong",{children:[he.label,":"]})," ",he.value]},he.label))}):w.jsx("p",{className:"hint",children:"Anagrafica non ancora disponibile."}),w.jsx("a",{className:`btn btn-whatsapp ${D?"":"btn-disabled"}`.trim(),href:V,onClick:he=>{D||he.preventDefault()},target:"_blank",rel:"noreferrer",children:"Scrivi al tuo PT su WhatsApp"}),D?null:w.jsx("p",{className:"message",children:"Numero WhatsApp coach non ancora configurato."}),w.jsx("div",{className:"divider"}),w.jsx("h3",{children:"Elimina profilo"}),w.jsx("p",{className:"hint",children:"Se elimini il profilo perderai tutti i dati associati al tuo account, in linea con le policy aziendali."}),w.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>z(!0),children:"Elimina il mio profilo"})]}):null,u?w.jsx("p",{className:"message",children:"Caricamento..."}):null,y?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:y.label}),dp(y.url)?w.jsx("iframe",{title:y.label,src:dp(y.url)??void 0,className:"media-frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):Kw(y.url)?w.jsx("img",{src:y.url,alt:y.label,className:"media-frame media-image"}):Qw(y.url)?w.jsx("video",{src:y.url,controls:!0,className:"media-frame"}):w.jsxs("p",{className:"hint",children:["Anteprima non disponibile."," ",w.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",children:"Apri il link"})]}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>T(null),children:"Chiudi"})]})}):null,C?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:"Conferma eliminazione profilo"}),w.jsx("p",{className:"hint",children:"Eliminando il profilo perderai definitivamente account, anagrafica, scheda e dati collegati."}),w.jsx("p",{className:"hint",children:"L'operazione segue le policy aziendali. Termini, Condizioni d'uso e Privacy Policy verranno pubblicati e linkati qui."}),w.jsxs("div",{className:"onboarding-actions",children:[w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:K,onClick:()=>z(!1),children:"Annulla"}),w.jsx("button",{className:"btn btn-danger",type:"button",disabled:K,onClick:()=>void b(),children:K?"Eliminazione...":"Conferma eliminazione"})]})]})}):null]}):w.jsx(Or,{to:"/auth",replace:!0})}function Po(n){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(n)}function E2(n,e){if(Po(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZS(n){var e=E2(n,"string");return Po(e)=="symbol"?e:e+""}function Ml(n,e,t){return(e=ZS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Re(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yw(Object(t),!0).forEach(function(r){Ml(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function T2(n){if(Array.isArray(n))return n}function S2(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,d=[],f=!0,m=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(r=a.call(t)).done)&&(d.push(r.value),d.length!==e);f=!0);}catch(y){m=!0,s=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(m)throw s}}return d}}function sm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function eI(n,e){if(n){if(typeof n=="string")return sm(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sm(n,e):void 0}}function I2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ni(n,e){return T2(n)||S2(n,e)||eI(n,e)||I2()}function C2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Ui(n,e){if(n==null)return{};var t,r,s=C2(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var b2=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function A2(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,a=n.defaultValue,u=a===void 0?null:a,d=n.inputValue,f=n.menuIsOpen,m=n.onChange,y=n.onInputChange,T=n.onMenuClose,_=n.onMenuOpen,A=n.value,N=Ui(n,b2),O=M.useState(d!==void 0?d:t),C=Ni(O,2),z=C[0],K=C[1],Q=M.useState(f!==void 0?f:s),Z=Ni(Q,2),X=Z[0],ne=Z[1],P=M.useState(A!==void 0?A:u),b=Ni(P,2),k=b[0],j=b[1],D=M.useCallback(function($,fe){typeof m=="function"&&m($,fe),j($)},[m]),V=M.useCallback(function($,fe){var ue;typeof y=="function"&&(ue=y($,fe)),K(ue!==void 0?ue:$)},[y]),R=M.useCallback(function(){typeof _=="function"&&_(),ne(!0)},[_]),he=M.useCallback(function(){typeof T=="function"&&T(),ne(!1)},[T]),be=d!==void 0?d:z,Se=f!==void 0?f:X,ke=A!==void 0?A:k;return Re(Re({},N),{},{inputValue:be,menuIsOpen:Se,onChange:D,onInputChange:V,onMenuClose:he,onMenuOpen:R,value:ke})}function Ne(){return Ne=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ne.apply(null,arguments)}function P2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jw(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ZS(r.key),r)}}function R2(n,e,t){return e&&Jw(n.prototype,e),t&&Jw(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function om(n,e){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},om(n,e)}function k2(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&om(n,e)}function xh(n){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(n)}function tI(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tI=function(){return!!n})()}function x2(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function N2(n,e){if(e&&(Po(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2(n)}function O2(n){var e=tI();return function(){var t,r=xh(n);if(e){var s=xh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return N2(this,t)}}function D2(n){if(Array.isArray(n))return sm(n)}function V2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function M2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cg(n){return D2(n)||V2(n)||eI(n)||M2()}function L2(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function j2(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var F2=(function(){function n(t){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j2(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=L2(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),cn="-ms-",Nh="-moz-",tt="-webkit-",nI="comm",bg="rule",Ag="decl",U2="@import",rI="@keyframes",z2="@layer",B2=Math.abs,gd=String.fromCharCode,$2=Object.assign;function H2(n,e){return tn(n,0)^45?(((e<<2^tn(n,0))<<2^tn(n,1))<<2^tn(n,2))<<2^tn(n,3):0}function iI(n){return n.trim()}function W2(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function am(n,e){return n.indexOf(e)}function tn(n,e){return n.charCodeAt(e)|0}function tu(n,e,t){return n.slice(e,t)}function Xr(n){return n.length}function Pg(n){return n.length}function Hc(n,e){return e.push(n),n}function q2(n,e){return n.map(e).join("")}var vd=1,Va=1,sI=0,Ln=0,Lt=0,qa="";function yd(n,e,t,r,s,a,u){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:vd,column:Va,length:u,return:""}}function Rl(n,e){return $2(yd("",null,null,"",null,null,0),n,{length:-n.length},e)}function G2(){return Lt}function K2(){return Lt=Ln>0?tn(qa,--Ln):0,Va--,Lt===10&&(Va=1,vd--),Lt}function Kn(){return Lt=Ln<sI?tn(qa,Ln++):0,Va++,Lt===10&&(Va=1,vd++),Lt}function ii(){return tn(qa,Ln)}function oh(){return Ln}function Eu(n,e){return tu(qa,n,e)}function nu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oI(n){return vd=Va=1,sI=Xr(qa=n),Ln=0,[]}function aI(n){return qa="",n}function ah(n){return iI(Eu(Ln-1,lm(n===91?n+2:n===40?n+1:n)))}function Q2(n){for(;(Lt=ii())&&Lt<33;)Kn();return nu(n)>2||nu(Lt)>3?"":" "}function X2(n,e){for(;--e&&Kn()&&!(Lt<48||Lt>102||Lt>57&&Lt<65||Lt>70&&Lt<97););return Eu(n,oh()+(e<6&&ii()==32&&Kn()==32))}function lm(n){for(;Kn();)switch(Lt){case n:return Ln;case 34:case 39:n!==34&&n!==39&&lm(Lt);break;case 40:n===41&&lm(n);break;case 92:Kn();break}return Ln}function Y2(n,e){for(;Kn()&&n+Lt!==57;)if(n+Lt===84&&ii()===47)break;return"/*"+Eu(e,Ln-1)+"*"+gd(n===47?n:Kn())}function J2(n){for(;!nu(ii());)Kn();return Eu(n,Ln)}function Z2(n){return aI(lh("",null,null,null,[""],n=oI(n),0,[0],n))}function lh(n,e,t,r,s,a,u,d,f){for(var m=0,y=0,T=u,_=0,A=0,N=0,O=1,C=1,z=1,K=0,Q="",Z=s,X=a,ne=r,P=Q;C;)switch(N=K,K=Kn()){case 40:if(N!=108&&tn(P,T-1)==58){am(P+=nt(ah(K),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:P+=ah(K);break;case 9:case 10:case 13:case 32:P+=Q2(N);break;case 92:P+=X2(oh()-1,7);continue;case 47:switch(ii()){case 42:case 47:Hc(eV(Y2(Kn(),oh()),e,t),f);break;default:P+="/"}break;case 123*O:d[m++]=Xr(P)*z;case 125*O:case 59:case 0:switch(K){case 0:case 125:C=0;case 59+y:z==-1&&(P=nt(P,/\f/g,"")),A>0&&Xr(P)-T&&Hc(A>32?e0(P+";",r,t,T-1):e0(nt(P," ","")+";",r,t,T-2),f);break;case 59:P+=";";default:if(Hc(ne=Zw(P,e,t,m,y,s,d,Q,Z=[],X=[],T),a),K===123)if(y===0)lh(P,e,ne,ne,Z,a,T,d,X);else switch(_===99&&tn(P,3)===110?100:_){case 100:case 108:case 109:case 115:lh(n,ne,ne,r&&Hc(Zw(n,ne,ne,0,0,s,d,Q,s,Z=[],T),X),s,X,T,d,r?Z:X);break;default:lh(P,ne,ne,ne,[""],X,0,d,X)}}m=y=A=0,O=z=1,Q=P="",T=u;break;case 58:T=1+Xr(P),A=N;default:if(O<1){if(K==123)--O;else if(K==125&&O++==0&&K2()==125)continue}switch(P+=gd(K),K*O){case 38:z=y>0?1:(P+="\f",-1);break;case 44:d[m++]=(Xr(P)-1)*z,z=1;break;case 64:ii()===45&&(P+=ah(Kn())),_=ii(),y=T=Xr(Q=P+=J2(oh())),K++;break;case 45:N===45&&Xr(P)==2&&(O=0)}}return a}function Zw(n,e,t,r,s,a,u,d,f,m,y){for(var T=s-1,_=s===0?a:[""],A=Pg(_),N=0,O=0,C=0;N<r;++N)for(var z=0,K=tu(n,T+1,T=B2(O=u[N])),Q=n;z<A;++z)(Q=iI(O>0?_[z]+" "+K:nt(K,/&\f/g,_[z])))&&(f[C++]=Q);return yd(n,e,t,s===0?bg:d,f,m,y)}function eV(n,e,t){return yd(n,e,t,nI,gd(G2()),tu(n,2,-2),0)}function e0(n,e,t,r){return yd(n,e,t,Ag,tu(n,0,r),tu(n,r+1,-1),r)}function Aa(n,e){for(var t="",r=Pg(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function tV(n,e,t,r){switch(n.type){case z2:if(n.children.length)break;case U2:case Ag:return n.return=n.return||n.value;case nI:return"";case rI:return n.return=n.value+"{"+Aa(n.children,r)+"}";case bg:n.value=n.props.join(",")}return Xr(t=Aa(n.children,r))?n.return=n.value+"{"+t+"}":""}function nV(n){var e=Pg(n);return function(t,r,s,a){for(var u="",d=0;d<e;d++)u+=n[d](t,r,s,a)||"";return u}}function rV(n){return function(e){e.root||(e=e.return)&&n(e)}}function iV(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var sV=function(e,t,r){for(var s=0,a=0;s=a,a=ii(),s===38&&a===12&&(t[r]=1),!nu(a);)Kn();return Eu(e,Ln)},oV=function(e,t){var r=-1,s=44;do switch(nu(s)){case 0:s===38&&ii()===12&&(t[r]=1),e[r]+=sV(Ln-1,t,r);break;case 2:e[r]+=ah(s);break;case 4:if(s===44){e[++r]=ii()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=gd(s)}while(s=Kn());return e},aV=function(e,t){return aI(oV(oI(e),t))},t0=new WeakMap,lV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!t0.get(r))&&!s){t0.set(e,!0);for(var a=[],u=aV(t,a),d=r.props,f=0,m=0;f<u.length;f++)for(var y=0;y<d.length;y++,m++)e.props[m]=a[f]?u[f].replace(/&\f/g,d[y]):d[y]+" "+u[f]}}},uV=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function lI(n,e){switch(H2(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Nh+n+cn+n+n;case 6828:case 4268:return tt+n+cn+n+n;case 6165:return tt+n+cn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+cn+"flex-$1$2")+n;case 5443:return tt+n+cn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+cn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+cn+nt(n,"shrink","negative")+n;case 5292:return tt+n+cn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+cn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xr(n)-1-e>6)switch(tn(n,e+1)){case 109:if(tn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Nh+(tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~am(n,"stretch")?lI(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(tn(n,e+1)!==115)break;case 6444:switch(tn(n,Xr(n)-3-(~am(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(tn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+cn+"$2box$3")+n}break;case 5936:switch(tn(n,e+11)){case 114:return tt+n+cn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+cn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+cn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+cn+n+n}return n}var cV=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ag:e.return=lI(e.value,e.length);break;case rI:return Aa([Rl(e,{value:nt(e.value,"@","@"+tt)})],s);case bg:if(e.length)return q2(e.props,function(a){switch(W2(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Aa([Rl(e,{props:[nt(a,/:(read-\w+)/,":"+Nh+"$1")]})],s);case"::placeholder":return Aa([Rl(e,{props:[nt(a,/:(plac\w+)/,":"+tt+"input-$1")]}),Rl(e,{props:[nt(a,/:(plac\w+)/,":"+Nh+"$1")]}),Rl(e,{props:[nt(a,/:(plac\w+)/,cn+"input-$1")]})],s)}return""})}},hV=[cV],dV=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(O){var C=O.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var s=e.stylisPlugins||hV,a={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var C=O.getAttribute("data-emotion").split(" "),z=1;z<C.length;z++)a[C[z]]=!0;d.push(O)});var f,m=[lV,uV];{var y,T=[tV,rV(function(O){y.insert(O)})],_=nV(m.concat(s,T)),A=function(C){return Aa(Z2(C),_)};f=function(C,z,K,Q){y=K,A(C?C+"{"+z.styles+"}":z.styles),Q&&(N.inserted[z.name]=!0)}}var N={key:t,sheet:new F2({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return N.sheet.hydrate(d),N},fp={exports:{}},rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function fV(){if(n0)return rt;n0=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,T=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,N=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,z=n?Symbol.for("react.responder"):60118,K=n?Symbol.for("react.scope"):60119;function Q(X){if(typeof X=="object"&&X!==null){var ne=X.$$typeof;switch(ne){case e:switch(X=X.type,X){case f:case m:case r:case a:case s:case T:return X;default:switch(X=X&&X.$$typeof,X){case d:case y:case N:case A:case u:return X;default:return ne}}case t:return ne}}}function Z(X){return Q(X)===m}return rt.AsyncMode=f,rt.ConcurrentMode=m,rt.ContextConsumer=d,rt.ContextProvider=u,rt.Element=e,rt.ForwardRef=y,rt.Fragment=r,rt.Lazy=N,rt.Memo=A,rt.Portal=t,rt.Profiler=a,rt.StrictMode=s,rt.Suspense=T,rt.isAsyncMode=function(X){return Z(X)||Q(X)===f},rt.isConcurrentMode=Z,rt.isContextConsumer=function(X){return Q(X)===d},rt.isContextProvider=function(X){return Q(X)===u},rt.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},rt.isForwardRef=function(X){return Q(X)===y},rt.isFragment=function(X){return Q(X)===r},rt.isLazy=function(X){return Q(X)===N},rt.isMemo=function(X){return Q(X)===A},rt.isPortal=function(X){return Q(X)===t},rt.isProfiler=function(X){return Q(X)===a},rt.isStrictMode=function(X){return Q(X)===s},rt.isSuspense=function(X){return Q(X)===T},rt.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===r||X===m||X===a||X===s||X===T||X===_||typeof X=="object"&&X!==null&&(X.$$typeof===N||X.$$typeof===A||X.$$typeof===u||X.$$typeof===d||X.$$typeof===y||X.$$typeof===C||X.$$typeof===z||X.$$typeof===K||X.$$typeof===O)},rt.typeOf=Q,rt}var r0;function pV(){return r0||(r0=1,fp.exports=fV()),fp.exports}var pp,i0;function mV(){if(i0)return pp;i0=1;var n=pV(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function u(N){return n.isMemo(N)?s:a[N.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,_=Object.prototype;function A(N,O,C){if(typeof O!="string"){if(_){var z=T(O);z&&z!==_&&A(N,z,C)}var K=f(O);m&&(K=K.concat(m(O)));for(var Q=u(N),Z=u(O),X=0;X<K.length;++X){var ne=K[X];if(!t[ne]&&!(C&&C[ne])&&!(Z&&Z[ne])&&!(Q&&Q[ne])){var P=y(O,ne);try{d(N,ne,P)}catch{}}}}return N}return pp=A,pp}mV();var gV=!0;function vV(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var uI=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||gV===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},yV=function(e,t,r){uI(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function _V(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},EV=/[A-Z]|^ms/g,TV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cI=function(e){return e.charCodeAt(1)===45},s0=function(e){return e!=null&&typeof e!="boolean"},mp=iV(function(n){return cI(n)?n:n.replace(EV,"-$&").toLowerCase()}),o0=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(TV,function(r,s,a){return Yr={name:s,styles:a,next:Yr},s})}return wV[e]!==1&&!cI(e)&&typeof t=="number"&&t!==0?t+"px":t};function ru(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Yr={name:s.name,styles:s.styles,next:Yr},s.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)Yr={name:u.name,styles:u.styles,next:Yr},u=u.next;var d=a.styles+";";return d}return SV(n,e,t)}case"function":{if(n!==void 0){var f=Yr,m=t(n);return Yr=f,ru(n,e,m)}break}}var y=t;return y}function SV(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=ru(n,e,t[s])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var d=u;s0(d)&&(r+=mp(a)+":"+o0(a,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var f=0;f<u.length;f++)s0(u[f])&&(r+=mp(a)+":"+o0(a,u[f])+";");else{var m=ru(n,e,u);switch(a){case"animation":case"animationName":{r+=mp(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}return r}var a0=/label:\s*([^\s;{]+)\s*(;|$)/g,Yr;function hI(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";Yr=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,s+=ru(t,e,a);else{var u=a;s+=u[0]}for(var d=1;d<n.length;d++)if(s+=ru(t,e,n[d]),r){var f=a;s+=f[d]}a0.lastIndex=0;for(var m="",y;(y=a0.exec(s))!==null;)m+="-"+y[1];var T=_V(s)+m;return{name:T,styles:s,next:Yr}}var IV=function(e){return e()},CV=Ip.useInsertionEffect?Ip.useInsertionEffect:!1,bV=CV||IV,dI=M.createContext(typeof HTMLElement<"u"?dV({key:"css"}):null);dI.Provider;var AV=function(e){return M.forwardRef(function(t,r){var s=M.useContext(dI);return e(t,s,r)})},PV=M.createContext({}),Rg={}.hasOwnProperty,um="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",RV=function(e,t){var r={};for(var s in t)Rg.call(t,s)&&(r[s]=t[s]);return r[um]=e,r},kV=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return uI(t,r,s),bV(function(){return yV(t,r,s)}),null},xV=AV(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[um],a=[r],u="";typeof n.className=="string"?u=vV(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var d=hI(a,void 0,M.useContext(PV));u+=e.key+"-"+d.name;var f={};for(var m in n)Rg.call(n,m)&&m!=="css"&&m!==um&&(f[m]=n[m]);return f.className=u,t&&(f.ref=t),M.createElement(M.Fragment,null,M.createElement(kV,{cache:e,serialized:d,isStringTag:typeof s=="string"}),M.createElement(s,f))}),NV=xV,Ie=function(e,t){var r=arguments;if(t==null||!Rg.call(t,"css"))return M.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=NV,a[1]=RV(e,t);for(var u=2;u<s;u++)a[u]=r[u];return M.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Ie||(Ie={}));function kg(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return hI(e)}function OV(){var n=kg.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function DV(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const VV=Math.min,MV=Math.max,Oh=Math.round,Wc=Math.floor,Dh=n=>({x:n,y:n});function LV(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function _d(){return typeof window<"u"}function fI(n){return mI(n)?(n.nodeName||"").toLowerCase():"#document"}function ji(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function pI(n){var e;return(e=(mI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function mI(n){return _d()?n instanceof Node||n instanceof ji(n).Node:!1}function jV(n){return _d()?n instanceof Element||n instanceof ji(n).Element:!1}function xg(n){return _d()?n instanceof HTMLElement||n instanceof ji(n).HTMLElement:!1}function l0(n){return!_d()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ji(n).ShadowRoot}const FV=new Set(["inline","contents"]);function gI(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Ng(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!FV.has(s)}function UV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zV=new Set(["html","body","#document"]);function BV(n){return zV.has(fI(n))}function Ng(n){return ji(n).getComputedStyle(n)}function $V(n){if(fI(n)==="html")return n;const e=n.assignedSlot||n.parentNode||l0(n)&&n.host||pI(n);return l0(e)?e.host:e}function vI(n){const e=$V(n);return BV(e)?n.ownerDocument?n.ownerDocument.body:n.body:xg(e)&&gI(e)?e:vI(e)}function Vh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=vI(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=ji(s);if(a){const d=cm(u);return e.concat(u,u.visualViewport||[],gI(s)?s:[],d&&t?Vh(d):[])}return e.concat(s,Vh(s,[],t))}function cm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function HV(n){const e=Ng(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xg(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=Oh(t)!==a||Oh(r)!==u;return d&&(t=a,r=u),{width:t,height:r,$:d}}function Og(n){return jV(n)?n:n.contextElement}function u0(n){const e=Og(n);if(!xg(e))return Dh(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=HV(e);let u=(a?Oh(t.width):t.width)/r,d=(a?Oh(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const WV=Dh(0);function qV(n){const e=ji(n);return!UV()||!e.visualViewport?WV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GV(n,e,t){return!1}function c0(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=Og(n);let u=Dh(1);e&&(u=u0(n));const d=GV()?qV(a):Dh(0);let f=(s.left+d.x)/u.x,m=(s.top+d.y)/u.y,y=s.width/u.x,T=s.height/u.y;if(a){const _=ji(a),A=r;let N=_,O=cm(N);for(;O&&r&&A!==N;){const C=u0(O),z=O.getBoundingClientRect(),K=Ng(O),Q=z.left+(O.clientLeft+parseFloat(K.paddingLeft))*C.x,Z=z.top+(O.clientTop+parseFloat(K.paddingTop))*C.y;f*=C.x,m*=C.y,y*=C.x,T*=C.y,f+=Q,m+=Z,N=ji(O),O=cm(N)}}return LV({width:y,height:T,x:f,y:m})}function yI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function KV(n,e){let t=null,r;const s=pI(n);function a(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:y,top:T,width:_,height:A}=m;if(d||e(),!_||!A)return;const N=Wc(T),O=Wc(s.clientWidth-(y+_)),C=Wc(s.clientHeight-(T+A)),z=Wc(y),Q={rootMargin:-N+"px "+-O+"px "+-C+"px "+-z+"px",threshold:MV(0,VV(1,f))||1};let Z=!0;function X(ne){const P=ne[0].intersectionRatio;if(P!==f){if(!Z)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!yI(m,n.getBoundingClientRect())&&u(),Z=!1}try{t=new IntersectionObserver(X,{...Q,root:s.ownerDocument})}catch{t=new IntersectionObserver(X,Q)}t.observe(n)}return u(!0),a}function QV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Og(n),y=s||a?[...m?Vh(m):[],...Vh(e)]:[];y.forEach(z=>{s&&z.addEventListener("scroll",t,{passive:!0}),a&&z.addEventListener("resize",t)});const T=m&&d?KV(m,t):null;let _=-1,A=null;u&&(A=new ResizeObserver(z=>{let[K]=z;K&&K.target===m&&A&&(A.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var Q;(Q=A)==null||Q.observe(e)})),t()}),m&&!f&&A.observe(m),A.observe(e));let N,O=f?c0(n):null;f&&C();function C(){const z=c0(n);O&&!yI(O,z)&&t(),O=z,N=requestAnimationFrame(C)}return t(),()=>{var z;y.forEach(K=>{s&&K.removeEventListener("scroll",t),a&&K.removeEventListener("resize",t)}),T==null||T(),(z=A)==null||z.disconnect(),A=null,f&&cancelAnimationFrame(N)}}var hm=M.useLayoutEffect,XV=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mh=function(){};function YV(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function JV(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var a=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(YV(n,u)));return a.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var h0=function(e){return aM(e)?e.filter(Boolean):Po(e)==="object"&&e!==null?[e]:[]},_I=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Ui(e,XV);return Re({},t)},bt=function(e,t,r){var s=e.cx,a=e.getStyles,u=e.getClassNames,d=e.className;return{css:a(t,e),className:s(r??{},u(t,e),d)}};function wd(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function ZV(n){return wd(n)?window.innerHeight:n.clientHeight}function wI(n){return wd(n)?window.pageYOffset:n.scrollTop}function Lh(n,e){if(wd(n)){window.scrollTo(0,e);return}n.scrollTop=e}function eM(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function tM(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function qc(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mh,s=wI(n),a=e-s,u=10,d=0;function f(){d+=u;var m=tM(d,s,a,t);Lh(n,m),d<t?window.requestAnimationFrame(f):r(n)}f()}function d0(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?Lh(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&Lh(n,Math.max(e.offsetTop-s,0))}function nM(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function f0(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function rM(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var EI=!1,iM={get passive(){return EI=!0}},Gc=typeof window<"u"?window:{};Gc.addEventListener&&Gc.removeEventListener&&(Gc.addEventListener("p",Mh,iM),Gc.removeEventListener("p",Mh,!1));var sM=EI;function oM(n){return n!=null}function aM(n){return Array.isArray(n)}function Kc(n,e,t){return n?e:t}var lM=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var a=Object.entries(e).filter(function(u){var d=Ni(u,1),f=d[0];return!r.includes(f)});return a.reduce(function(u,d){var f=Ni(d,2),m=f[0],y=f[1];return u[m]=y,u},{})},uM=["children","innerProps"],cM=["children","innerProps"];function hM(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,a=n.shouldScroll,u=n.isFixedPosition,d=n.controlHeight,f=eM(t),m={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return m;var y=f.getBoundingClientRect(),T=y.height,_=t.getBoundingClientRect(),A=_.bottom,N=_.height,O=_.top,C=t.offsetParent.getBoundingClientRect(),z=C.top,K=u?window.innerHeight:ZV(f),Q=wI(f),Z=parseInt(getComputedStyle(t).marginBottom,10),X=parseInt(getComputedStyle(t).marginTop,10),ne=z-X,P=K-O,b=ne+Q,k=T-Q-O,j=A-K+Q+Z,D=Q+O-X,V=160;switch(s){case"auto":case"bottom":if(P>=N)return{placement:"bottom",maxHeight:e};if(k>=N&&!u)return a&&qc(f,j,V),{placement:"bottom",maxHeight:e};if(!u&&k>=r||u&&P>=r){a&&qc(f,j,V);var R=u?P-Z:k-Z;return{placement:"bottom",maxHeight:R}}if(s==="auto"||u){var he=e,be=u?ne:b;return be>=r&&(he=Math.min(be-Z-d,e)),{placement:"top",maxHeight:he}}if(s==="bottom")return a&&Lh(f,j),{placement:"bottom",maxHeight:e};break;case"top":if(ne>=N)return{placement:"top",maxHeight:e};if(b>=N&&!u)return a&&qc(f,D,V),{placement:"top",maxHeight:e};if(!u&&b>=r||u&&ne>=r){var Se=e;return(!u&&b>=r||u&&ne>=r)&&(Se=u?ne-X:b-X),a&&qc(f,D,V),{placement:"top",maxHeight:Se}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function dM(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var TI=function(e){return e==="auto"?"bottom":e},fM=function(e,t){var r,s=e.placement,a=e.theme,u=a.borderRadius,d=a.spacing,f=a.colors;return Re((r={label:"menu"},Ml(r,dM(s),"100%"),Ml(r,"position","absolute"),Ml(r,"width","100%"),Ml(r,"zIndex",1),r),t?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},SI=M.createContext(null),pM=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,d=e.menuShouldScrollIntoView,f=e.theme,m=M.useContext(SI)||{},y=m.setPortalPlacement,T=M.useRef(null),_=M.useState(s),A=Ni(_,2),N=A[0],O=A[1],C=M.useState(null),z=Ni(C,2),K=z[0],Q=z[1],Z=f.spacing.controlHeight;return hm(function(){var X=T.current;if(X){var ne=u==="fixed",P=d&&!ne,b=hM({maxHeight:s,menuEl:X,minHeight:r,placement:a,shouldScroll:P,isFixedPosition:ne,controlHeight:Z});O(b.maxHeight),Q(b.placement),y==null||y(b.placement)}},[s,a,u,d,r,y,Z]),t({ref:T,placerProps:Re(Re({},e),{},{placement:K||TI(a),maxHeight:N})})},mM=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return Ie("div",Ne({},bt(e,"menu",{menu:!0}),{ref:r},s),t)},gM=mM,vM=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Re({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},yM=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,a=e.isMulti;return Ie("div",Ne({},bt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},r),t)},II=function(e,t){var r=e.theme,s=r.spacing.baseUnit,a=r.colors;return Re({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},_M=II,wM=II,EM=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,a=Ui(e,uM);return Ie("div",Ne({},bt(Re(Re({},a),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},TM=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,a=Ui(e,cM);return Ie("div",Ne({},bt(Re(Re({},a),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},SM=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},IM=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,a=e.innerProps,u=e.menuPlacement,d=e.menuPosition,f=M.useRef(null),m=M.useRef(null),y=M.useState(TI(u)),T=Ni(y,2),_=T[0],A=T[1],N=M.useMemo(function(){return{setPortalPlacement:A}},[]),O=M.useState(null),C=Ni(O,2),z=C[0],K=C[1],Q=M.useCallback(function(){if(s){var P=nM(s),b=d==="fixed"?0:window.pageYOffset,k=P[_]+b;(k!==(z==null?void 0:z.offset)||P.left!==(z==null?void 0:z.rect.left)||P.width!==(z==null?void 0:z.rect.width))&&K({offset:k,rect:P})}},[s,d,_,z==null?void 0:z.offset,z==null?void 0:z.rect.left,z==null?void 0:z.rect.width]);hm(function(){Q()},[Q]);var Z=M.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&f.current&&(m.current=QV(s,f.current,Q,{elementResize:"ResizeObserver"in window}))},[s,Q]);hm(function(){Z()},[Z]);var X=M.useCallback(function(P){f.current=P,Z()},[Z]);if(!t&&d!=="fixed"||!z)return null;var ne=Ie("div",Ne({ref:X},bt(Re(Re({},e),{},{offset:z.offset,position:d,rect:z.rect}),"menuPortal",{"menu-portal":!0}),a),r);return Ie(SI.Provider,{value:N},t?nC.createPortal(ne,t):ne)},CM=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},bM=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,a=e.isRtl;return Ie("div",Ne({},bt(e,"container",{"--is-disabled":s,"--is-rtl":a}),r),t)},AM=function(e,t){var r=e.theme.spacing,s=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return Re({alignItems:"center",display:s&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},PM=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,a=e.hasValue;return Ie("div",Ne({},bt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),r),t)},RM=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},kM=function(e){var t=e.children,r=e.innerProps;return Ie("div",Ne({},bt(e,"indicatorsContainer",{indicators:!0}),r),t)},p0,xM=["size"],NM=["innerProps","isRtl","size"],OM={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},CI=function(e){var t=e.size,r=Ui(e,xM);return Ie("svg",Ne({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:OM},r))},Dg=function(e){return Ie(CI,Ne({size:20},e),Ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},bI=function(e){return Ie(CI,Ne({size:20},e),Ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},AI=function(e,t){var r=e.isFocused,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return Re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},DM=AI,VM=function(e){var t=e.children,r=e.innerProps;return Ie("div",Ne({},bt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Ie(bI,null))},MM=AI,LM=function(e){var t=e.children,r=e.innerProps;return Ie("div",Ne({},bt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Ie(Dg,null))},jM=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return Re({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},FM=function(e){var t=e.innerProps;return Ie("span",Ne({},t,bt(e,"indicatorSeparator",{"indicator-separator":!0})))},UM=OV(p0||(p0=DV([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),zM=function(e,t){var r=e.isFocused,s=e.size,a=e.theme,u=a.colors,d=a.spacing.baseUnit;return Re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:d*2})},gp=function(e){var t=e.delay,r=e.offset;return Ie("span",{css:kg({animation:"".concat(UM," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},BM=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,a=s===void 0?4:s,u=Ui(e,NM);return Ie("div",Ne({},bt(Re(Re({},u),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Ie(gp,{delay:0,offset:r}),Ie(gp,{delay:160,offset:!0}),Ie(gp,{delay:320,offset:!r}))},$M=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.theme,u=a.colors,d=a.borderRadius,f=a.spacing;return Re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},HM=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return Ie("div",Ne({ref:a},bt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":d}),u,{"aria-disabled":r||void 0}),t)},WM=HM,qM=["data"],GM=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},KM=function(e){var t=e.children,r=e.cx,s=e.getStyles,a=e.getClassNames,u=e.Heading,d=e.headingProps,f=e.innerProps,m=e.label,y=e.theme,T=e.selectProps;return Ie("div",Ne({},bt(e,"group",{group:!0}),f),Ie(u,Ne({},d,{selectProps:T,theme:y,getStyles:s,getClassNames:a,cx:r}),m),Ie("div",null,t))},QM=function(e,t){var r=e.theme,s=r.colors,a=r.spacing;return Re({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},XM=function(e){var t=_I(e);t.data;var r=Ui(t,qM);return Ie("div",Ne({},bt(e,"groupHeading",{"group-heading":!0}),r))},YM=KM,JM=["innerRef","isDisabled","isHidden","inputClassName"],ZM=function(e,t){var r=e.isDisabled,s=e.value,a=e.theme,u=a.spacing,d=a.colors;return Re(Re({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},eL),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},PI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},eL={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},PI)},tL=function(e){return Re({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},PI)},nL=function(e){var t=e.cx,r=e.value,s=_I(e),a=s.innerRef,u=s.isDisabled,d=s.isHidden,f=s.inputClassName,m=Ui(s,JM);return Ie("div",Ne({},bt(e,"input",{"input-container":!0}),{"data-value":r||""}),Ie("input",Ne({className:t({input:!0},f),ref:a,style:tL(d),disabled:u},m)))},rL=nL,iL=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors;return Re({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},sL=function(e,t){var r=e.theme,s=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return Re({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},oL=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors,d=e.isFocused;return Re({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},RI=function(e){var t=e.children,r=e.innerProps;return Ie("div",r,t)},aL=RI,lL=RI;function uL(n){var e=n.children,t=n.innerProps;return Ie("div",Ne({role:"button"},t),e||Ie(Dg,{size:14}))}var cL=function(e){var t=e.children,r=e.components,s=e.data,a=e.innerProps,u=e.isDisabled,d=e.removeProps,f=e.selectProps,m=r.Container,y=r.Label,T=r.Remove;return Ie(m,{data:s,innerProps:Re(Re({},bt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:f},Ie(y,{data:s,innerProps:Re({},bt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},t),Ie(T,{data:s,innerProps:Re(Re({},bt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},d),selectProps:f}))},hL=cL,dL=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.theme,d=u.spacing,f=u.colors;return Re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?f.primary:s?f.primary25:"transparent",color:r?f.neutral20:a?f.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?f.primary:f.primary50}})},fL=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.innerRef,d=e.innerProps;return Ie("div",Ne({},bt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a}),{ref:u,"aria-disabled":r},d),t)},pL=fL,mL=function(e,t){var r=e.theme,s=r.spacing,a=r.colors;return Re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},gL=function(e){var t=e.children,r=e.innerProps;return Ie("div",Ne({},bt(e,"placeholder",{placeholder:!0}),r),t)},vL=gL,yL=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing,u=s.colors;return Re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},_L=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return Ie("div",Ne({},bt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},wL=_L,EL={ClearIndicator:LM,Control:WM,DropdownIndicator:VM,DownChevron:bI,CrossIcon:Dg,Group:YM,GroupHeading:XM,IndicatorsContainer:kM,IndicatorSeparator:FM,Input:rL,LoadingIndicator:BM,Menu:gM,MenuList:yM,MenuPortal:IM,LoadingMessage:TM,NoOptionsMessage:EM,MultiValue:hL,MultiValueContainer:aL,MultiValueLabel:lL,MultiValueRemove:uL,Option:pL,Placeholder:vL,SelectContainer:bM,SingleValue:wL,ValueContainer:PM},TL=function(e){return Re(Re({},EL),e.components)},m0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function SL(n,e){return!!(n===e||m0(n)&&m0(e))}function IL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!SL(n[t],e[t]))return!1;return!0}function CL(n,e){e===void 0&&(e=IL);var t=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var bL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},AL=function(e){return Ie("span",Ne({css:bL},e))},g0=AL,PL={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,a=e.label,u=a===void 0?"":a,d=e.selectValue,f=e.isDisabled,m=e.isSelected,y=e.isAppleDevice,T=function(O,C){return O&&O.length?"".concat(O.indexOf(C)+1," of ").concat(O.length):""};if(t==="value"&&d)return"value ".concat(u," focused, ").concat(T(d,r),".");if(t==="menu"&&y){var _=f?" disabled":"",A="".concat(m?" selected":"").concat(_);return"".concat(u).concat(A,", ").concat(T(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},RL=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,u=e.isFocused,d=e.selectValue,f=e.selectProps,m=e.id,y=e.isAppleDevice,T=f.ariaLiveMessages,_=f.getOptionLabel,A=f.inputValue,N=f.isMulti,O=f.isOptionDisabled,C=f.isSearchable,z=f.menuIsOpen,K=f.options,Q=f.screenReaderStatus,Z=f.tabSelectsValue,X=f.isLoading,ne=f["aria-label"],P=f["aria-live"],b=M.useMemo(function(){return Re(Re({},PL),T||{})},[T]),k=M.useMemo(function(){var be="";if(t&&b.onChange){var Se=t.option,ke=t.options,$=t.removedValue,fe=t.removedValues,ue=t.value,B=function(je){return Array.isArray(je)?null:je},H=$||Se||B(ue),le=H?_(H):"",ve=ke||fe||void 0,Ee=ve?ve.map(_):[],xe=Re({isDisabled:H&&O(H,d),label:le,labels:Ee},t);be=b.onChange(xe)}return be},[t,b,O,d,_]),j=M.useMemo(function(){var be="",Se=r||s,ke=!!(r&&d&&d.includes(r));if(Se&&b.onFocus){var $={focused:Se,label:_(Se),isDisabled:O(Se,d),isSelected:ke,options:a,context:Se===r?"menu":"value",selectValue:d,isAppleDevice:y};be=b.onFocus($)}return be},[r,s,_,O,b,a,d,y]),D=M.useMemo(function(){var be="";if(z&&K.length&&!X&&b.onFilter){var Se=Q({count:a.length});be=b.onFilter({inputValue:A,resultsMessage:Se})}return be},[a,A,z,b,K,Q,X]),V=(t==null?void 0:t.action)==="initial-input-focus",R=M.useMemo(function(){var be="";if(b.guidance){var Se=s?"value":z?"menu":"input";be=b.guidance({"aria-label":ne,context:Se,isDisabled:r&&O(r,d),isMulti:N,isSearchable:C,tabSelectsValue:Z,isInitialFocus:V})}return be},[ne,r,s,N,O,C,z,b,d,Z,V]),he=Ie(M.Fragment,null,Ie("span",{id:"aria-selection"},k),Ie("span",{id:"aria-focused"},j),Ie("span",{id:"aria-results"},D),Ie("span",{id:"aria-guidance"},R));return Ie(M.Fragment,null,Ie(g0,{id:m},V&&he),Ie(g0,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!V&&he))},kL=RL,dm=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],xL=new RegExp("["+dm.map(function(n){return n.letters}).join("")+"]","g"),kI={};for(var vp=0;vp<dm.length;vp++)for(var yp=dm[vp],_p=0;_p<yp.letters.length;_p++)kI[yp.letters[_p]]=yp.base;var xI=function(e){return e.replace(xL,function(t){return kI[t]})},NL=CL(xI),v0=function(e){return e.replace(/^\s+|\s+$/g,"")},OL=function(e){return"".concat(e.label," ").concat(e.value)},DL=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=Re({ignoreCase:!0,ignoreAccents:!0,stringify:OL,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,u=s.ignoreAccents,d=s.stringify,f=s.trim,m=s.matchFrom,y=f?v0(r):r,T=f?v0(d(t)):d(t);return a&&(y=y.toLowerCase(),T=T.toLowerCase()),u&&(y=NL(y),T=xI(T)),m==="start"?T.substr(0,y.length)===y:T.indexOf(y)>-1}},VL=["innerRef"];function ML(n){var e=n.innerRef,t=Ui(n,VL),r=lM(t,"onExited","in","enter","exit","appear");return Ie("input",Ne({ref:e},r,{css:kg({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var LL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function jL(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,a=n.onTopLeave,u=M.useRef(!1),d=M.useRef(!1),f=M.useRef(0),m=M.useRef(null),y=M.useCallback(function(C,z){if(m.current!==null){var K=m.current,Q=K.scrollTop,Z=K.scrollHeight,X=K.clientHeight,ne=m.current,P=z>0,b=Z-X-Q,k=!1;b>z&&u.current&&(r&&r(C),u.current=!1),P&&d.current&&(a&&a(C),d.current=!1),P&&z>b?(t&&!u.current&&t(C),ne.scrollTop=Z,k=!0,u.current=!0):!P&&-z>Q&&(s&&!d.current&&s(C),ne.scrollTop=0,k=!0,d.current=!0),k&&LL(C)}},[t,r,s,a]),T=M.useCallback(function(C){y(C,C.deltaY)},[y]),_=M.useCallback(function(C){f.current=C.changedTouches[0].clientY},[]),A=M.useCallback(function(C){var z=f.current-C.changedTouches[0].clientY;y(C,z)},[y]),N=M.useCallback(function(C){if(C){var z=sM?{passive:!1}:!1;C.addEventListener("wheel",T,z),C.addEventListener("touchstart",_,z),C.addEventListener("touchmove",A,z)}},[A,_,T]),O=M.useCallback(function(C){C&&(C.removeEventListener("wheel",T,!1),C.removeEventListener("touchstart",_,!1),C.removeEventListener("touchmove",A,!1))},[A,_,T]);return M.useEffect(function(){if(e){var C=m.current;return N(C),function(){O(C)}}},[e,N,O]),function(C){m.current=C}}var y0=["boxSizing","height","overflow","paddingRight","position"],_0={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function w0(n){n.cancelable&&n.preventDefault()}function E0(n){n.stopPropagation()}function T0(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function S0(){return"ontouchstart"in window||navigator.maxTouchPoints}var I0=!!(typeof window<"u"&&window.document&&window.document.createElement),kl=0,ga={capture:!1,passive:!1};function FL(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=M.useRef({}),a=M.useRef(null),u=M.useCallback(function(f){if(I0){var m=document.body,y=m&&m.style;if(r&&y0.forEach(function(N){var O=y&&y[N];s.current[N]=O}),r&&kl<1){var T=parseInt(s.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,A=window.innerWidth-_+T||0;Object.keys(_0).forEach(function(N){var O=_0[N];y&&(y[N]=O)}),y&&(y.paddingRight="".concat(A,"px"))}m&&S0()&&(m.addEventListener("touchmove",w0,ga),f&&(f.addEventListener("touchstart",T0,ga),f.addEventListener("touchmove",E0,ga))),kl+=1}},[r]),d=M.useCallback(function(f){if(I0){var m=document.body,y=m&&m.style;kl=Math.max(kl-1,0),r&&kl<1&&y0.forEach(function(T){var _=s.current[T];y&&(y[T]=_)}),m&&S0()&&(m.removeEventListener("touchmove",w0,ga),f&&(f.removeEventListener("touchstart",T0,ga),f.removeEventListener("touchmove",E0,ga)))}},[r]);return M.useEffect(function(){if(e){var f=a.current;return u(f),function(){d(f)}}},[e,u,d]),function(f){a.current=f}}var UL=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},zL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function BL(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,a=n.onBottomArrive,u=n.onBottomLeave,d=n.onTopArrive,f=n.onTopLeave,m=jL({isEnabled:s,onBottomArrive:a,onBottomLeave:u,onTopArrive:d,onTopLeave:f}),y=FL({isEnabled:t}),T=function(A){m(A),y(A)};return Ie(M.Fragment,null,t&&Ie("div",{onClick:UL,css:zL}),e(T))}var $L={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},HL=function(e){var t=e.name,r=e.onFocus;return Ie("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:$L,value:"",onChange:function(){}})},WL=HL;function Vg(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function qL(){return Vg(/^iPhone/i)}function NI(){return Vg(/^Mac/i)}function GL(){return Vg(/^iPad/i)||NI()&&navigator.maxTouchPoints>1}function KL(){return qL()||GL()}function QL(){return NI()||KL()}var XL=function(e){return e.label},YL=function(e){return e.label},JL=function(e){return e.value},ZL=function(e){return!!e.isDisabled},e4={clearIndicator:MM,container:CM,control:$M,dropdownIndicator:DM,group:GM,groupHeading:QM,indicatorsContainer:RM,indicatorSeparator:jM,input:ZM,loadingIndicator:zM,loadingMessage:wM,menu:fM,menuList:vM,menuPortal:SM,multiValue:iL,multiValueLabel:sL,multiValueRemove:oL,noOptionsMessage:_M,option:dL,placeholder:mL,singleValue:yL,valueContainer:AM},t4={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},n4=4,OI=4,r4=38,i4=OI*2,s4={baseUnit:OI,controlHeight:r4,menuGutter:i4},wp={borderRadius:n4,colors:t4,spacing:s4},o4={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:f0(),captureMenuScroll:!f0(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:DL(),formatGroupLabel:XL,getOptionLabel:YL,getOptionValue:JL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ZL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!rM(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function C0(n,e,t,r){var s=MI(n,e,t),a=LI(n,e,t),u=VI(n,e),d=jh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:u,value:d,index:r}}function uh(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,d){return C0(n,u,e,d)}).filter(function(u){return A0(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var a=C0(n,t,e,r);return A0(n,a)?a:void 0}).filter(oM)}function DI(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Cg(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function b0(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Cg(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function a4(n,e){return DI(uh(n,e))}function A0(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,a=e.isSelected,u=e.label,d=e.value;return(!FI(n)||!a)&&jI(n,{label:u,value:d,data:s},r)}function l4(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var a=e.indexOf(t);if(a>-1)return t;if(s<e.length)return e[s]}return null}function u4(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Ep=function(e,t){var r,s=(r=e.find(function(a){return a.data===t}))===null||r===void 0?void 0:r.id;return s||null},VI=function(e,t){return e.getOptionLabel(t)},jh=function(e,t){return e.getOptionValue(t)};function MI(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function LI(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=jh(n,e);return t.some(function(s){return jh(n,s)===r})}function jI(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var FI=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},c4=1,UI=(function(n){k2(t,n);var e=O2(t);function t(r){var s;if(P2(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,m){var y=s.props,T=y.onChange,_=y.name;m.name=_,s.ariaOnChange(f,m),T(f,m)},s.setValue=function(f,m,y){var T=s.props,_=T.closeMenuOnSelect,A=T.isMulti,N=T.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:N}),_&&(s.setState({inputIsHiddenAfterUpdate:!A}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:m,option:y})},s.selectOption=function(f){var m=s.props,y=m.blurInputOnSelect,T=m.isMulti,_=m.name,A=s.state.selectValue,N=T&&s.isOptionSelected(f,A),O=s.isOptionDisabled(f,A);if(N){var C=s.getOptionValue(f);s.setValue(A.filter(function(z){return s.getOptionValue(z)!==C}),"deselect-option",f)}else if(!O)T?s.setValue([].concat(Cg(A),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:_});return}y&&s.blurInput()},s.removeValue=function(f){var m=s.props.isMulti,y=s.state.selectValue,T=s.getOptionValue(f),_=y.filter(function(N){return s.getOptionValue(N)!==T}),A=Kc(m,_,_[0]||null);s.onChange(A,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(Kc(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,m=s.state.selectValue,y=m[m.length-1],T=m.slice(0,m.length-1),_=Kc(f,T,T[0]||null);y&&s.onChange(_,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(f){return Ep(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return b0(uh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];return JV.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(f){return VI(s.props,f)},s.getOptionValue=function(f){return jh(s.props,f)},s.getStyles=function(f,m){var y=s.props.unstyled,T=e4[f](m,y);T.boxSizing="border-box";var _=s.props.styles[f];return _?_(T,m):T},s.getClassNames=function(f,m){var y,T;return(y=(T=s.props.classNames)[f])===null||y===void 0?void 0:y.call(T,m)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return TL(s.props)},s.buildCategorizedOptions=function(){return uh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return DI(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,m){s.setState({ariaSelection:Re({value:f},m)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var m=s.props,y=m.isMulti,T=m.menuIsOpen;s.focusInput(),T?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&wd(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var m=f.touches,y=m&&m.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var m=f.touches,y=m&&m.item(0);if(y){var T=Math.abs(y.clientX-s.initialTouchX),_=Math.abs(y.clientY-s.initialTouchY),A=5;s.userIsDragging=T>A||_>A}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var m=s.props.inputValue,y=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var m=s.getFocusableOptions(),y=m.indexOf(f);s.setState({focusedOption:f,focusedOptionId:y>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return FI(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var m=s.props,y=m.isMulti,T=m.backspaceRemovesValue,_=m.escapeClearsValue,A=m.inputValue,N=m.isClearable,O=m.isDisabled,C=m.menuIsOpen,z=m.onKeyDown,K=m.tabSelectsValue,Q=m.openMenuOnFocus,Z=s.state,X=Z.focusedOption,ne=Z.focusedValue,P=Z.selectValue;if(!O&&!(typeof z=="function"&&(z(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!y||A)return;s.focusValue("previous");break;case"ArrowRight":if(!y||A)return;s.focusValue("next");break;case"Delete":case"Backspace":if(A)return;if(ne)s.removeValue(ne);else{if(!T)return;y?s.popValue():N&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!C||!K||!X||Q&&s.isOptionSelected(X,P))return;s.selectOption(X);break;case"Enter":if(f.keyCode===229)break;if(C){if(!X||s.isComposing)return;s.selectOption(X);break}return;case"Escape":C?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:A}),s.onMenuClose()):N&&_&&s.clearValue();break;case" ":if(A)return;if(!C){s.openMenu("first");break}if(!X)return;s.selectOption(X);break;case"ArrowUp":C?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":C?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!C)return;s.focusOption("pageup");break;case"PageDown":if(!C)return;s.focusOption("pagedown");break;case"Home":if(!C)return;s.focusOption("first");break;case"End":if(!C)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++c4),s.state.selectValue=h0(r.value),r.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),d=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=u[d],s.state.focusedOptionId=Ep(a,u[d])}return s}return R2(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&d0(this.menuListRef,this.focusedOptionRef),QL()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var a=this.props,u=a.isDisabled,d=a.menuIsOpen,f=this.state.isFocused;(f&&!u&&s.isDisabled||f&&d&&!s.menuIsOpen)&&this.focusInput(),f&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(d0(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,u=this.state,d=u.selectValue,f=u.isFocused,m=this.buildFocusableOptions(),y=s==="first"?0:m.length-1;if(!this.props.isMulti){var T=m.indexOf(d[0]);T>-1&&(y=T)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[y],focusedOptionId:this.getFocusedOptionId(m[y])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,u=a.selectValue,d=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(d);d||(f=-1);var m=u.length-1,y=-1;if(u.length){switch(s){case"previous":f===0?y=0:f===-1?y=m:y=f-1;break;case"next":f>-1&&f<m&&(y=f+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:u[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var f=0,m=d.indexOf(u);u||(m=-1),s==="up"?f=m>0?m-1:d.length-1:s==="down"?f=(m+1)%d.length:s==="pageup"?(f=m-a,f<0&&(f=0)):s==="pagedown"?(f=m+a,f>d.length-1&&(f=d.length-1)):s==="last"&&(f=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[f])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(wp):Re(Re({},wp),this.props.theme):wp})},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,u=this.getStyles,d=this.getClassNames,f=this.getValue,m=this.selectOption,y=this.setValue,T=this.props,_=T.isMulti,A=T.isRtl,N=T.options,O=this.hasValue();return{clearValue:s,cx:a,getStyles:u,getClassNames:d,getValue:f,hasValue:O,isMulti:_,isRtl:A,options:N,selectOption:m,selectProps:T,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,u=s.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(s,a){return MI(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return LI(this.props,s,a)}},{key:"filterOption",value:function(s,a){return jI(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:u,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,a=s.isDisabled,u=s.isSearchable,d=s.inputId,f=s.inputValue,m=s.tabIndex,y=s.form,T=s.menuIsOpen,_=s.required,A=this.getComponents(),N=A.Input,O=this.state,C=O.inputIsHidden,z=O.ariaSelection,K=this.commonProps,Q=d||this.getElementId("input"),Z=Re(Re(Re({"aria-autocomplete":"list","aria-expanded":T,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},T&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(z==null?void 0:z.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?M.createElement(N,Ne({},K,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Q,innerRef:this.getInputRef,isDisabled:a,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:y,type:"text",value:f},Z)):M.createElement(ML,Ne({id:Q,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mh,onFocus:this.onInputFocus,disabled:a,tabIndex:m,inputMode:"none",form:y,value:""},Z))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),u=a.MultiValue,d=a.MultiValueContainer,f=a.MultiValueLabel,m=a.MultiValueRemove,y=a.SingleValue,T=a.Placeholder,_=this.commonProps,A=this.props,N=A.controlShouldRenderValue,O=A.isDisabled,C=A.isMulti,z=A.inputValue,K=A.placeholder,Q=this.state,Z=Q.selectValue,X=Q.focusedValue,ne=Q.isFocused;if(!this.hasValue()||!N)return z?null:M.createElement(T,Ne({},_,{key:"placeholder",isDisabled:O,isFocused:ne,innerProps:{id:this.getElementId("placeholder")}}),K);if(C)return Z.map(function(b,k){var j=b===X,D="".concat(s.getOptionLabel(b),"-").concat(s.getOptionValue(b));return M.createElement(u,Ne({},_,{components:{Container:d,Label:f,Remove:m},isFocused:j,isDisabled:O,key:D,index:k,removeProps:{onClick:function(){return s.removeValue(b)},onTouchEnd:function(){return s.removeValue(b)},onMouseDown:function(R){R.preventDefault()}},data:b}),s.formatOptionLabel(b,"value"))});if(z)return null;var P=Z[0];return M.createElement(y,Ne({},_,{data:P,isDisabled:O}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,m=d.isLoading,y=this.state.isFocused;if(!this.isClearable()||!a||f||!this.hasValue()||m)return null;var T={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return M.createElement(a,Ne({},u,{innerProps:T,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,m=d.isLoading,y=this.state.isFocused;if(!a||!m)return null;var T={"aria-hidden":"true"};return M.createElement(a,Ne({},u,{innerProps:T,isDisabled:f,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,u=s.IndicatorSeparator;if(!a||!u)return null;var d=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return M.createElement(u,Ne({},d,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return M.createElement(a,Ne({},u,{innerProps:m,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),u=a.Group,d=a.GroupHeading,f=a.Menu,m=a.MenuList,y=a.MenuPortal,T=a.LoadingMessage,_=a.NoOptionsMessage,A=a.Option,N=this.commonProps,O=this.state.focusedOption,C=this.props,z=C.captureMenuScroll,K=C.inputValue,Q=C.isLoading,Z=C.loadingMessage,X=C.minMenuHeight,ne=C.maxMenuHeight,P=C.menuIsOpen,b=C.menuPlacement,k=C.menuPosition,j=C.menuPortalTarget,D=C.menuShouldBlockScroll,V=C.menuShouldScrollIntoView,R=C.noOptionsMessage,he=C.onMenuScrollToTop,be=C.onMenuScrollToBottom;if(!P)return null;var Se=function(le,ve){var Ee=le.type,xe=le.data,Ue=le.isDisabled,je=le.isSelected,Qe=le.label,vt=le.value,pn=O===xe,yt=Ue?void 0:function(){return s.onOptionHover(xe)},jn=Ue?void 0:function(){return s.selectOption(xe)},Xe="".concat(s.getElementId("option"),"-").concat(ve),mr={id:Xe,onClick:jn,onMouseMove:yt,onMouseOver:yt,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:je};return M.createElement(A,Ne({},N,{innerProps:mr,data:xe,isDisabled:Ue,isSelected:je,key:Xe,label:Qe,type:Ee,value:vt,isFocused:pn,innerRef:pn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(le.data,"menu"))},ke;if(this.hasOptions())ke=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var le=H.data,ve=H.options,Ee=H.index,xe="".concat(s.getElementId("group"),"-").concat(Ee),Ue="".concat(xe,"-heading");return M.createElement(u,Ne({},N,{key:xe,data:le,options:ve,Heading:d,headingProps:{id:Ue,data:H.data},label:s.formatGroupLabel(H.data)}),H.options.map(function(je){return Se(je,"".concat(Ee,"-").concat(je.index))}))}else if(H.type==="option")return Se(H,"".concat(H.index))});else if(Q){var $=Z({inputValue:K});if($===null)return null;ke=M.createElement(T,N,$)}else{var fe=R({inputValue:K});if(fe===null)return null;ke=M.createElement(_,N,fe)}var ue={minMenuHeight:X,maxMenuHeight:ne,menuPlacement:b,menuPosition:k,menuShouldScrollIntoView:V},B=M.createElement(pM,Ne({},N,ue),function(H){var le=H.ref,ve=H.placerProps,Ee=ve.placement,xe=ve.maxHeight;return M.createElement(f,Ne({},N,ue,{innerRef:le,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:Q,placement:Ee}),M.createElement(BL,{captureEnabled:z,onTopArrive:he,onBottomArrive:be,lockEnabled:D},function(Ue){return M.createElement(m,Ne({},N,{innerRef:function(Qe){s.getMenuListRef(Qe),Ue(Qe)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:s.getElementId("listbox")},isLoading:Q,maxHeight:xe,focusedOption:O}),ke)}))});return j||k==="fixed"?M.createElement(y,Ne({},N,{appendTo:j,controlElement:this.controlRef,menuPlacement:b,menuPosition:k}),B):B}},{key:"renderFormField",value:function(){var s=this,a=this.props,u=a.delimiter,d=a.isDisabled,f=a.isMulti,m=a.name,y=a.required,T=this.state.selectValue;if(y&&!this.hasValue()&&!d)return M.createElement(WL,{name:m,onFocus:this.onValueInputFocus});if(!(!m||d))if(f)if(u){var _=T.map(function(O){return s.getOptionValue(O)}).join(u);return M.createElement("input",{name:m,type:"hidden",value:_})}else{var A=T.length>0?T.map(function(O,C){return M.createElement("input",{key:"i-".concat(C),name:m,type:"hidden",value:s.getOptionValue(O)})}):M.createElement("input",{name:m,type:"hidden",value:""});return M.createElement("div",null,A)}else{var N=T[0]?this.getOptionValue(T[0]):"";return M.createElement("input",{name:m,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,u=a.ariaSelection,d=a.focusedOption,f=a.focusedValue,m=a.isFocused,y=a.selectValue,T=this.getFocusableOptions();return M.createElement(kL,Ne({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:f,isFocused:m,selectValue:y,focusableOptions:T,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,u=s.IndicatorsContainer,d=s.SelectContainer,f=s.ValueContainer,m=this.props,y=m.className,T=m.id,_=m.isDisabled,A=m.menuIsOpen,N=this.state.isFocused,O=this.commonProps=this.getCommonProps();return M.createElement(d,Ne({},O,{className:y,innerProps:{id:T,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:N}),this.renderLiveRegion(),M.createElement(a,Ne({},O,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:N,menuIsOpen:A}),M.createElement(f,Ne({},O,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),M.createElement(u,Ne({},O,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var u=a.prevProps,d=a.clearFocusValueOnUpdate,f=a.inputIsHiddenAfterUpdate,m=a.ariaSelection,y=a.isFocused,T=a.prevWasFocused,_=a.instancePrefix,A=s.options,N=s.value,O=s.menuIsOpen,C=s.inputValue,z=s.isMulti,K=h0(N),Q={};if(u&&(N!==u.value||A!==u.options||O!==u.menuIsOpen||C!==u.inputValue)){var Z=O?a4(s,K):[],X=O?b0(uh(s,K),"".concat(_,"-option")):[],ne=d?l4(a,K):null,P=u4(a,Z),b=Ep(X,P);Q={selectValue:K,focusedOption:P,focusedOptionId:b,focusableOptionsWithIds:X,focusedValue:ne,clearFocusValueOnUpdate:!1}}var k=f!=null&&s!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},j=m,D=y&&T;return y&&!D&&(j={value:Kc(z,K,K[0]||null),options:K,action:"initial-input-focus"},D=!T),(m==null?void 0:m.action)==="initial-input-focus"&&(j=null),Re(Re(Re({},Q),k),{},{prevProps:s,ariaSelection:j,prevWasFocused:D})}}]),t})(M.Component);UI.defaultProps=o4;var h4=M.forwardRef(function(n,e){var t=A2(n);return M.createElement(UI,Ne({ref:e},t))}),d4=h4;const xl=["Anagrafica","Stato fisico","Obiettivi","Supporto"];function Me(n){return typeof n=="string"?n:n==null?"":String(n)}function Qc(n){return Me(n.uid).trim()||n.id}function Tp(n){return Array.isArray(n)?n.map(e=>{if(!e||typeof e!="object")return null;const t=e;return{name:Me(t.name),sets:Number(t.sets??3)||3,reps:Number(t.reps??10)||10,weight:Me(t.weight),mediaUrl:Me(t.mediaUrl)}}).filter(e=>!!e):[]}function at(n){return Me(n).trim()||"Non compilato"}function f4(n){const e=n.replace(/[^\d+]/g,"").replace(/\s+/g,"");return e?e.startsWith("+")?e.slice(1):e.startsWith("00")?e.slice(2):e.startsWith("39")?e:e.length>=9?`39${e}`:e:""}function p4(n,e){const t=f4(n),r=e!=null&&e.trim()?`Ciao ${e.trim()},`:"Ciao,",s=encodeURIComponent(`${r} la tua scheda tecnica  pronta. Quando vuoi possiamo rivederla insieme.`);return t?`https://wa.me/${t}?text=${s}`:""}function P0(n){return n.includes("youtube.com")||n.includes("youtu.be")||/\.(mp4|webm|mov|m4v|ogg)(\?.*)?$/i.test(n)}function Sp(n){return/\.(jpg|jpeg|png|gif|webp|avif|svg)(\?.*)?$/i.test(n)}function _s(){return{name:"",sets:3,reps:10,weight:"",mediaUrl:""}}function zI(n){return{fullName:(n==null?void 0:n.name)??"",age:"",sex:"",email:(n==null?void 0:n.email)??"",phone:"",discoverySource:"",heightCm:"",weightKg:"",pastProgram:"",trainingFrequency:"",workoutDuration:"",workoutLocation:"",equipment:"",trainingTypeHistory:"",hasInjuries:"",injuryDetails:"",objectivePrimary:"",objectiveReason:"",expectedTimeline:"",supportPreference:"",supportPreferenceOther:"",investmentRange:"",whatBlockedSoFar:"",oneThingToImprove:"",importanceScore:"",riskIfNoChange:"",readiness:"",notes:""}}function R0(n,e){const t=zI(e);return n?{...t,fullName:Me(n.fullName).trim()||t.fullName,age:Me(n.age).trim(),sex:Me(n.sex).trim(),email:Me(n.email).trim()||t.email,phone:Me(n.phone).trim(),discoverySource:Me(n.discoverySource).trim(),heightCm:Me(n.heightCm).trim(),weightKg:Me(n.weightKg).trim(),pastProgram:Me(n.pastProgram).trim(),trainingFrequency:Me(n.trainingFrequency).trim(),workoutDuration:Me(n.workoutDuration).trim(),workoutLocation:Me(n.workoutLocation).trim(),equipment:Me(n.equipment).trim(),trainingTypeHistory:Me(n.trainingTypeHistory).trim(),hasInjuries:Me(n.hasInjuries).trim(),injuryDetails:Me(n.injuryDetails).trim(),objectivePrimary:Me(n.objectivePrimary).trim(),objectiveReason:Me(n.objectiveReason).trim(),expectedTimeline:Me(n.expectedTimeline).trim(),supportPreference:Me(n.supportPreference).trim(),supportPreferenceOther:Me(n.supportPreferenceOther).trim(),investmentRange:Me(n.investmentRange).trim(),whatBlockedSoFar:Me(n.whatBlockedSoFar).trim(),oneThingToImprove:Me(n.oneThingToImprove).trim(),importanceScore:n.importanceScore!=null?String(n.importanceScore):"",riskIfNoChange:Me(n.riskIfNoChange).trim(),readiness:Me(n.readiness).trim(),notes:Me(n.notes).trim()}:t}function m4(n){return n.includes("1-2")?2:n.includes("3-4")?4:n.includes("5")?5:0}function k0(n){if(!n)return"Non disponibile";const e=new Date(n);return Number.isNaN(e.getTime())?"Non disponibile":e.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"})}function x0(n){switch(n){case"trial_pending":return"Prova da attivare";case"trial_active":return"Prova attiva";case"active_paid":return"Abbonamento attivo";case"expired":return"Scaduto";case"disabled":return"Disattivato";case"supervisor_active":return"Supervisor attivo";default:return"Non disponibile"}}function g4(){const{role:n,user:e,isSupervisor:t}=Wa(),r=ou(),{showError:s,showSuccess:a}=Uh(),[u,d]=M.useState([]),[f,m]=M.useState([]),[y,T]=M.useState(!1),[_,A]=M.useState(null),[N,O]=M.useState(!1),[C,z]=M.useState(!1),[K,Q]=M.useState(!1),[Z,X]=M.useState(!1),[ne,P]=M.useState(!1),[b,k]=M.useState(""),[j,D]=M.useState(""),[V,R]=M.useState(!1),[he,be]=M.useState(!1),[Se,ke]=M.useState(0),[$,fe]=M.useState(zI()),[ue,B]=M.useState(null),[H,le]=M.useState(null),[ve,Ee]=M.useState(!1),[xe,Ue]=M.useState([]),[je,Qe]=M.useState(""),[vt,pn]=M.useState(""),[yt,jn]=M.useState("clients"),[Xe,mr]=M.useState(""),[zi,Qn]=M.useState(""),[Bs,mn]=M.useState([_s()]),Xn=ue!==null,St=u.find(L=>Qc(L)===Xe)??null,Je=f.find(L=>L.id===Xe)??f.find(L=>L.clientId===Xe),ui=p4(Me(_==null?void 0:_.phone),Me(_==null?void 0:_.fullName)),ci=u.reduce((L,oe)=>{const ge=Me(oe.displayName).trim()||Me(oe.email).trim()||oe.id;return L[Qc(oe)]=ge,L[oe.id]=ge,L},{}),Bi=u.map(L=>({value:Qc(L),label:Me(L.displayName).trim()||Me(L.email)||L.id})),Rt=Bi.find(L=>L.value===Xe)??null,It=Math.round((Se+1)/xl.length*100),gr=[{id:"code",label:"Codice",mobileLabel:"Codice",icon:""},{id:"clients",label:"Clienti",mobileLabel:"Clienti",icon:""},{id:"plans",label:"Schede",mobileLabel:"Schede",icon:""},{id:"overview",label:"Panoramica",mobileLabel:"Dashboard",icon:""},...t?[{id:"supervisor",label:"Supervisor",mobileLabel:"Admin",icon:""}]:[]],$i=xe.filter(L=>L.uid!==(e==null?void 0:e.uid)).filter(L=>!L.isSupervisor).filter(L=>{const oe=je.trim().toLowerCase();return oe?L.displayName.toLowerCase().includes(oe)||L.email.toLowerCase().includes(oe):!0}).sort((L,oe)=>{const ge=L.expiresAt?new Date(L.expiresAt).getTime():Number.MAX_SAFE_INTEGER,et=oe.expiresAt?new Date(oe.expiresAt).getTime():Number.MAX_SAFE_INTEGER;return ge-et});M.useEffect(()=>{!t&&yt==="supervisor"&&jn("clients")},[t,yt]);const jr=M.useMemo(()=>({control:(L,oe)=>({...L,minHeight:48,borderRadius:12,borderColor:oe.isFocused?"#ff6a00":"rgba(18,18,18,0.16)",boxShadow:oe.isFocused?"0 0 0 2px rgba(255,106,0,0.20)":"none",backgroundColor:"#fff","&:hover":{borderColor:"#ff6a00"}}),menu:L=>({...L,borderRadius:12,overflow:"hidden",zIndex:50}),option:(L,oe)=>({...L,backgroundColor:oe.isSelected?"#ff6a00":oe.isFocused?"rgba(255,106,0,0.10)":"#fff",color:oe.isSelected?"#fff":"#121212",cursor:"pointer"})}),[]);M.useEffect(()=>{async function L(){if(!Xe){A(null);return}try{const oe=await qS(Xe,"onboarding");A(oe.data()??null)}catch{A(null)}}L()},[Xe]),M.useEffect(()=>{if(!Xe)return;if(!Je){Qn(""),mn([_s()]);return}Qn(Je.title??"");const L=Tp(Je.exercises).filter(oe=>oe.name.trim().length>0);mn(L.length>0?L:[_s()])},[Xe,Je==null?void 0:Je.id]),M.useEffect(()=>{Je||z(!1)},[Je==null?void 0:Je.id]);async function vr(){if(n){T(!0);try{const ge=(await n2(e==null?void 0:e.uid)).docs.map(et=>({id:et.id,...et.data()})).sort((et,Zn)=>{const Ki=Me(et.displayName||et.email||et.id).toLowerCase(),Do=Me(Zn.displayName||Zn.email||Zn.id).toLowerCase();return Ki.localeCompare(Do)});d(ge),!Xe&&ge[0]&&mr(Qc(ge[0]));try{const et=await GS(n);m(et.docs.map(Zn=>({id:Zn.id,...Zn.data()})))}catch(et){m([]),s(xt(et))}}catch(L){console.error("Coach action failed:",L),s(xt(L))}finally{T(!1)}}}M.useEffect(()=>{vr()},[n,e==null?void 0:e.uid]),M.useEffect(()=>{!H||H.isSupervisor||H.isExpired&&hr().finally(()=>{sessionStorage.setItem("bw_login_intent","coach"),r("/auth",{replace:!0})})},[H==null?void 0:H.status,H==null?void 0:H.isExpired,H==null?void 0:H.isSupervisor]),M.useEffect(()=>{async function L(){if(!(!n||n==="client")){Ee(!0);try{const oe=await Hw();le(oe)}catch(oe){s(xt(oe))}finally{Ee(!1)}}}L()},[n,e==null?void 0:e.uid]),M.useEffect(()=>{async function L(){if(e!=null&&e.uid)try{const ge=(await ba(e.uid)).data(),et=Me(ge==null?void 0:ge.phone).trim();k(et),D(et)}catch{k(""),D("")}}L()},[e==null?void 0:e.uid]);async function Fr(){if(t)try{const L=await XD();Ue(L.coaches??[])}catch(L){s(xt(L))}}M.useEffect(()=>{Fr()},[t,e==null?void 0:e.uid]);async function hi(L,oe){T(!0);try{await L(),a(oe),await vr()}catch(ge){s(xt(ge))}finally{T(!1)}}function $s(){mn(L=>[...L,_s()])}function Hs(L){mn(oe=>oe.length<=1?oe:oe.filter((ge,et)=>et!==L))}function Ws(L){Sn(L,_s())}function Sn(L,oe){mn(ge=>ge.map((et,Zn)=>Zn===L?{...et,...oe}:et))}function $e(L,oe){fe(ge=>({...ge,[L]:oe}))}function di(){if(!Je){Qn(""),mn([_s()]);return}Qn(Je.title??"");const L=Tp(Je.exercises).filter(oe=>oe.name.trim().length>0);mn(L.length>0?L:[_s()])}function Hi(){if(!Xe){s("Seleziona prima un cliente.");return}const L={name:Me(St==null?void 0:St.displayName).trim(),email:Me(St==null?void 0:St.email).trim()};fe(R0(_,L)),ke(0),Q(!0)}function In(){const L={name:Me(St==null?void 0:St.displayName).trim(),email:Me(St==null?void 0:St.email).trim()};fe(R0(_,L)),ke(0),Q(!1)}function Yn(){return $.fullName.trim()?$.email.trim()?$.phone.trim()?$.age.trim()?$.sex.trim()?$.heightCm.trim()?$.weightKg.trim()?$.pastProgram.trim()?$.trainingFrequency.trim()?$.workoutDuration.trim()?$.workoutLocation.trim()?$.equipment.trim()?$.objectivePrimary.trim()?$.objectiveReason.trim()?$.expectedTimeline.trim()?$.supportPreference.trim()?$.investmentRange.trim()?$.readiness.trim()?null:"Compila disponibilit a partire.":"Compila fascia investimento.":"Compila supporto preferito.":"Compila timeline risultati.":"Compila motivo obiettivo.":"Compila obiettivo principale.":"Compila attrezzatura.":"Compila luogo allenamento.":"Compila durata allenamento.":"Compila frequenza allenamento.":"Compila esperienza allenamento.":"Inserisci peso.":"Inserisci altezza.":"Inserisci sesso.":"Inserisci et.":"Inserisci numero di telefono.":"Inserisci e-mail.":"Inserisci nome e cognome."}async function Wi(){if(!Xe){s("Seleziona prima un cliente.");return}const L=Yn();if(L){s(L);return}const oe={fullName:$.fullName.trim(),age:$.age.trim(),sex:$.sex.trim(),email:$.email.trim(),phone:$.phone.trim(),discoverySource:$.discoverySource.trim(),heightCm:$.heightCm.trim(),weightKg:$.weightKg.trim(),pastProgram:$.pastProgram.trim(),trainingFrequency:$.trainingFrequency.trim(),workoutDuration:$.workoutDuration.trim(),workoutLocation:$.workoutLocation.trim(),equipment:$.equipment.trim(),trainingTypeHistory:$.trainingTypeHistory.trim(),hasInjuries:$.hasInjuries.trim(),injuryDetails:$.injuryDetails.trim(),objectivePrimary:$.objectivePrimary.trim(),objectiveReason:$.objectiveReason.trim(),expectedTimeline:$.expectedTimeline.trim(),supportPreference:$.supportPreference.trim(),supportPreferenceOther:$.supportPreferenceOther.trim(),investmentRange:$.investmentRange.trim(),whatBlockedSoFar:$.whatBlockedSoFar.trim(),oneThingToImprove:$.oneThingToImprove.trim(),importanceScore:Number($.importanceScore||0),riskIfNoChange:$.riskIfNoChange.trim(),readiness:$.readiness.trim(),goal:$.objectivePrimary.trim(),experienceLevel:$.pastProgram.trim(),trainingDaysPerWeek:m4($.trainingFrequency),notes:$.notes.trim(),compiledBy:"coach"};T(!0);try{await r2(Xe,oe),A(oe),a("Anagrafica cliente salvata con successo."),Q(!1)}catch(ge){s(xt(ge))}finally{T(!1)}}async function Jn(){const L=zi.trim();if(!L){s("Inserisci un titolo per la scheda.");return}const oe=Bs.map(ge=>({name:ge.name.trim(),sets:Number(ge.sets)||0,reps:Number(ge.reps)||0,weight:ge.weight.trim(),mediaUrl:ge.mediaUrl.trim()})).filter(ge=>ge.name.length>0);if(oe.length===0){s("Aggiungi almeno un esercizio con nome.");return}Je?await hi(()=>o2(Je.id,{title:L,status:"active",exercises:oe}),"Scheda aggiornata con successo."):await hi(()=>i2({clientId:Xe,title:L,status:"active",exercises:oe}),"Scheda creata e subito visibile al cliente."),O(!1)}function qs(){if(!Xe){s("Seleziona prima un cliente.");return}di(),O(!0)}function fi(){di(),O(!1)}async function Gs(L,oe){if(oe){if(!oe.type.startsWith("image/")){s("Puoi caricare solo immagini. Per i video usa il campo URL.");return}if(!Xe){s("Seleziona prima un cliente.");return}B(L);try{const ge=await l2(Xe,oe);Sn(L,{mediaUrl:ge}),a("Media caricato con successo.")}catch(ge){console.error("Media upload failed:",ge),s(xt(ge))}finally{B(null)}}}async function yr(){!Je||!window.confirm("Vuoi davvero eliminare tutta la scheda tecnica di questo cliente?")||(await hi(()=>a2(Je.id),"Scheda eliminata con successo."),Qn(""),mn([_s()]),O(!1))}async function qi(L,oe){pn(L);try{if(oe==="activate"){const ge=xe.find(et=>et.uid===L);(ge==null?void 0:ge.status)==="disabled"?(await Ww(L),a("Coach sbloccato con successo.")):(ge==null?void 0:ge.status)==="active_paid"?(await YD(L),a("Abbonamento rinnovato di 1 anno.")):(await Ww(L),a("Abbonamento attivato."))}else await JD(L),a("Abbonamento disattivato.");await Fr()}catch(ge){s(xt(ge))}finally{pn("")}}async function _t(){Ee(!0);try{await zS();const L=await Hw();le(L),a("Periodo di prova attivato.")}catch(L){s(xt(L))}finally{Ee(!1)}}async function Gi(){P(!0);try{await BS(),await hr().catch(()=>{}),r("/auth",{replace:!0})}catch(L){s(xt(L))}finally{P(!1),X(!1)}}async function Fn(){const L=j.replace(/[^\d+]/g,"").trim();if(L.length<8){s("Inserisci un numero WhatsApp valido.");return}be(!0);try{const oe=await ZD(L);k(oe.phone),D(oe.phone),R(!1),a("Numero aggiornato. I clienti associati useranno subito il nuovo contatto.")}catch(oe){s(xt(oe))}finally{be(!1)}}async function pi(){const L=Me(H==null?void 0:H.coachCode).trim();if(!L){s("Codice coach non disponibile.");return}try{await navigator.clipboard.writeText(L),a("Codice coach copiato.")}catch{s("Copia non riuscita. Copia manualmente il codice.")}}return w.jsxs(JS,{role:n==="trainer"?"trainer":"admin",subtitle:"Flusso diviso per tab: clienti, schede e controllo accessi.",title:"Area Coach",sections:gr,activeSection:yt,onSectionChange:L=>jn(L),children:[H!=null&&H.requiresTrialAcceptance?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card fullscreen-gate",children:[w.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),w.jsx("h2",{children:"Prova gratuita 15 giorni"}),w.jsx("p",{className:"hero-sub",children:"Per entrare nell'area coach devi accettare il periodo gratuito di 15 giorni. Al termine sar necessario attivare l'abbonamento."}),w.jsx("button",{className:"btn",type:"button",disabled:ve,onClick:()=>void _t(),children:ve?"Attivazione...":"Accetta e continua"}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>{hr().finally(()=>r("/auth",{replace:!0}))},children:"Esci"})]})}):null,yt==="code"?w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:"Il tuo codice coach"}),w.jsx("p",{className:"hero-sub",children:"Invia questo codice al cliente:  obbligatorio per associarlo a te in onboarding."}),w.jsxs("div",{className:"exercise-head",children:[w.jsx("p",{className:"coach-code",children:(H==null?void 0:H.coachCode)||"Caricamento..."}),w.jsx("button",{className:"icon-btn",type:"button","aria-label":"Copia codice coach",title:"Copia codice coach",onClick:()=>void pi(),children:""})]}),ve?w.jsx("p",{className:"hint",children:"Sto verificando il tuo accesso..."}):null,H!=null&&H.isSupervisor?w.jsx("p",{className:"hint",children:"Account supervisor: accesso sempre attivo, senza trial."}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"client-info-block",children:[w.jsxs("div",{className:"exercise-head",children:[w.jsx("h3",{children:"Numero WhatsApp coach"}),V?null:w.jsx("button",{className:"icon-btn",type:"button","aria-label":"Modifica numero coach",title:"Modifica numero coach",onClick:()=>R(!0),children:""})]}),V?w.jsxs(w.Fragment,{children:[w.jsxs("label",{children:["Numero telefono / WhatsApp",w.jsx("input",{type:"tel",value:j,onChange:L=>D(L.target.value),placeholder:"Es. 3405882404"})]}),w.jsxs("div",{className:"supervisor-actions",children:[w.jsx("button",{className:"btn",type:"button",disabled:he,onClick:()=>void Fn(),children:he?"Salvataggio...":"Salva numero"}),w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:he,onClick:()=>{D(b),R(!1)},children:"Annulla"})]})]}):w.jsx("p",{className:"hint",children:w.jsx("strong",{children:b||"Non configurato"})})]}),w.jsxs("p",{className:"hint",children:["Stato accesso: ",w.jsx("strong",{children:x0(H==null?void 0:H.status)}),"  ","Scadenza: ",w.jsx("strong",{children:k0((H==null?void 0:H.expiresAt)??(H==null?void 0:H.trialEndsAt)??(H==null?void 0:H.subscriptionEndsAt))})]}),w.jsx("div",{className:"divider"}),w.jsx("h3",{children:"Elimina profilo"}),w.jsx("p",{className:"hint",children:"Se elimini il profilo coach perderai accesso, abbonamento, clienti associati e tutti i dati collegati."}),w.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>X(!0),children:"Elimina il mio profilo"})]})]}):null,t&&yt==="supervisor"?w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:"Gestione coach (Supervisor)"}),w.jsxs("label",{children:["Cerca coach per nome o email",w.jsx("input",{value:je,onChange:L=>Qe(L.target.value),placeholder:"Es. Mario Rossi o mario@gmail.com"})]}),w.jsxs("div",{className:"supervisor-list",children:[$i.map(L=>w.jsxs("article",{className:"supervisor-row",children:[w.jsxs("div",{children:[w.jsx("p",{children:w.jsx("strong",{children:L.displayName||"Coach senza nome"})}),w.jsx("p",{className:"hint",children:L.email}),w.jsxs("p",{className:"hint",children:["Codice: ",L.coachCode||"-"]}),w.jsxs("p",{className:"hint",children:["Stato: ",x0(L.isSupervisor?"supervisor_active":L.status)]}),w.jsxs("p",{className:"hint",children:["Scadenza: ",k0(L.expiresAt)]})]}),w.jsxs("div",{className:"supervisor-actions",children:[w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:L.isSupervisor||vt===L.uid,onClick:()=>void qi(L.uid,"activate"),children:L.status==="disabled"?"Sblocca":L.status==="active_paid"?"Rinnova +1 anno":"Attiva"}),w.jsx("button",{className:"btn btn-danger",type:"button",disabled:L.isSupervisor||vt===L.uid,onClick:()=>void qi(L.uid,"disable"),children:"Disattiva"})]})]},L.uid)),$i.length===0?w.jsx("article",{className:"supervisor-row",children:w.jsx("p",{className:"hint",children:"Nessun altro coach disponibile al momento. Quando un coach si registra, lo vedrai qui con stato e scadenza."})}):null]})]}):null,yt==="clients"||yt==="plans"?w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:yt==="plans"?"Schede tecniche":"Gestione cliente"}),w.jsxs("label",{children:["Clienti registrati",w.jsx(d4,{styles:jr,options:Bi,value:Rt,onChange:L=>mr((L==null?void 0:L.value)??""),placeholder:u.length===0?"Nessun cliente disponibile":"Cerca cliente per nome...",noOptionsMessage:()=>"Nessun risultato",isSearchable:!0})]}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void vr(),children:"Aggiorna lista clienti"}),u.length===0?w.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:[w.jsx("h2",{children:yt==="plans"?"Nessuna scheda disponibile":"Nessun cliente associato"}),w.jsx("p",{className:"hint",children:yt==="plans"?"Non hai ancora clienti associati, quindi non puoi creare schede. Quando un cliente inserisce il tuo codice coach, troverai qui la sezione per creare il programma.":"Al momento non hai clienti legati al tuo codice coach. Quando un cliente inserisce il tuo codice in onboarding, apparir qui."})]}):w.jsxs(w.Fragment,{children:[yt==="clients"?w.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:[w.jsx("h2",{children:"Anagrafica cliente"}),w.jsx("p",{className:"hint",children:"L'utente compila i dati base. Il questionario completo lo compili qui."}),w.jsx("button",{className:"btn",type:"button",onClick:Hi,disabled:y||!Xe,children:_?"Modifica anagrafica completa":"Compila anagrafica completa"}),ui?w.jsx("a",{className:"btn btn-whatsapp",href:ui,target:"_blank",rel:"noreferrer",children:"Scrivi al cliente su WhatsApp"}):w.jsx("p",{className:"hint",children:"Numero WhatsApp cliente non disponibile."}),w.jsxs("div",{className:"client-info-block",children:[w.jsx("h3",{children:"Anagrafica"}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Nome:"})," ",at(_==null?void 0:_.fullName)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Et:"})," ",at(_==null?void 0:_.age)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Sesso:"})," ",at(_==null?void 0:_.sex)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Email:"})," ",at(_==null?void 0:_.email)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Telefono:"})," ",at(_==null?void 0:_.phone)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Come ci ha conosciuto:"})," ",at(_==null?void 0:_.discoverySource)]})]}),w.jsxs("div",{className:"client-info-block",children:[w.jsx("h3",{children:"Stato fisico e allenamento"}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Altezza:"})," ",at(_==null?void 0:_.heightCm)," cm"]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Peso:"})," ",at(_==null?void 0:_.weightKg)," kg"]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Esperienza programmi:"})," ",at((_==null?void 0:_.pastProgram)||(_==null?void 0:_.experienceLevel))]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Allenamenti settimanali:"})," ",at((_==null?void 0:_.trainingFrequency)||(_==null?void 0:_.trainingDaysPerWeek))]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Durata sessione:"})," ",at(_==null?void 0:_.workoutDuration)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Luogo allenamento:"})," ",at(_==null?void 0:_.workoutLocation)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Attrezzatura:"})," ",at(_==null?void 0:_.equipment)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Allenamenti svolti:"})," ",at(_==null?void 0:_.trainingTypeHistory)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Infortuni/problemi:"})," ",at(_==null?void 0:_.hasInjuries)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Dettagli infortuni:"})," ",at(_==null?void 0:_.injuryDetails)]})]}),w.jsxs("div",{className:"client-info-block",children:[w.jsx("h3",{children:"Obiettivi"}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Obiettivo principale:"})," ",at((_==null?void 0:_.objectivePrimary)||(_==null?void 0:_.goal))]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Perch:"})," ",at(_==null?void 0:_.objectiveReason)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Timeline risultati:"})," ",at(_==null?void 0:_.expectedTimeline)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Cosa lo ha bloccato:"})," ",at((_==null?void 0:_.whatBlockedSoFar)||(_==null?void 0:_.notes))]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Miglioramento desiderato (3 mesi):"})," ",at(_==null?void 0:_.oneThingToImprove)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Importanza obiettivo:"})," ",at(_==null?void 0:_.importanceScore)," / 10"]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Rischio se non cambia:"})," ",at(_==null?void 0:_.riskIfNoChange)]})]}),w.jsxs("div",{className:"client-info-block",children:[w.jsx("h3",{children:"Supporto e decisione"}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Supporto preferito:"})," ",at(_==null?void 0:_.supportPreference)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Altro supporto:"})," ",at(_==null?void 0:_.supportPreferenceOther)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Fascia investimento:"})," ",at(_==null?void 0:_.investmentRange)]}),w.jsxs("p",{className:"hint",children:[w.jsx("strong",{children:"Disponibilit a partire:"})," ",at(_==null?void 0:_.readiness)]})]})]}):null,yt==="plans"?w.jsxs(w.Fragment,{children:[Xe?null:w.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:[w.jsx("h2",{children:"Seleziona un cliente"}),w.jsx("p",{className:"hint",children:"Scegli un cliente dalla lista in alto per creare o modificare la sua scheda tecnica."})]}),w.jsx("p",{className:"hint",children:Je?"Questo cliente ha gi una scheda: puoi modificarla.":"Questo cliente non ha ancora una scheda: ne creerai una nuova."}),w.jsxs("div",{className:"supervisor-actions",children:[Je?w.jsx("button",{className:"btn btn-ghost",disabled:y,onClick:()=>z(!0),type:"button",children:"Visualizza scheda"}):null,w.jsx("button",{className:"btn",disabled:y||!Xe,onClick:qs,type:"button",children:Je?"Modifica scheda":"Crea scheda"})]}),Je?w.jsx("button",{className:"btn btn-danger",disabled:y,onClick:()=>void yr(),type:"button",children:"Elimina scheda"}):null]}):null]})]}):null,K?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:"Anagrafica completa cliente"}),w.jsxs("p",{className:"hero-sub",children:["Step ",Se+1," di ",xl.length,"  Completamento ",It,"%"]}),w.jsx("div",{className:"onboarding-progress","aria-hidden":"true",children:w.jsx("div",{className:"onboarding-progress-bar",style:{width:`${It}%`}})}),w.jsx("div",{className:"step-tabs",children:xl.map((L,oe)=>w.jsx("button",{className:`step-tab ${Se===oe?"step-tab-active":""}`.trim(),type:"button",onClick:()=>ke(oe),children:L},L))}),Se===0?w.jsxs("div",{className:"modal-grid",children:[w.jsxs("label",{children:["Nome e cognome *",w.jsx("input",{value:$.fullName,onChange:L=>$e("fullName",L.target.value)})]}),w.jsxs("label",{children:["Et *",w.jsx("input",{type:"number",min:12,max:99,value:$.age,onChange:L=>$e("age",L.target.value)})]}),w.jsxs("label",{children:["Sesso *",w.jsx("input",{value:$.sex,onChange:L=>$e("sex",L.target.value)})]}),w.jsxs("label",{children:["E-mail *",w.jsx("input",{type:"email",value:$.email,onChange:L=>$e("email",L.target.value)})]}),w.jsxs("label",{children:["Telefono *",w.jsx("input",{type:"tel",value:$.phone,onChange:L=>$e("phone",L.target.value)})]}),w.jsxs("label",{children:["Come ci ha conosciuto",w.jsx("input",{value:$.discoverySource,onChange:L=>$e("discoverySource",L.target.value)})]})]}):null,Se===1?w.jsxs("div",{className:"modal-grid",children:[w.jsxs("label",{children:["Altezza (cm) *",w.jsx("input",{type:"number",min:100,max:250,value:$.heightCm,onChange:L=>$e("heightCm",L.target.value)})]}),w.jsxs("label",{children:["Peso (kg) *",w.jsx("input",{type:"number",min:30,max:250,value:$.weightKg,onChange:L=>$e("weightKg",L.target.value)})]}),w.jsxs("label",{children:["Programmi precedenti *",w.jsx("input",{value:$.pastProgram,onChange:L=>$e("pastProgram",L.target.value),placeholder:"Es. Si con coach online"})]}),w.jsxs("label",{children:["Frequenza allenamenti *",w.jsx("input",{value:$.trainingFrequency,onChange:L=>$e("trainingFrequency",L.target.value),placeholder:"Es. 3-4 a settimana"})]}),w.jsxs("label",{children:["Durata allenamento *",w.jsx("input",{value:$.workoutDuration,onChange:L=>$e("workoutDuration",L.target.value),placeholder:"Es. 45 minuti"})]}),w.jsxs("label",{children:["Dove si allena *",w.jsx("input",{value:$.workoutLocation,onChange:L=>$e("workoutLocation",L.target.value)})]}),w.jsxs("label",{children:["Attrezzatura disponibile *",w.jsx("input",{value:$.equipment,onChange:L=>$e("equipment",L.target.value)})]}),w.jsxs("label",{children:["Allenamenti fatti",w.jsx("textarea",{value:$.trainingTypeHistory,onChange:L=>$e("trainingTypeHistory",L.target.value)})]}),w.jsxs("label",{children:["Infortuni/problemi",w.jsx("input",{value:$.hasInjuries,onChange:L=>$e("hasInjuries",L.target.value),placeholder:"Si/No"})]}),w.jsxs("label",{children:["Dettagli infortuni",w.jsx("textarea",{value:$.injuryDetails,onChange:L=>$e("injuryDetails",L.target.value)})]})]}):null,Se===2?w.jsxs("div",{className:"modal-grid",children:[w.jsxs("label",{children:["Obiettivo principale *",w.jsx("input",{value:$.objectivePrimary,onChange:L=>$e("objectivePrimary",L.target.value)})]}),w.jsxs("label",{children:["Perch questo obiettivo? *",w.jsx("textarea",{value:$.objectiveReason,onChange:L=>$e("objectiveReason",L.target.value)})]}),w.jsxs("label",{children:["Timeline risultati *",w.jsx("input",{value:$.expectedTimeline,onChange:L=>$e("expectedTimeline",L.target.value)})]}),w.jsxs("label",{children:["Cosa lo ha bloccato",w.jsx("textarea",{value:$.whatBlockedSoFar,onChange:L=>$e("whatBlockedSoFar",L.target.value)})]}),w.jsxs("label",{children:["Miglioramento nei prossimi 3 mesi",w.jsx("textarea",{value:$.oneThingToImprove,onChange:L=>$e("oneThingToImprove",L.target.value)})]}),w.jsxs("label",{children:["Importanza obiettivo (1-10)",w.jsx("input",{type:"number",min:1,max:10,value:$.importanceScore,onChange:L=>$e("importanceScore",L.target.value)})]}),w.jsxs("label",{children:["Rischio se non cambia",w.jsx("textarea",{value:$.riskIfNoChange,onChange:L=>$e("riskIfNoChange",L.target.value)})]})]}):null,Se===3?w.jsxs("div",{className:"modal-grid",children:[w.jsxs("label",{children:["Supporto preferito *",w.jsx("input",{value:$.supportPreference,onChange:L=>$e("supportPreference",L.target.value)})]}),w.jsxs("label",{children:["Altro supporto",w.jsx("input",{value:$.supportPreferenceOther,onChange:L=>$e("supportPreferenceOther",L.target.value)})]}),w.jsxs("label",{children:["Fascia investimento *",w.jsx("input",{value:$.investmentRange,onChange:L=>$e("investmentRange",L.target.value),placeholder:"Es. 150-250"})]}),w.jsxs("label",{children:["Disponibilit a partire *",w.jsx("input",{value:$.readiness,onChange:L=>$e("readiness",L.target.value)})]}),w.jsxs("label",{children:["Note coach",w.jsx("textarea",{value:$.notes,onChange:L=>$e("notes",L.target.value)})]})]}):null,w.jsxs("div",{className:"onboarding-actions",children:[w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:Se===0,onClick:()=>ke(L=>Math.max(L-1,0)),children:"Indietro"}),Se<xl.length-1?w.jsx("button",{className:"btn",type:"button",onClick:()=>ke(L=>Math.min(L+1,xl.length-1)),children:"Continua"}):w.jsx("button",{className:"btn",type:"button",onClick:()=>void Wi(),disabled:y,children:y?"Salvataggio...":"Salva anagrafica"})]}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:In,children:"Chiudi"})]})}):null,N?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:Je?"Modifica scheda":"Compila la scheda"}),w.jsx("p",{className:"hint",children:"Aggiungi esercizi uno alla volta per completare il programma."}),w.jsxs("label",{children:["Titolo scheda *",w.jsx("input",{value:zi,onChange:L=>Qn(L.target.value),placeholder:"Forza 4 settimane",required:!0})]}),Bs.map((L,oe)=>w.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px solid rgba(18,18,18,0.10)"},children:[w.jsxs("div",{className:"exercise-head",children:[w.jsxs("h2",{children:["Esercizio ",oe+1]}),w.jsx("button",{className:"icon-btn",type:"button",onClick:()=>Ws(oe),"aria-label":`Reset esercizio ${oe+1}`,title:"Reset esercizio",children:""})]}),w.jsxs("label",{children:["Nome esercizio",w.jsx("input",{value:L.name,onChange:ge=>Sn(oe,{name:ge.target.value}),placeholder:"Es. Squat bilanciere"})]}),w.jsxs("label",{children:["Numero serie",w.jsx("input",{type:"number",min:1,value:L.sets,onChange:ge=>Sn(oe,{sets:Number(ge.target.value)})})]}),w.jsxs("label",{children:["Ripetizioni",w.jsx("input",{type:"number",min:1,value:L.reps,onChange:ge=>Sn(oe,{reps:Number(ge.target.value)}),placeholder:"10"})]}),w.jsxs("label",{children:["Peso",w.jsx("input",{value:L.weight,onChange:ge=>Sn(oe,{weight:ge.target.value}),placeholder:"Es. 40kg o corpo libero"})]}),w.jsxs("label",{children:["URL video (YouTube o link diretto)",w.jsx("input",{value:P0(L.mediaUrl)?L.mediaUrl:"",onChange:ge=>Sn(oe,{mediaUrl:ge.target.value}),placeholder:"https://..."})]}),w.jsxs("label",{children:["Oppure carica un'immagine",w.jsx("input",{type:"file",accept:"image/*",onChange:ge=>{var et;return void Gs(oe,((et=ge.target.files)==null?void 0:et[0])??null)},disabled:ue===oe}),Sp(L.mediaUrl)?w.jsx("img",{src:L.mediaUrl,alt:`Anteprima esercizio ${oe+1}`,className:"exercise-upload-preview"}):null]}),Sp(L.mediaUrl)?w.jsxs("p",{className:"hint",children:["Immagine caricata."," ",w.jsx("button",{className:"btn-link",type:"button",onClick:()=>Sn(oe,{mediaUrl:""}),children:"Rimuovi"})]}):null,ue===oe?w.jsx("p",{className:"hint",children:"Caricamento media in corso..."}):null,w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>Hs(oe),children:"Rimuovi esercizio"})]},`exercise-${oe}`)),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:$s,children:"Aggiungi esercizio"}),w.jsx("button",{className:"btn",type:"button",disabled:y||Xn,onClick:()=>void Jn(),children:Xn?"Attendi caricamento media...":Je?"Salva modifiche":"Salva scheda tecnica"}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:fi,children:"Chiudi"})]})}):null,C&&Je?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:"Scheda in sola lettura"}),w.jsxs("p",{className:"hint",children:["Cliente: ",ci[Xe]||Xe]}),w.jsxs("div",{className:"plan-head",children:[w.jsx("p",{className:"hint",children:"Titolo programma"}),w.jsx("h3",{children:Je.title||"Senza titolo"})]}),w.jsx("div",{className:"exercise-grid",children:Tp(Je.exercises).map((L,oe)=>w.jsxs("article",{className:"exercise-card",children:[w.jsx("p",{className:"exercise-name",children:L.name||`Esercizio ${oe+1}`}),w.jsxs("div",{className:"exercise-meta",children:[w.jsxs("span",{children:[L.sets||"-"," serie"]}),w.jsxs("span",{children:[L.reps||"-"," reps"]}),w.jsx("span",{children:L.weight||"Peso libero"})]}),L.mediaUrl?w.jsx("a",{className:"btn-link",href:L.mediaUrl,target:"_blank",rel:"noreferrer",children:P0(L.mediaUrl)?"Apri video":Sp(L.mediaUrl)?"Apri immagine":"Apri link"}):w.jsx("p",{className:"hint",children:"Nessun media allegato"})]},`preview-ex-${oe}`))}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>z(!1),children:"Chiudi"})]})}):null,Z&&!(H!=null&&H.isSupervisor)?w.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:w.jsxs("article",{className:"card modal-card",children:[w.jsx("h2",{children:"Conferma eliminazione profilo coach"}),w.jsx("p",{className:"hint",children:"Eliminando il profilo perderai definitivamente dati, abbonamento e associazioni clienti legate al tuo account coach."}),w.jsx("p",{className:"hint",children:"L'operazione segue le policy aziendali. Termini, Condizioni d'uso e Privacy Policy verranno pubblicati e linkati qui."}),w.jsxs("div",{className:"onboarding-actions",children:[w.jsx("button",{className:"btn btn-ghost",type:"button",disabled:ne,onClick:()=>X(!1),children:"Annulla"}),w.jsx("button",{className:"btn btn-danger",type:"button",disabled:ne,onClick:()=>void Gi(),children:ne?"Eliminazione...":"Conferma eliminazione"})]})]})}):null,yt==="overview"?w.jsxs("article",{className:"card",children:[w.jsx("h2",{children:"Panoramica"}),w.jsxs("p",{className:"hint",children:["Clienti registrati: ",u.length]}),w.jsxs("p",{className:"hint",children:["Programmi creati: ",f.length]}),w.jsx("ul",{className:"list",children:f.slice(0,5).map(L=>{var oe;return w.jsxs("li",{children:[w.jsx("strong",{children:L.title}),"  ",((oe=L.exercises)==null?void 0:oe.length)??0," esercizi  cliente ",ci[L.clientId]||L.clientId]},L.id)})})]}):null,y?w.jsx("p",{className:"message",children:"Caricamento..."}):null]})}function v4(){const{user:n,role:e}=Wa(),t=ou(),{showError:r,showSuccess:s}=Uh(),[a,u]=M.useState(!1),[d,f]=M.useState({fullName:(n==null?void 0:n.displayName)??"",email:(n==null?void 0:n.email)??"",phone:"",coachCode:""});if(!n)return w.jsx(Or,{to:"/auth",replace:!0});if(e==="admin"||e==="trainer")return w.jsx(Or,{to:"/app/coach",replace:!0});function m(_,A){f(N=>({...N,[_]:A}))}function y(){return d.fullName.trim()?d.email.trim()?d.phone.trim()?d.coachCode.trim()?null:"Inserisci il codice coach.":"Inserisci numero di telefono.":"Inserisci e-mail.":"Inserisci nome e cognome."}async function T(){const _=y();if(_){r(_);return}u(!0);try{await QD({fullName:d.fullName.trim(),email:d.email.trim(),phone:d.phone.trim(),coachCode:d.coachCode.trim()}),s("Profilo salvato. Ora puoi entrare nella tua area."),t("/app/client",{replace:!0})}catch(A){r(xt(A))}finally{u(!1)}}return w.jsx("main",{className:"page page-center",children:w.jsxs("section",{className:"card auth-card",children:[w.jsx("p",{className:"eyebrow",children:"Onboarding Cliente"}),w.jsx("h1",{children:"Completa il tuo profilo"}),w.jsx("p",{className:"hero-sub",children:"Inserisci solo i dati base. Il coach completer l'anagrafica avanzata."}),w.jsx("div",{className:"onboarding-progress","aria-hidden":"true",children:w.jsx("div",{className:"onboarding-progress-bar",style:{width:"100%"}})}),w.jsxs("label",{children:["Nome e cognome *",w.jsx("input",{value:d.fullName,onChange:_=>m("fullName",_.target.value),placeholder:"Nome e cognome"})]}),w.jsxs("label",{children:["E-mail *",w.jsx("input",{value:d.email,onChange:_=>m("email",_.target.value),type:"email",placeholder:"nome@esempio.com"})]}),w.jsxs("label",{children:["Numero di telefono *",w.jsx("input",{value:d.phone,onChange:_=>m("phone",_.target.value),type:"tel",inputMode:"numeric",placeholder:"Es. 3405882404"})]}),w.jsxs("label",{children:["Codice coach *",w.jsx("input",{value:d.coachCode,onChange:_=>m("coachCode",_.target.value),placeholder:"Es. lorenzobeastly"})]}),w.jsx("button",{className:"btn",disabled:a,type:"button",onClick:()=>void T(),children:a?"Salvataggio...":"Continua"}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void hr(),children:"Esci e cambia account"})]})})}function BI(){return w.jsx("main",{className:"page page-center",children:w.jsxs("div",{className:"card",children:[w.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),w.jsx("h1",{children:"Caricamento in corso"})]})})}class y4 extends M.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error("App render error:",e)}render(){return this.state.hasError?w.jsx("main",{className:"page page-center",children:w.jsxs("section",{className:"card auth-card",children:[w.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),w.jsx("h1",{children:"Qualcosa non ha funzionato"}),w.jsx("p",{className:"hero-sub",children:"Ricarica la pagina o esci e rientra nel tuo profilo."}),w.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>window.location.assign("/auth"),children:"Torna all'accesso"})]})}):this.props.children}}function N0({allow:n,children:e}){const{user:t,role:r,initializing:s}=Wa();return s?w.jsx(BI,{}):t?r?n.includes(r)?e:w.jsx(Or,{to:r==="client"?"/app/client":"/app/coach",replace:!0}):n.includes("client")?e:w.jsx(Or,{to:"/onboarding",replace:!0}):w.jsx(Or,{to:"/auth",replace:!0})}function _4(){const{user:n,role:e,initializing:t}=Wa();return t?w.jsx(BI,{}):n?e?w.jsx(Or,{to:e==="client"?"/app/client":"/app/coach",replace:!0}):w.jsx(Or,{to:"/app/client",replace:!0}):w.jsx(Or,{to:"/auth",replace:!0})}function w4(){return w.jsx(y4,{children:w.jsxs(GC,{children:[w.jsx(go,{path:"/",element:w.jsx(_4,{})}),w.jsx(go,{path:"/auth",element:w.jsx(y2,{})}),w.jsx(go,{path:"/onboarding",element:w.jsx(v4,{})}),w.jsx(go,{path:"/app/coach",element:w.jsx(N0,{allow:["admin","trainer"],children:w.jsx(g4,{})})}),w.jsx(go,{path:"/app/client",element:w.jsx(N0,{allow:["client"],children:w.jsx(w2,{})})}),w.jsx(go,{path:"*",element:w.jsx(Or,{to:"/",replace:!0})})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});tC.createRoot(document.getElementById("root")).render(w.jsx(D0.StrictMode,{children:w.jsx(ZC,{children:w.jsx(XC,{children:w.jsx(w4,{})})})}));
