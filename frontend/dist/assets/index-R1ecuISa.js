function fC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function K0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var op={exports:{}},Jl={},ap={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function pC(){if(t_)return Qe;t_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=E&&W[E]||W["@@iterator"],typeof W=="function"?W:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function b(W,U,fe){this.props=W,this.context=U,this.refs=R,this.updater=fe||A}b.prototype.isReactComponent={},b.prototype.setState=function(W,U){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,U,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function $(){}$.prototype=b.prototype;function K(W,U,fe){this.props=W,this.context=U,this.refs=R,this.updater=fe||A}var Q=K.prototype=new $;Q.constructor=K,D(Q,b.prototype),Q.isPureReactComponent=!0;var te=Array.isArray,z=Object.prototype.hasOwnProperty,Z={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function P(W,U,fe){var ge,Pe={},le=null,Ve=null;if(U!=null)for(ge in U.ref!==void 0&&(Ve=U.ref),U.key!==void 0&&(le=""+U.key),U)z.call(U,ge)&&!x.hasOwnProperty(ge)&&(Pe[ge]=U[ge]);var De=arguments.length-2;if(De===1)Pe.children=fe;else if(1<De){for(var Ge=Array(De),St=0;St<De;St++)Ge[St]=arguments[St+2];Pe.children=Ge}if(W&&W.defaultProps)for(ge in De=W.defaultProps,De)Pe[ge]===void 0&&(Pe[ge]=De[ge]);return{$$typeof:n,type:W,key:le,ref:Ve,props:Pe,_owner:Z.current}}function k(W,U){return{$$typeof:n,type:W.type,key:U,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function V(W){var U={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(fe){return U[fe]})}var j=/\/+/g;function N(W,U){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):U.toString(36)}function Fe(W,U,fe,ge,Pe){var le=typeof W;(le==="undefined"||le==="boolean")&&(W=null);var Ve=!1;if(W===null)Ve=!0;else switch(le){case"string":case"number":Ve=!0;break;case"object":switch(W.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=W,Pe=Pe(Ve),W=ge===""?"."+N(Ve,0):ge,te(Pe)?(fe="",W!=null&&(fe=W.replace(j,"$&/")+"/"),Fe(Pe,U,fe,"",function(St){return St})):Pe!=null&&(L(Pe)&&(Pe=k(Pe,fe+(!Pe.key||Ve&&Ve.key===Pe.key?"":(""+Pe.key).replace(j,"$&/")+"/")+W)),U.push(Pe)),1;if(Ve=0,ge=ge===""?".":ge+":",te(W))for(var De=0;De<W.length;De++){le=W[De];var Ge=ge+N(le,De);Ve+=Fe(le,U,fe,Ge,Pe)}else if(Ge=w(W),typeof Ge=="function")for(W=Ge.call(W),De=0;!(le=W.next()).done;)le=le.value,Ge=ge+N(le,De++),Ve+=Fe(le,U,fe,Ge,Pe);else if(le==="object")throw U=String(W),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Oe(W,U,fe){if(W==null)return W;var ge=[],Pe=0;return Fe(W,ge,"","",function(le){return U.call(fe,le,Pe++)}),ge}function $e(W){if(W._status===-1){var U=W._result;U=U(),U.then(function(fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=fe)},function(fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=fe)}),W._status===-1&&(W._status=0,W._result=U)}if(W._status===1)return W._result.default;throw W._result}var Me={current:null},ae={transition:null},ye={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Z};function de(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:Oe,forEach:function(W,U,fe){Oe(W,function(){U.apply(this,arguments)},fe)},count:function(W){var U=0;return Oe(W,function(){U++}),U},toArray:function(W){return Oe(W,function(U){return U})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Qe.Component=b,Qe.Fragment=t,Qe.Profiler=s,Qe.PureComponent=K,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Qe.act=de,Qe.cloneElement=function(W,U,fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ge=D({},W.props),Pe=W.key,le=W.ref,Ve=W._owner;if(U!=null){if(U.ref!==void 0&&(le=U.ref,Ve=Z.current),U.key!==void 0&&(Pe=""+U.key),W.type&&W.type.defaultProps)var De=W.type.defaultProps;for(Ge in U)z.call(U,Ge)&&!x.hasOwnProperty(Ge)&&(ge[Ge]=U[Ge]===void 0&&De!==void 0?De[Ge]:U[Ge])}var Ge=arguments.length-2;if(Ge===1)ge.children=fe;else if(1<Ge){De=Array(Ge);for(var St=0;St<Ge;St++)De[St]=arguments[St+2];ge.children=De}return{$$typeof:n,type:W.type,key:Pe,ref:le,props:ge,_owner:Ve}},Qe.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Qe.createElement=P,Qe.createFactory=function(W){var U=P.bind(null,W);return U.type=W,U},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(W){return{$$typeof:f,render:W}},Qe.isValidElement=L,Qe.lazy=function(W){return{$$typeof:_,_payload:{_status:-1,_result:W},_init:$e}},Qe.memo=function(W,U){return{$$typeof:m,type:W,compare:U===void 0?null:U}},Qe.startTransition=function(W){var U=ae.transition;ae.transition={};try{W()}finally{ae.transition=U}},Qe.unstable_act=de,Qe.useCallback=function(W,U){return Me.current.useCallback(W,U)},Qe.useContext=function(W){return Me.current.useContext(W)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(W){return Me.current.useDeferredValue(W)},Qe.useEffect=function(W,U){return Me.current.useEffect(W,U)},Qe.useId=function(){return Me.current.useId()},Qe.useImperativeHandle=function(W,U,fe){return Me.current.useImperativeHandle(W,U,fe)},Qe.useInsertionEffect=function(W,U){return Me.current.useInsertionEffect(W,U)},Qe.useLayoutEffect=function(W,U){return Me.current.useLayoutEffect(W,U)},Qe.useMemo=function(W,U){return Me.current.useMemo(W,U)},Qe.useReducer=function(W,U,fe){return Me.current.useReducer(W,U,fe)},Qe.useRef=function(W){return Me.current.useRef(W)},Qe.useState=function(W){return Me.current.useState(W)},Qe.useSyncExternalStore=function(W,U,fe){return Me.current.useSyncExternalStore(W,U,fe)},Qe.useTransition=function(){return Me.current.useTransition()},Qe.version="18.3.1",Qe}var n_;function Rm(){return n_||(n_=1,ap.exports=pC()),ap.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function mC(){if(r_)return Jl;r_=1;var n=Rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var _,E={},w=null,A=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(A=h.ref);for(_ in h)r.call(h,_)&&!a.hasOwnProperty(_)&&(E[_]=h[_]);if(f&&f.defaultProps)for(_ in h=f.defaultProps,h)E[_]===void 0&&(E[_]=h[_]);return{$$typeof:e,type:f,key:w,ref:A,props:E,_owner:s.current}}return Jl.Fragment=t,Jl.jsx=u,Jl.jsxs=u,Jl}var i_;function gC(){return i_||(i_=1,op.exports=mC()),op.exports}var g=gC(),O=Rm();const G0=K0(O),Lp=fC({__proto__:null,default:G0},[O]);var Qc={},lp={exports:{}},or={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function vC(){return s_||(s_=1,(function(n){function e(ae,ye){var de=ae.length;ae.push(ye);e:for(;0<de;){var W=de-1>>>1,U=ae[W];if(0<s(U,ye))ae[W]=ye,ae[de]=U,de=W;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ye=ae[0],de=ae.pop();if(de!==ye){ae[0]=de;e:for(var W=0,U=ae.length,fe=U>>>1;W<fe;){var ge=2*(W+1)-1,Pe=ae[ge],le=ge+1,Ve=ae[le];if(0>s(Pe,de))le<U&&0>s(Ve,Pe)?(ae[W]=Ve,ae[le]=de,W=le):(ae[W]=Pe,ae[ge]=de,W=ge);else if(le<U&&0>s(Ve,de))ae[W]=Ve,ae[le]=de,W=le;else break e}}return ye}function s(ae,ye){var de=ae.sortIndex-ye.sortIndex;return de!==0?de:ae.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],_=1,E=null,w=3,A=!1,D=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ae){for(var ye=t(m);ye!==null;){if(ye.callback===null)r(m);else if(ye.startTime<=ae)r(m),ye.sortIndex=ye.expirationTime,e(h,ye);else break;ye=t(m)}}function te(ae){if(R=!1,Q(ae),!D)if(t(h)!==null)D=!0,$e(z);else{var ye=t(m);ye!==null&&Me(te,ye.startTime-ae)}}function z(ae,ye){D=!1,R&&(R=!1,$(P),P=-1),A=!0;var de=w;try{for(Q(ye),E=t(h);E!==null&&(!(E.expirationTime>ye)||ae&&!V());){var W=E.callback;if(typeof W=="function"){E.callback=null,w=E.priorityLevel;var U=W(E.expirationTime<=ye);ye=n.unstable_now(),typeof U=="function"?E.callback=U:E===t(h)&&r(h),Q(ye)}else r(h);E=t(h)}if(E!==null)var fe=!0;else{var ge=t(m);ge!==null&&Me(te,ge.startTime-ye),fe=!1}return fe}finally{E=null,w=de,A=!1}}var Z=!1,x=null,P=-1,k=5,L=-1;function V(){return!(n.unstable_now()-L<k)}function j(){if(x!==null){var ae=n.unstable_now();L=ae;var ye=!0;try{ye=x(!0,ae)}finally{ye?N():(Z=!1,x=null)}}else Z=!1}var N;if(typeof K=="function")N=function(){K(j)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Oe=Fe.port2;Fe.port1.onmessage=j,N=function(){Oe.postMessage(null)}}else N=function(){b(j,0)};function $e(ae){x=ae,Z||(Z=!0,N())}function Me(ae,ye){P=b(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,$e(z))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var de=w;w=ye;try{return ae()}finally{w=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=w;w=ae;try{return ye()}finally{w=de}},n.unstable_scheduleCallback=function(ae,ye,de){var W=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?W+de:W):de=W,ae){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=de+U,ae={id:_++,callback:ye,priorityLevel:ae,startTime:de,expirationTime:U,sortIndex:-1},de>W?(ae.sortIndex=de,e(m,ae),t(h)===null&&ae===t(m)&&(R?($(P),P=-1):R=!0,Me(te,de-W))):(ae.sortIndex=U,e(h,ae),D||A||(D=!0,$e(z))),ae},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ae){var ye=w;return function(){var de=w;w=ye;try{return ae.apply(this,arguments)}finally{w=de}}}})(cp)),cp}var o_;function yC(){return o_||(o_=1,up.exports=vC()),up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function _C(){if(a_)return or;a_=1;var n=Rm(),e=yC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function w(i){return h.call(E,i)?!0:h.call(_,i)?!1:m.test(i)?E[i]=!0:(_[i]=!0,!1)}function A(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,o,l,d){if(o===null||typeof o>"u"||A(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,l,d,p,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace($,K);b[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace($,K);b[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace($,K);b[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,o,l,d){var p=b.hasOwnProperty(o)?b[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,l,p,d)&&(l=null),d||p===null?w(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),Z=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var de=Object.assign,W;function U(i){if(W===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var fe=!1;function ge(i,o){if(!i||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var d=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){d=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=d.stack.split(`
`),T=p.length-1,M=y.length-1;1<=T&&0<=M&&p[T]!==y[M];)M--;for(;1<=T&&0<=M;T--,M--)if(p[T]!==y[M]){if(T!==1||M!==1)do if(T--,M--,0>M||p[T]!==y[M]){var F=`
`+p[T].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=T&&0<=M);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?U(i):""}function Pe(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case Fe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Oe:return o=i.displayName||null,o!==null?o:le(i.type)||"Memo";case $e:o=i._payload,i=i._init;try{return le(i(o))}catch{}}return null}function Ve(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(i){var o=Ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ie(i){i._valueTracker||(i._valueTracker=St(i))}function qe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Ge(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function st(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function rt(i,o){var l=o.checked;return de({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ot(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=De(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function zt(i,o){o=o.checked,o!=null&&Q(i,"checked",o,!1)}function Pt(i,o){zt(i,o);var l=De(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?rn(i,o.type,l):o.hasOwnProperty("defaultValue")&&rn(i,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function lt(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function rn(i,o,l){(o!=="number"||st(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var pt=Array.isArray;function Vt(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+De(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function et(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function dt(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(pt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:De(l)}}function Wr(i,o){var l=De(o.value),d=De(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function Hr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function mt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?mt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var br,qr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function hr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cr=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(i){Cr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Bn[o]=Bn[i]})});function Pr(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Bn.hasOwnProperty(i)&&Bn[i]?(""+o).trim():o+"px"}function Ui(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Pr(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Wn=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(i,o){if(o){if(Wn[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function zi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function Gr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ar=null,Vn=null,En=null;function pi(i){if(i=jl(i)){if(typeof Ar!="function")throw Error(t(280));var o=i.stateNode;o&&(o=cc(o),Ar(i.stateNode,i.type,o))}}function Hn(i){Vn?En?En.push(i):En=[i]:Vn=i}function Ss(){if(Vn){var i=Vn,o=En;if(En=Vn=null,pi(i),o)for(i=0;i<o.length;i++)pi(o[i])}}function Qr(i,o){return i(o)}function Ts(){}var Rr=!1;function sn(i,o,l){if(Rr)return i(o,l);Rr=!0;try{return Qr(i,o,l)}finally{Rr=!1,(Vn!==null||En!==null)&&(Ts(),Ss())}}function Ze(i,o){var l=i.stateNode;if(l===null)return null;var d=cc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Be=!1;if(f)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Be=!1}function Nt(i,o,l,d,p,y,T,M,F){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(oe){this.onError(oe)}}var mi=!1,qn=null,Kn=!1,Xr=null,na={onError:function(i){mi=!0,qn=i}};function Is(i,o,l,d,p,y,T,M,F){mi=!1,qn=null,Nt.apply(na,arguments)}function ra(i,o,l,d,p,y,T,M,F){if(Is.apply(this,arguments),mi){if(mi){var Y=qn;mi=!1,qn=null}else throw Error(t(198));Kn||(Kn=!0,Xr=Y)}}function Gn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Bi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Qn(i){if(Gn(i)!==i)throw Error(t(188))}function vo(i){var o=i.alternate;if(!o){if(o=Gn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Qn(p),i;if(y===d)return Qn(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var T=!1,M=p.child;M;){if(M===l){T=!0,l=p,d=y;break}if(M===d){T=!0,d=p,l=y;break}M=M.sibling}if(!T){for(M=y.child;M;){if(M===l){T=!0,l=y,d=p;break}if(M===d){T=!0,d=y,l=p;break}M=M.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Wi(i){return i=vo(i),i!==null?Hi(i):null}function Hi(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Hi(i);if(o!==null)return o;i=i.sibling}return null}var jn=e.unstable_scheduleCallback,yo=e.unstable_cancelCallback,ia=e.unstable_shouldYield,El=e.unstable_requestPaint,We=e.unstable_now,gt=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,_o=e.unstable_LowPriority,wo=e.unstable_IdlePriority,Ki=null,Ln=null;function sa(i){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ki,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:oa,Eo=Math.log,So=Math.LN2;function oa(i){return i>>>=0,i===0?32:31-(Eo(i)/So|0)|0}var bs=64,Cs=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Gi(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var M=T&~p;M!==0?d=gi(M):(y&=T,y!==0&&(d=gi(y)))}else T=l&~p,T!==0?d=gi(T):y!==0&&(d=gi(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-dn(o),p=1<<l,d|=i[l],o&=~p;return d}function Sl(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-dn(y),M=1<<T,F=p[T];F===-1?((M&l)===0||(M&d)!==0)&&(p[T]=Sl(M,o)):F<=o&&(i.expiredLanes|=M),y&=~M}}function hn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Qi(){var i=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),i}function Zr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function vi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=l}function vt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-dn(l),y=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function yi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-dn(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var Xe=0;function I(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var X,ee,Ie,He,xr,fr=!1,kr=[],Jt=null,Yn=null,Jn=null,Ps=new Map,Nr=new Map,_i=[],Vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(i,o){switch(i){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(o.pointerId)}}function Zn(i,o,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},o!==null&&(o=jl(o),o!==null&&ee(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function jh(i,o,l,d,p){switch(o){case"focusin":return Jt=Zn(Jt,i,o,l,d,p),!0;case"dragenter":return Yn=Zn(Yn,i,o,l,d,p),!0;case"mouseover":return Jn=Zn(Jn,i,o,l,d,p),!0;case"pointerover":var y=p.pointerId;return Ps.set(y,Zn(Ps.get(y)||null,i,o,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Nr.set(y,Zn(Nr.get(y)||null,i,o,l,d,p)),!0}return!1}function Gu(i){var o=Po(i.target);if(o!==null){var l=Gn(o);if(l!==null){if(o=l.tag,o===13){if(o=Bi(l),o!==null){i.blockedOn=o,xr(i.priority,function(){Ie(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=aa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);$i=d,l.target.dispatchEvent(d),$i=null}else return o=jl(l),o!==null&&ee(o),i.blockedOn=l,!1;o.shift()}return!0}function To(i,o,l){Xi(i)&&l.delete(o)}function Qu(){fr=!1,Jt!==null&&Xi(Jt)&&(Jt=null),Yn!==null&&Xi(Yn)&&(Yn=null),Jn!==null&&Xi(Jn)&&(Jn=null),Ps.forEach(To),Nr.forEach(To)}function ei(i,o){i.blockedOn===o&&(i.blockedOn=null,fr||(fr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qu)))}function ti(i){function o(p){return ei(p,i)}if(0<kr.length){ei(kr[0],i);for(var l=1;l<kr.length;l++){var d=kr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Jt!==null&&ei(Jt,i),Yn!==null&&ei(Yn,i),Jn!==null&&ei(Jn,i),Ps.forEach(o),Nr.forEach(o),l=0;l<_i.length;l++)d=_i[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<_i.length&&(l=_i[0],l.blockedOn===null);)Gu(l),l.blockedOn===null&&_i.shift()}var Yi=te.ReactCurrentBatchConfig,As=!0;function At(i,o,l,d){var p=Xe,y=Yi.transition;Yi.transition=null;try{Xe=1,Tl(i,o,l,d)}finally{Xe=p,Yi.transition=y}}function Lh(i,o,l,d){var p=Xe,y=Yi.transition;Yi.transition=null;try{Xe=4,Tl(i,o,l,d)}finally{Xe=p,Yi.transition=y}}function Tl(i,o,l,d){if(As){var p=aa(i,o,l,d);if(p===null)Qh(i,o,d,Io,l),Ku(i,d);else if(jh(p,i,o,l,d))d.stopPropagation();else if(Ku(i,d),o&4&&-1<Vh.indexOf(i)){for(;p!==null;){var y=jl(p);if(y!==null&&X(y),y=aa(i,o,l,d),y===null&&Qh(i,o,d,Io,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Qh(i,o,d,null,l)}}var Io=null;function aa(i,o,l,d){if(Io=null,i=Gr(d),i=Po(i),i!==null)if(o=Gn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Bi(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Io=i,null}function Il(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gt()){case qi:return 1;case Yr:return 4;case Xn:case _o:return 16;case wo:return 536870912;default:return 16}default:return 16}}var pr=null,la=null,er=null;function bl(){if(er)return er;var i,o=la,l=o.length,d,p="value"in pr?pr.value:pr.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===p[y-d];d++);return er=p.slice(i,1<d?1-d:void 0)}function ua(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function Cl(){return!1}function fn(i){function o(l,d,p,y,T){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wi:Cl,this.isPropagationStopped=Cl,this}return de(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=fn(ni),Ei=de({},ni,{view:0,detail:0}),Fh=fn(Ei),da,Ji,Rs,bo=de({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rs&&(Rs&&i.type==="mousemove"?(da=i.screenX-Rs.screenX,Ji=i.screenY-Rs.screenY):Ji=da=0,Rs=i),da)},movementY:function(i){return"movementY"in i?i.movementY:Ji}}),ha=fn(bo),Pl=de({},bo,{dataTransfer:0}),Xu=fn(Pl),fa=de({},Ei,{relatedTarget:0}),pa=fn(fa),Yu=de({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Zi=fn(Yu),Ju=de({},ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zu=fn(Ju),ec=de({},ni,{data:0}),Al=fn(ec),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=tc[i])?!!o[i]:!1}function Si(){return nc}var c=de({},Ei,{key:function(i){if(i.key){var o=ma[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(i){return i.type==="keypress"?ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=fn(c),S=de({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=fn(S),H=de({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),J=fn(H),he=de({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=fn(he),Zt=de({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=fn(Zt),on=[9,13,27,32],Ht=f&&"CompositionEvent"in window,Or=null;f&&"documentMode"in document&&(Or=document.documentMode);var mr=f&&"TextEvent"in window&&!Or,Co=f&&(!Ht||Or&&8<Or&&11>=Or),ga=" ",Qg=!1;function Xg(i,o){switch(i){case"keyup":return on.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var va=!1;function cb(i,o){switch(i){case"compositionend":return Yg(o);case"keypress":return o.which!==32?null:(Qg=!0,ga);case"textInput":return i=o.data,i===ga&&Qg?null:i;default:return null}}function db(i,o){if(va)return i==="compositionend"||!Ht&&Xg(i,o)?(i=bl(),er=la=pr=null,va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Co&&o.locale!=="ko"?null:o.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!hb[i.type]:o==="textarea"}function Zg(i,o,l,d){Hn(d),o=ac(o,"onChange"),0<o.length&&(l=new ca("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Rl=null,xl=null;function fb(i){vv(i,0)}function rc(i){var o=Sa(i);if(qe(o))return i}function pb(i,o){if(i==="change")return o}var ev=!1;if(f){var Uh;if(f){var zh="oninput"in document;if(!zh){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),zh=typeof tv.oninput=="function"}Uh=zh}else Uh=!1;ev=Uh&&(!document.documentMode||9<document.documentMode)}function nv(){Rl&&(Rl.detachEvent("onpropertychange",rv),xl=Rl=null)}function rv(i){if(i.propertyName==="value"&&rc(xl)){var o=[];Zg(o,xl,i,Gr(i)),sn(fb,o)}}function mb(i,o,l){i==="focusin"?(nv(),Rl=o,xl=l,Rl.attachEvent("onpropertychange",rv)):i==="focusout"&&nv()}function gb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rc(xl)}function vb(i,o){if(i==="click")return rc(o)}function yb(i,o){if(i==="input"||i==="change")return rc(o)}function _b(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ri=typeof Object.is=="function"?Object.is:_b;function kl(i,o){if(ri(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(o,p)||!ri(i[p],o[p]))return!1}return!0}function iv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sv(i,o){var l=iv(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=iv(l)}}function ov(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ov(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function av(){for(var i=window,o=st();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=st(i.document)}return o}function $h(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function wb(i){var o=av(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ov(l.ownerDocument.documentElement,l)){if(d!==null&&$h(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=sv(l,y);var T=sv(l,d);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Eb=f&&"documentMode"in document&&11>=document.documentMode,ya=null,Bh=null,Nl=null,Wh=!1;function lv(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wh||ya==null||ya!==st(d)||(d=ya,"selectionStart"in d&&$h(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Nl&&kl(Nl,d)||(Nl=d,d=ac(Bh,"onSelect"),0<d.length&&(o=new ca("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=ya)))}function ic(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var _a={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Hh={},uv={};f&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function sc(i){if(Hh[i])return Hh[i];if(!_a[i])return i;var o=_a[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in uv)return Hh[i]=o[l];return i}var cv=sc("animationend"),dv=sc("animationiteration"),hv=sc("animationstart"),fv=sc("transitionend"),pv=new Map,mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(i,o){pv.set(i,o),a(o,[i])}for(var qh=0;qh<mv.length;qh++){var Kh=mv[qh],Sb=Kh.toLowerCase(),Tb=Kh[0].toUpperCase()+Kh.slice(1);xs(Sb,"on"+Tb)}xs(cv,"onAnimationEnd"),xs(dv,"onAnimationIteration"),xs(hv,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(fv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function gv(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,ra(d,o,void 0,i),i.currentTarget=null}function vv(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var M=d[T],F=M.instance,Y=M.currentTarget;if(M=M.listener,F!==y&&p.isPropagationStopped())break e;gv(p,M,Y),y=F}else for(T=0;T<d.length;T++){if(M=d[T],F=M.instance,Y=M.currentTarget,M=M.listener,F!==y&&p.isPropagationStopped())break e;gv(p,M,Y),y=F}}}if(Kn)throw i=Xr,Kn=!1,Xr=null,i}function It(i,o){var l=o[tf];l===void 0&&(l=o[tf]=new Set);var d=i+"__bubble";l.has(d)||(yv(o,i,2,!1),l.add(d))}function Gh(i,o,l){var d=0;o&&(d|=4),yv(l,i,d,o)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Dl(i){if(!i[oc]){i[oc]=!0,r.forEach(function(l){l!=="selectionchange"&&(Ib.has(l)||Gh(l,!1,i),Gh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[oc]||(o[oc]=!0,Gh("selectionchange",!1,o))}}function yv(i,o,l,d){switch(Il(o)){case 1:var p=At;break;case 4:p=Lh;break;default:p=Tl}l=p.bind(null,o,l,i),p=void 0,!Be||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Qh(i,o,l,d,p){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var M=d.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;T=T.return}for(;M!==null;){if(T=Po(M),T===null)return;if(F=T.tag,F===5||F===6){d=y=T;continue e}M=M.parentNode}}d=d.return}sn(function(){var Y=y,oe=Gr(l),ue=[];e:{var se=pv.get(i);if(se!==void 0){var me=ca,Ee=i;switch(i){case"keypress":if(ua(l)===0)break e;case"keydown":case"keyup":me=v;break;case"focusin":Ee="focus",me=pa;break;case"focusout":Ee="blur",me=pa;break;case"beforeblur":case"afterblur":me=pa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case cv:case dv:case hv:me=Zi;break;case fv:me=yt;break;case"scroll":me=Fh;break;case"wheel":me=tt;break;case"copy":case"cut":case"paste":me=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=C}var Se=(o&4)!==0,$t=!Se&&i==="scroll",q=Se?se!==null?se+"Capture":null:se;Se=[];for(var B=Y,G;B!==null;){G=B;var ce=G.stateNode;if(G.tag===5&&ce!==null&&(G=ce,q!==null&&(ce=Ze(B,q),ce!=null&&Se.push(Ml(B,ce,G)))),$t)break;B=B.return}0<Se.length&&(se=new me(se,Ee,null,l,oe),ue.push({event:se,listeners:Se}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",se&&l!==$i&&(Ee=l.relatedTarget||l.fromElement)&&(Po(Ee)||Ee[es]))break e;if((me||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,me?(Ee=l.relatedTarget||l.toElement,me=Y,Ee=Ee?Po(Ee):null,Ee!==null&&($t=Gn(Ee),Ee!==$t||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=Y),me!==Ee)){if(Se=ha,ce="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Se=C,ce="onPointerLeave",q="onPointerEnter",B="pointer"),$t=me==null?se:Sa(me),G=Ee==null?se:Sa(Ee),se=new Se(ce,B+"leave",me,l,oe),se.target=$t,se.relatedTarget=G,ce=null,Po(oe)===Y&&(Se=new Se(q,B+"enter",Ee,l,oe),Se.target=G,Se.relatedTarget=$t,ce=Se),$t=ce,me&&Ee)t:{for(Se=me,q=Ee,B=0,G=Se;G;G=wa(G))B++;for(G=0,ce=q;ce;ce=wa(ce))G++;for(;0<B-G;)Se=wa(Se),B--;for(;0<G-B;)q=wa(q),G--;for(;B--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=wa(Se),q=wa(q)}Se=null}else Se=null;me!==null&&_v(ue,se,me,Se,!1),Ee!==null&&$t!==null&&_v(ue,$t,Ee,Se,!0)}}e:{if(se=Y?Sa(Y):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var Te=pb;else if(Jg(se))if(ev)Te=yb;else{Te=gb;var Ae=mb}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=vb);if(Te&&(Te=Te(i,Y))){Zg(ue,Te,l,oe);break e}Ae&&Ae(i,se,Y),i==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&rn(se,"number",se.value)}switch(Ae=Y?Sa(Y):window,i){case"focusin":(Jg(Ae)||Ae.contentEditable==="true")&&(ya=Ae,Bh=Y,Nl=null);break;case"focusout":Nl=Bh=ya=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,lv(ue,l,oe);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":lv(ue,l,oe)}var Re;if(Ht)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?Xg(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(Co&&l.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(Re=bl()):(pr=oe,la="value"in pr?pr.value:pr.textContent,va=!0)),Ae=ac(Y,je),0<Ae.length&&(je=new Al(je,i,null,l,oe),ue.push({event:je,listeners:Ae}),Re?je.data=Re:(Re=Yg(l),Re!==null&&(je.data=Re)))),(Re=mr?cb(i,l):db(i,l))&&(Y=ac(Y,"onBeforeInput"),0<Y.length&&(oe=new Al("onBeforeInput","beforeinput",null,l,oe),ue.push({event:oe,listeners:Y}),oe.data=Re))}vv(ue,o)})}function Ml(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ac(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Ze(i,l),y!=null&&d.unshift(Ml(i,y,p)),y=Ze(i,o),y!=null&&d.push(Ml(i,y,p))),i=i.return}return d}function wa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function _v(i,o,l,d,p){for(var y=o._reactName,T=[];l!==null&&l!==d;){var M=l,F=M.alternate,Y=M.stateNode;if(F!==null&&F===d)break;M.tag===5&&Y!==null&&(M=Y,p?(F=Ze(l,y),F!=null&&T.unshift(Ml(l,F,M))):p||(F=Ze(l,y),F!=null&&T.push(Ml(l,F,M)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var bb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function wv(i){return(typeof i=="string"?i:""+i).replace(bb,`
`).replace(Cb,"")}function lc(i,o,l){if(o=wv(o),wv(i)!==o&&l)throw Error(t(425))}function uc(){}var Xh=null,Yh=null;function Jh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(i){return Ev.resolve(null).then(i).catch(Rb)}:Zh;function Rb(i){setTimeout(function(){throw i})}function ef(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),ti(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ti(o)}function ks(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Sv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Ea,Vl="__reactProps$"+Ea,es="__reactContainer$"+Ea,tf="__reactEvents$"+Ea,xb="__reactListeners$"+Ea,kb="__reactHandles$"+Ea;function Po(i){var o=i[Ti];if(o)return o;for(var l=i.parentNode;l;){if(o=l[es]||l[Ti]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Sv(i);i!==null;){if(l=i[Ti])return l;i=Sv(i)}return o}i=l,l=i.parentNode}return null}function jl(i){return i=i[Ti]||i[es],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Sa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function cc(i){return i[Vl]||null}var nf=[],Ta=-1;function Ns(i){return{current:i}}function bt(i){0>Ta||(i.current=nf[Ta],nf[Ta]=null,Ta--)}function wt(i,o){Ta++,nf[Ta]=i.current,i.current=o}var Os={},Tn=Ns(Os),tr=Ns(!1),Ao=Os;function Ia(i,o){var l=i.type.contextTypes;if(!l)return Os;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function nr(i){return i=i.childContextTypes,i!=null}function dc(){bt(tr),bt(Tn)}function Tv(i,o,l){if(Tn.current!==Os)throw Error(t(168));wt(Tn,o),wt(tr,l)}function Iv(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,Ve(i)||"Unknown",p));return de({},l,d)}function hc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Os,Ao=Tn.current,wt(Tn,i),wt(tr,tr.current),!0}function bv(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Iv(i,o,Ao),d.__reactInternalMemoizedMergedChildContext=i,bt(tr),bt(Tn),wt(Tn,i)):bt(tr),wt(tr,l)}var ts=null,fc=!1,rf=!1;function Cv(i){ts===null?ts=[i]:ts.push(i)}function Nb(i){fc=!0,Cv(i)}function Ds(){if(!rf&&ts!==null){rf=!0;var i=0,o=Xe;try{var l=ts;for(Xe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}ts=null,fc=!1}catch(p){throw ts!==null&&(ts=ts.slice(i+1)),jn(qi,Ds),p}finally{Xe=o,rf=!1}}return null}var ba=[],Ca=0,pc=null,mc=0,Dr=[],Mr=0,Ro=null,ns=1,rs="";function xo(i,o){ba[Ca++]=mc,ba[Ca++]=pc,pc=i,mc=o}function Pv(i,o,l){Dr[Mr++]=ns,Dr[Mr++]=rs,Dr[Mr++]=Ro,Ro=i;var d=ns;i=rs;var p=32-dn(d)-1;d&=~(1<<p),l+=1;var y=32-dn(o)+p;if(30<y){var T=p-p%5;y=(d&(1<<T)-1).toString(32),d>>=T,p-=T,ns=1<<32-dn(o)+p|l<<p|d,rs=y+i}else ns=1<<y|l<<p|d,rs=i}function sf(i){i.return!==null&&(xo(i,1),Pv(i,1,0))}function of(i){for(;i===pc;)pc=ba[--Ca],ba[Ca]=null,mc=ba[--Ca],ba[Ca]=null;for(;i===Ro;)Ro=Dr[--Mr],Dr[Mr]=null,rs=Dr[--Mr],Dr[Mr]=null,ns=Dr[--Mr],Dr[Mr]=null}var gr=null,vr=null,Rt=!1,ii=null;function Av(i,o){var l=Fr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Rv(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gr=i,vr=ks(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gr=i,vr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ro!==null?{id:ns,overflow:rs}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Fr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gr=i,vr=null,!0):!1;default:return!1}}function af(i){return(i.mode&1)!==0&&(i.flags&128)===0}function lf(i){if(Rt){var o=vr;if(o){var l=o;if(!Rv(i,o)){if(af(i))throw Error(t(418));o=ks(l.nextSibling);var d=gr;o&&Rv(i,o)?Av(d,l):(i.flags=i.flags&-4097|2,Rt=!1,gr=i)}}else{if(af(i))throw Error(t(418));i.flags=i.flags&-4097|2,Rt=!1,gr=i}}}function xv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gr=i}function gc(i){if(i!==gr)return!1;if(!Rt)return xv(i),Rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Jh(i.type,i.memoizedProps)),o&&(o=vr)){if(af(i))throw kv(),Error(t(418));for(;o;)Av(i,o),o=ks(o.nextSibling)}if(xv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){vr=ks(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}vr=null}}else vr=gr?ks(i.stateNode.nextSibling):null;return!0}function kv(){for(var i=vr;i;)i=ks(i.nextSibling)}function Pa(){vr=gr=null,Rt=!1}function uf(i){ii===null?ii=[i]:ii.push(i)}var Ob=te.ReactCurrentBatchConfig;function Ll(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var M=p.refs;T===null?delete M[y]:M[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function vc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Nv(i){var o=i._init;return o(i._payload)}function Ov(i){function o(q,B){if(i){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function l(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function p(q,B){return q=$s(q,B),q.index=0,q.sibling=null,q}function y(q,B,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=2,B):G):(q.flags|=2,B)):(q.flags|=1048576,B)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function M(q,B,G,ce){return B===null||B.tag!==6?(B=ep(G,q.mode,ce),B.return=q,B):(B=p(B,G),B.return=q,B)}function F(q,B,G,ce){var Te=G.type;return Te===x?oe(q,B,G.props.children,ce,G.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===$e&&Nv(Te)===B.type)?(ce=p(B,G.props),ce.ref=Ll(q,B,G),ce.return=q,ce):(ce=zc(G.type,G.key,G.props,null,q.mode,ce),ce.ref=Ll(q,B,G),ce.return=q,ce)}function Y(q,B,G,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=tp(G,q.mode,ce),B.return=q,B):(B=p(B,G.children||[]),B.return=q,B)}function oe(q,B,G,ce,Te){return B===null||B.tag!==7?(B=Lo(G,q.mode,ce,Te),B.return=q,B):(B=p(B,G),B.return=q,B)}function ue(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ep(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return G=zc(B.type,B.key,B.props,null,q.mode,G),G.ref=Ll(q,null,B),G.return=q,G;case Z:return B=tp(B,q.mode,G),B.return=q,B;case $e:var ce=B._init;return ue(q,ce(B._payload),G)}if(pt(B)||ye(B))return B=Lo(B,q.mode,G,null),B.return=q,B;vc(q,B)}return null}function se(q,B,G,ce){var Te=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Te!==null?null:M(q,B,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return G.key===Te?F(q,B,G,ce):null;case Z:return G.key===Te?Y(q,B,G,ce):null;case $e:return Te=G._init,se(q,B,Te(G._payload),ce)}if(pt(G)||ye(G))return Te!==null?null:oe(q,B,G,ce,null);vc(q,G)}return null}function me(q,B,G,ce,Te){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(G)||null,M(B,q,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:return q=q.get(ce.key===null?G:ce.key)||null,F(B,q,ce,Te);case Z:return q=q.get(ce.key===null?G:ce.key)||null,Y(B,q,ce,Te);case $e:var Ae=ce._init;return me(q,B,G,Ae(ce._payload),Te)}if(pt(ce)||ye(ce))return q=q.get(G)||null,oe(B,q,ce,Te,null);vc(B,ce)}return null}function Ee(q,B,G,ce){for(var Te=null,Ae=null,Re=B,je=B=0,un=null;Re!==null&&je<G.length;je++){Re.index>je?(un=Re,Re=null):un=Re.sibling;var at=se(q,Re,G[je],ce);if(at===null){Re===null&&(Re=un);break}i&&Re&&at.alternate===null&&o(q,Re),B=y(at,B,je),Ae===null?Te=at:Ae.sibling=at,Ae=at,Re=un}if(je===G.length)return l(q,Re),Rt&&xo(q,je),Te;if(Re===null){for(;je<G.length;je++)Re=ue(q,G[je],ce),Re!==null&&(B=y(Re,B,je),Ae===null?Te=Re:Ae.sibling=Re,Ae=Re);return Rt&&xo(q,je),Te}for(Re=d(q,Re);je<G.length;je++)un=me(Re,q,je,G[je],ce),un!==null&&(i&&un.alternate!==null&&Re.delete(un.key===null?je:un.key),B=y(un,B,je),Ae===null?Te=un:Ae.sibling=un,Ae=un);return i&&Re.forEach(function(Bs){return o(q,Bs)}),Rt&&xo(q,je),Te}function Se(q,B,G,ce){var Te=ye(G);if(typeof Te!="function")throw Error(t(150));if(G=Te.call(G),G==null)throw Error(t(151));for(var Ae=Te=null,Re=B,je=B=0,un=null,at=G.next();Re!==null&&!at.done;je++,at=G.next()){Re.index>je?(un=Re,Re=null):un=Re.sibling;var Bs=se(q,Re,at.value,ce);if(Bs===null){Re===null&&(Re=un);break}i&&Re&&Bs.alternate===null&&o(q,Re),B=y(Bs,B,je),Ae===null?Te=Bs:Ae.sibling=Bs,Ae=Bs,Re=un}if(at.done)return l(q,Re),Rt&&xo(q,je),Te;if(Re===null){for(;!at.done;je++,at=G.next())at=ue(q,at.value,ce),at!==null&&(B=y(at,B,je),Ae===null?Te=at:Ae.sibling=at,Ae=at);return Rt&&xo(q,je),Te}for(Re=d(q,Re);!at.done;je++,at=G.next())at=me(Re,q,je,at.value,ce),at!==null&&(i&&at.alternate!==null&&Re.delete(at.key===null?je:at.key),B=y(at,B,je),Ae===null?Te=at:Ae.sibling=at,Ae=at);return i&&Re.forEach(function(hC){return o(q,hC)}),Rt&&xo(q,je),Te}function $t(q,B,G,ce){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case z:e:{for(var Te=G.key,Ae=B;Ae!==null;){if(Ae.key===Te){if(Te=G.type,Te===x){if(Ae.tag===7){l(q,Ae.sibling),B=p(Ae,G.props.children),B.return=q,q=B;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===$e&&Nv(Te)===Ae.type){l(q,Ae.sibling),B=p(Ae,G.props),B.ref=Ll(q,Ae,G),B.return=q,q=B;break e}l(q,Ae);break}else o(q,Ae);Ae=Ae.sibling}G.type===x?(B=Lo(G.props.children,q.mode,ce,G.key),B.return=q,q=B):(ce=zc(G.type,G.key,G.props,null,q.mode,ce),ce.ref=Ll(q,B,G),ce.return=q,q=ce)}return T(q);case Z:e:{for(Ae=G.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(q,B.sibling),B=p(B,G.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=tp(G,q.mode,ce),B.return=q,q=B}return T(q);case $e:return Ae=G._init,$t(q,B,Ae(G._payload),ce)}if(pt(G))return Ee(q,B,G,ce);if(ye(G))return Se(q,B,G,ce);vc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(q,B.sibling),B=p(B,G),B.return=q,q=B):(l(q,B),B=ep(G,q.mode,ce),B.return=q,q=B),T(q)):l(q,B)}return $t}var Aa=Ov(!0),Dv=Ov(!1),yc=Ns(null),_c=null,Ra=null,cf=null;function df(){cf=Ra=_c=null}function hf(i){var o=yc.current;bt(yc),i._currentValue=o}function ff(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function xa(i,o){_c=i,cf=Ra=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(rr=!0),i.firstContext=null)}function Vr(i){var o=i._currentValue;if(cf!==i)if(i={context:i,memoizedValue:o,next:null},Ra===null){if(_c===null)throw Error(t(308));Ra=i,_c.dependencies={lanes:0,firstContext:i}}else Ra=Ra.next=i;return o}var ko=null;function pf(i){ko===null?ko=[i]:ko.push(i)}function Mv(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,pf(o)):(l.next=p.next,p.next=l),o.interleaved=l,is(i,d)}function is(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ms=!1;function mf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ss(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vs(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,is(i,l)}return p=d.interleaved,p===null?(o.next=o,pf(d)):(o.next=p.next,p.next=o),d.interleaved=o,is(i,l)}function wc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,yi(i,l)}}function jv(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Ec(i,o,l,d){var p=i.updateQueue;Ms=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var F=M,Y=F.next;F.next=null,T===null?y=Y:T.next=Y,T=F;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==T&&(M===null?oe.firstBaseUpdate=Y:M.next=Y,oe.lastBaseUpdate=F))}if(y!==null){var ue=p.baseState;T=0,oe=Y=F=null,M=y;do{var se=M.lane,me=M.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=i,Se=M;switch(se=o,me=l,Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){ue=Ee.call(me,ue,se);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,se=typeof Ee=="function"?Ee.call(me,ue,se):Ee,se==null)break e;ue=de({},ue,se);break e;case 2:Ms=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,se=p.effects,se===null?p.effects=[M]:se.push(M))}else me={eventTime:me,lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(Y=oe=me,F=ue):oe=oe.next=me,T|=se;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;se=M,M=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);if(oe===null&&(F=ue),p.baseState=F,p.firstBaseUpdate=Y,p.lastBaseUpdate=oe,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Do|=T,i.lanes=T,i.memoizedState=ue}}function Lv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Fl={},Ii=Ns(Fl),Ul=Ns(Fl),zl=Ns(Fl);function No(i){if(i===Fl)throw Error(t(174));return i}function gf(i,o){switch(wt(zl,o),wt(Ul,i),wt(Ii,Fl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Tt(o,i)}bt(Ii),wt(Ii,o)}function ka(){bt(Ii),bt(Ul),bt(zl)}function Fv(i){No(zl.current);var o=No(Ii.current),l=Tt(o,i.type);o!==l&&(wt(Ul,i),wt(Ii,l))}function vf(i){Ul.current===i&&(bt(Ii),bt(Ul))}var Ot=Ns(0);function Sc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yf=[];function _f(){for(var i=0;i<yf.length;i++)yf[i]._workInProgressVersionPrimary=null;yf.length=0}var Tc=te.ReactCurrentDispatcher,wf=te.ReactCurrentBatchConfig,Oo=0,Dt=null,en=null,an=null,Ic=!1,$l=!1,Bl=0,Db=0;function In(){throw Error(t(321))}function Ef(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!ri(i[l],o[l]))return!1;return!0}function Sf(i,o,l,d,p,y){if(Oo=y,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Tc.current=i===null||i.memoizedState===null?Lb:Fb,i=l(d,p),$l){y=0;do{if($l=!1,Bl=0,25<=y)throw Error(t(301));y+=1,an=en=null,o.updateQueue=null,Tc.current=Ub,i=l(d,p)}while($l)}if(Tc.current=Pc,o=en!==null&&en.next!==null,Oo=0,an=en=Dt=null,Ic=!1,o)throw Error(t(300));return i}function Tf(){var i=Bl!==0;return Bl=0,i}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Dt.memoizedState=an=i:an=an.next=i,an}function jr(){if(en===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=en.next;var o=an===null?Dt.memoizedState:an.next;if(o!==null)an=o,en=i;else{if(i===null)throw Error(t(310));en=i,i={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},an===null?Dt.memoizedState=an=i:an=an.next=i}return an}function Wl(i,o){return typeof o=="function"?o(i):o}function If(i){var o=jr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=en,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var M=T=null,F=null,Y=y;do{var oe=Y.lane;if((Oo&oe)===oe)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var ue={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(M=F=ue,T=d):F=F.next=ue,Dt.lanes|=oe,Do|=oe}Y=Y.next}while(Y!==null&&Y!==y);F===null?T=d:F.next=M,ri(d,o.memoizedState)||(rr=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=F,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,Dt.lanes|=y,Do|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function bf(i){var o=jr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);ri(y,o.memoizedState)||(rr=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Uv(){}function zv(i,o){var l=Dt,d=jr(),p=o(),y=!ri(d.memoizedState,p);if(y&&(d.memoizedState=p,rr=!0),d=d.queue,Cf(Wv.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Hl(9,Bv.bind(null,l,d,p,o),void 0,null),ln===null)throw Error(t(349));(Oo&30)!==0||$v(l,o,p)}return p}function $v(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Bv(i,o,l,d){o.value=l,o.getSnapshot=d,Hv(o)&&qv(i)}function Wv(i,o,l){return l(function(){Hv(o)&&qv(i)})}function Hv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!ri(i,l)}catch{return!0}}function qv(i){var o=is(i,1);o!==null&&li(o,i,1,-1)}function Kv(i){var o=bi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:i},o.queue=i,i=i.dispatch=jb.bind(null,Dt,i),[o.memoizedState,i]}function Hl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Gv(){return jr().memoizedState}function bc(i,o,l,d){var p=bi();Dt.flags|=i,p.memoizedState=Hl(1|o,l,void 0,d===void 0?null:d)}function Cc(i,o,l,d){var p=jr();d=d===void 0?null:d;var y=void 0;if(en!==null){var T=en.memoizedState;if(y=T.destroy,d!==null&&Ef(d,T.deps)){p.memoizedState=Hl(o,l,y,d);return}}Dt.flags|=i,p.memoizedState=Hl(1|o,l,y,d)}function Qv(i,o){return bc(8390656,8,i,o)}function Cf(i,o){return Cc(2048,8,i,o)}function Xv(i,o){return Cc(4,2,i,o)}function Yv(i,o){return Cc(4,4,i,o)}function Jv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Zv(i,o,l){return l=l!=null?l.concat([i]):null,Cc(4,4,Jv.bind(null,o,i),l)}function Pf(){}function ey(i,o){var l=jr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Ef(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function ty(i,o){var l=jr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Ef(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function ny(i,o,l){return(Oo&21)===0?(i.baseState&&(i.baseState=!1,rr=!0),i.memoizedState=l):(ri(l,o)||(l=Qi(),Dt.lanes|=l,Do|=l,i.baseState=!0),o)}function Mb(i,o){var l=Xe;Xe=l!==0&&4>l?l:4,i(!0);var d=wf.transition;wf.transition={};try{i(!1),o()}finally{Xe=l,wf.transition=d}}function ry(){return jr().memoizedState}function Vb(i,o,l){var d=Us(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},iy(i))sy(o,l);else if(l=Mv(i,o,l,d),l!==null){var p=zn();li(l,i,d,p),oy(l,o,d)}}function jb(i,o,l){var d=Us(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(iy(i))sy(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,M=y(T,l);if(p.hasEagerState=!0,p.eagerState=M,ri(M,T)){var F=o.interleaved;F===null?(p.next=p,pf(o)):(p.next=F.next,F.next=p),o.interleaved=p;return}}catch{}finally{}l=Mv(i,o,p,d),l!==null&&(p=zn(),li(l,i,d,p),oy(l,o,d))}}function iy(i){var o=i.alternate;return i===Dt||o!==null&&o===Dt}function sy(i,o){$l=Ic=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function oy(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,yi(i,l)}}var Pc={readContext:Vr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},Lb={readContext:Vr,useCallback:function(i,o){return bi().memoizedState=[i,o===void 0?null:o],i},useContext:Vr,useEffect:Qv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,bc(4194308,4,Jv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return bc(4194308,4,i,o)},useInsertionEffect:function(i,o){return bc(4,2,i,o)},useMemo:function(i,o){var l=bi();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=bi();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=Vb.bind(null,Dt,i),[d.memoizedState,i]},useRef:function(i){var o=bi();return i={current:i},o.memoizedState=i},useState:Kv,useDebugValue:Pf,useDeferredValue:function(i){return bi().memoizedState=i},useTransition:function(){var i=Kv(!1),o=i[0];return i=Mb.bind(null,i[1]),bi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=Dt,p=bi();if(Rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),ln===null)throw Error(t(349));(Oo&30)!==0||$v(d,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,Qv(Wv.bind(null,d,y,i),[i]),d.flags|=2048,Hl(9,Bv.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=bi(),o=ln.identifierPrefix;if(Rt){var l=rs,d=ns;l=(d&~(1<<32-dn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Bl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Db++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Fb={readContext:Vr,useCallback:ey,useContext:Vr,useEffect:Cf,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:Yv,useMemo:ty,useReducer:If,useRef:Gv,useState:function(){return If(Wl)},useDebugValue:Pf,useDeferredValue:function(i){var o=jr();return ny(o,en.memoizedState,i)},useTransition:function(){var i=If(Wl)[0],o=jr().memoizedState;return[i,o]},useMutableSource:Uv,useSyncExternalStore:zv,useId:ry,unstable_isNewReconciler:!1},Ub={readContext:Vr,useCallback:ey,useContext:Vr,useEffect:Cf,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:Yv,useMemo:ty,useReducer:bf,useRef:Gv,useState:function(){return bf(Wl)},useDebugValue:Pf,useDeferredValue:function(i){var o=jr();return en===null?o.memoizedState=i:ny(o,en.memoizedState,i)},useTransition:function(){var i=bf(Wl)[0],o=jr().memoizedState;return[i,o]},useMutableSource:Uv,useSyncExternalStore:zv,useId:ry,unstable_isNewReconciler:!1};function si(i,o){if(i&&i.defaultProps){o=de({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Af(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:de({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ac={isMounted:function(i){return(i=i._reactInternals)?Gn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=zn(),p=Us(i),y=ss(d,p);y.payload=o,l!=null&&(y.callback=l),o=Vs(i,y,p),o!==null&&(li(o,i,p,d),wc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=zn(),p=Us(i),y=ss(d,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Vs(i,y,p),o!==null&&(li(o,i,p,d),wc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=zn(),d=Us(i),p=ss(l,d);p.tag=2,o!=null&&(p.callback=o),o=Vs(i,p,d),o!==null&&(li(o,i,d,l),wc(o,i,d))}};function ay(i,o,l,d,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!kl(l,d)||!kl(p,y):!0}function ly(i,o,l){var d=!1,p=Os,y=o.contextType;return typeof y=="object"&&y!==null?y=Vr(y):(p=nr(o)?Ao:Tn.current,d=o.contextTypes,y=(d=d!=null)?Ia(i,p):Os),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ac,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function uy(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Ac.enqueueReplaceState(o,o.state,null)}function Rf(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},mf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Vr(y):(y=nr(o)?Ao:Tn.current,p.context=Ia(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Af(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Ac.enqueueReplaceState(p,p.state,null),Ec(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Na(i,o){try{var l="",d=o;do l+=Pe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function xf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function kf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var zb=typeof WeakMap=="function"?WeakMap:Map;function cy(i,o,l){l=ss(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Mc||(Mc=!0,qf=d),kf(i,o)},l}function dy(i,o,l){l=ss(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){kf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){kf(i,o),typeof d!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function hy(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new zb;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=tC.bind(null,i,o,l),o.then(i,i))}function fy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function py(i,o,l,d,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ss(-1,1),o.tag=2,Vs(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var $b=te.ReactCurrentOwner,rr=!1;function Un(i,o,l,d){o.child=i===null?Dv(o,null,l,d):Aa(o,i.child,l,d)}function my(i,o,l,d,p){l=l.render;var y=o.ref;return xa(o,p),d=Sf(i,o,l,d,y,p),l=Tf(),i!==null&&!rr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,os(i,o,p)):(Rt&&l&&sf(o),o.flags|=1,Un(i,o,d,p),o.child)}function gy(i,o,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!Zf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,vy(i,o,y,d,p)):(i=zc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:kl,l(T,d)&&i.ref===o.ref)return os(i,o,p)}return o.flags|=1,i=$s(y,d),i.ref=o.ref,i.return=o,o.child=i}function vy(i,o,l,d,p){if(i!==null){var y=i.memoizedProps;if(kl(y,d)&&i.ref===o.ref)if(rr=!1,o.pendingProps=d=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(rr=!0);else return o.lanes=i.lanes,os(i,o,p)}return Nf(i,o,l,d,p)}function yy(i,o,l){var d=o.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Da,yr),yr|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(Da,yr),yr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,wt(Da,yr),yr|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,wt(Da,yr),yr|=d;return Un(i,o,p,l),o.child}function _y(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Nf(i,o,l,d,p){var y=nr(l)?Ao:Tn.current;return y=Ia(o,y),xa(o,p),l=Sf(i,o,l,d,y,p),d=Tf(),i!==null&&!rr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,os(i,o,p)):(Rt&&d&&sf(o),o.flags|=1,Un(i,o,l,p),o.child)}function wy(i,o,l,d,p){if(nr(l)){var y=!0;hc(o)}else y=!1;if(xa(o,p),o.stateNode===null)xc(i,o),ly(o,l,d),Rf(o,l,d,p),d=!0;else if(i===null){var T=o.stateNode,M=o.memoizedProps;T.props=M;var F=T.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=Vr(Y):(Y=nr(l)?Ao:Tn.current,Y=Ia(o,Y));var oe=l.getDerivedStateFromProps,ue=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==d||F!==Y)&&uy(o,T,d,Y),Ms=!1;var se=o.memoizedState;T.state=se,Ec(o,d,T,p),F=o.memoizedState,M!==d||se!==F||tr.current||Ms?(typeof oe=="function"&&(Af(o,l,oe,d),F=o.memoizedState),(M=Ms||ay(o,l,M,d,se,F,Y))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),T.props=d,T.state=F,T.context=Y,d=M):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Vv(i,o),M=o.memoizedProps,Y=o.type===o.elementType?M:si(o.type,M),T.props=Y,ue=o.pendingProps,se=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=Vr(F):(F=nr(l)?Ao:Tn.current,F=Ia(o,F));var me=l.getDerivedStateFromProps;(oe=typeof me=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ue||se!==F)&&uy(o,T,d,F),Ms=!1,se=o.memoizedState,T.state=se,Ec(o,d,T,p);var Ee=o.memoizedState;M!==ue||se!==Ee||tr.current||Ms?(typeof me=="function"&&(Af(o,l,me,d),Ee=o.memoizedState),(Y=Ms||ay(o,l,Y,d,se,Ee,F)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Ee,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Ee,F)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ee),T.props=d,T.state=Ee,T.context=F,d=Y):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),d=!1)}return Of(i,o,l,d,y,p)}function Of(i,o,l,d,p,y){_y(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return p&&bv(o,l,!1),os(i,o,y);d=o.stateNode,$b.current=o;var M=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Aa(o,i.child,null,y),o.child=Aa(o,null,M,y)):Un(i,o,M,y),o.memoizedState=d.state,p&&bv(o,l,!0),o.child}function Ey(i){var o=i.stateNode;o.pendingContext?Tv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Tv(i,o.context,!1),gf(i,o.containerInfo)}function Sy(i,o,l,d,p){return Pa(),uf(p),o.flags|=256,Un(i,o,l,d),o.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Mf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ty(i,o,l){var d=o.pendingProps,p=Ot.current,y=!1,T=(o.flags&128)!==0,M;if((M=T)||(M=i!==null&&i.memoizedState===null?!1:(p&2)!==0),M?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),wt(Ot,p&1),i===null)return lf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=$c(T,d,0,null),i=Lo(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Mf(l),o.memoizedState=Df,i):Vf(o,T));if(p=i.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return Bb(i,o,T,d,M,p,l);if(y){y=d.fallback,T=o.mode,p=i.child,M=p.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=F,o.deletions=null):(d=$s(p,F),d.subtreeFlags=p.subtreeFlags&14680064),M!==null?y=$s(M,y):(y=Lo(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?Mf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=Df,d}return y=i.child,i=y.sibling,d=$s(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function Vf(i,o){return o=$c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Rc(i,o,l,d){return d!==null&&uf(d),Aa(o,i.child,null,l),i=Vf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Bb(i,o,l,d,p,y,T){if(l)return o.flags&256?(o.flags&=-257,d=xf(Error(t(422))),Rc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,p=o.mode,d=$c({mode:"visible",children:d.children},p,0,null),y=Lo(y,p,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&Aa(o,i.child,null,T),o.child.memoizedState=Mf(T),o.memoizedState=Df,y);if((o.mode&1)===0)return Rc(i,o,T,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var M=d.dgst;return d=M,y=Error(t(419)),d=xf(y,d,void 0),Rc(i,o,T,d)}if(M=(T&i.childLanes)!==0,rr||M){if(d=ln,d!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,is(i,p),li(d,i,p,-1))}return Jf(),d=xf(Error(t(421))),Rc(i,o,T,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=nC.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,vr=ks(p.nextSibling),gr=o,Rt=!0,ii=null,i!==null&&(Dr[Mr++]=ns,Dr[Mr++]=rs,Dr[Mr++]=Ro,ns=i.id,rs=i.overflow,Ro=o),o=Vf(o,d.children),o.flags|=4096,o)}function Iy(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),ff(i.return,o,l)}function jf(i,o,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function by(i,o,l){var d=o.pendingProps,p=d.revealOrder,y=d.tail;if(Un(i,o,d.children,l),d=Ot.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iy(i,l,o);else if(i.tag===19)Iy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(wt(Ot,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Sc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),jf(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Sc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}jf(o,!0,l,null,y);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function os(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Do|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=$s(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=$s(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Wb(i,o,l){switch(o.tag){case 3:Ey(o),Pa();break;case 5:Fv(o);break;case 1:nr(o.type)&&hc(o);break;case 4:gf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;wt(yc,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(wt(Ot,Ot.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Ty(i,o,l):(wt(Ot,Ot.current&1),i=os(i,o,l),i!==null?i.sibling:null);wt(Ot,Ot.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return by(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),wt(Ot,Ot.current),d)break;return null;case 22:case 23:return o.lanes=0,yy(i,o,l)}return os(i,o,l)}var Cy,Lf,Py,Ay;Cy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lf=function(){},Py=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,No(Ii.current);var y=null;switch(l){case"input":p=rt(i,p),d=rt(i,d),y=[];break;case"select":p=de({},p,{value:void 0}),d=de({},d,{value:void 0}),y=[];break;case"textarea":p=et(i,p),d=et(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=uc)}Kr(l,d);var T;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var M=p[Y];for(T in M)M.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var F=d[Y];if(M=p!=null?p[Y]:void 0,d.hasOwnProperty(Y)&&F!==M&&(F!=null||M!=null))if(Y==="style")if(M){for(T in M)!M.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&M[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(y||(y=[]),y.push(Y,l)),l=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(y=y||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&It("scroll",i),y||M===F||(y=[])):(y=y||[]).push(Y,F))}l&&(y=y||[]).push("style",l);var Y=y;(o.updateQueue=Y)&&(o.flags|=4)}},Ay=function(i,o,l,d){l!==d&&(o.flags|=4)};function ql(i,o){if(!Rt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function bn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function Hb(i,o,l){var d=o.pendingProps;switch(of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return nr(o.type)&&dc(),bn(o),null;case 3:return d=o.stateNode,ka(),bt(tr),bt(Tn),_f(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(gc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ii!==null&&(Qf(ii),ii=null))),Lf(i,o),bn(o),null;case 5:vf(o);var p=No(zl.current);if(l=o.type,i!==null&&o.stateNode!=null)Py(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return bn(o),null}if(i=No(Ii.current),gc(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[Ti]=o,d[Vl]=y,i=(o.mode&1)!==0,l){case"dialog":It("cancel",d),It("close",d);break;case"iframe":case"object":case"embed":It("load",d);break;case"video":case"audio":for(p=0;p<Ol.length;p++)It(Ol[p],d);break;case"source":It("error",d);break;case"img":case"image":case"link":It("error",d),It("load",d);break;case"details":It("toggle",d);break;case"input":ot(d,y),It("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},It("invalid",d);break;case"textarea":dt(d,y),It("invalid",d)}Kr(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var M=y[T];T==="children"?typeof M=="string"?d.textContent!==M&&(y.suppressHydrationWarning!==!0&&lc(d.textContent,M,i),p=["children",M]):typeof M=="number"&&d.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&lc(d.textContent,M,i),p=["children",""+M]):s.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&It("scroll",d)}switch(l){case"input":ie(d),lt(d,y,!0);break;case"textarea":ie(d),Hr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=uc)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[Ti]=o,i[Vl]=d,Cy(i,o,!1,!1),o.stateNode=i;e:{switch(T=zi(l,d),l){case"dialog":It("cancel",i),It("close",i),p=d;break;case"iframe":case"object":case"embed":It("load",i),p=d;break;case"video":case"audio":for(p=0;p<Ol.length;p++)It(Ol[p],i);p=d;break;case"source":It("error",i),p=d;break;case"img":case"image":case"link":It("error",i),It("load",i),p=d;break;case"details":It("toggle",i),p=d;break;case"input":ot(i,d),p=rt(i,d),It("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=de({},d,{value:void 0}),It("invalid",i);break;case"textarea":dt(i,d),p=et(i,d),It("invalid",i);break;default:p=d}Kr(l,p),M=p;for(y in M)if(M.hasOwnProperty(y)){var F=M[y];y==="style"?Ui(i,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&qr(i,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&hr(i,F):typeof F=="number"&&hr(i,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?F!=null&&y==="onScroll"&&It("scroll",i):F!=null&&Q(i,y,F,T))}switch(l){case"input":ie(i),lt(i,d,!1);break;case"textarea":ie(i),Hr(i);break;case"option":d.value!=null&&i.setAttribute("value",""+De(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Vt(i,!!d.multiple,y,!1):d.defaultValue!=null&&Vt(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=uc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bn(o),null;case 6:if(i&&o.stateNode!=null)Ay(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=No(zl.current),No(Ii.current),gc(o)){if(d=o.stateNode,l=o.memoizedProps,d[Ti]=o,(y=d.nodeValue!==l)&&(i=gr,i!==null))switch(i.tag){case 3:lc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&lc(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Ti]=o,o.stateNode=d}return bn(o),null;case 13:if(bt(Ot),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Rt&&vr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)kv(),Pa(),o.flags|=98560,y=!1;else if(y=gc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Ti]=o}else Pa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),y=!1}else ii!==null&&(Qf(ii),ii=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ot.current&1)!==0?tn===0&&(tn=3):Jf())),o.updateQueue!==null&&(o.flags|=4),bn(o),null);case 4:return ka(),Lf(i,o),i===null&&Dl(o.stateNode.containerInfo),bn(o),null;case 10:return hf(o.type._context),bn(o),null;case 17:return nr(o.type)&&dc(),bn(o),null;case 19:if(bt(Ot),y=o.memoizedState,y===null)return bn(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)ql(y,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Sc(i),T!==null){for(o.flags|=128,ql(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(Ot,Ot.current&1|2),o.child}i=i.sibling}y.tail!==null&&We()>Ma&&(o.flags|=128,d=!0,ql(y,!1),o.lanes=4194304)}else{if(!d)if(i=Sc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ql(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Rt)return bn(o),null}else 2*We()-y.renderingStartTime>Ma&&l!==1073741824&&(o.flags|=128,d=!0,ql(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=We(),o.sibling=null,l=Ot.current,wt(Ot,d?l&1|2:l&1),o):(bn(o),null);case 22:case 23:return Yf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(yr&1073741824)!==0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function qb(i,o){switch(of(o),o.tag){case 1:return nr(o.type)&&dc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ka(),bt(tr),bt(Tn),_f(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return vf(o),null;case 13:if(bt(Ot),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Pa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return bt(Ot),null;case 4:return ka(),null;case 10:return hf(o.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var kc=!1,Cn=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Oa(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){jt(i,o,d)}else l.current=null}function Ff(i,o,l){try{l()}catch(d){jt(i,o,d)}}var Ry=!1;function Gb(i,o){if(Xh=As,i=av(),$h(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,M=-1,F=-1,Y=0,oe=0,ue=i,se=null;t:for(;;){for(var me;ue!==l||p!==0&&ue.nodeType!==3||(M=T+p),ue!==y||d!==0&&ue.nodeType!==3||(F=T+d),ue.nodeType===3&&(T+=ue.nodeValue.length),(me=ue.firstChild)!==null;)se=ue,ue=me;for(;;){if(ue===i)break t;if(se===l&&++Y===p&&(M=T),se===y&&++oe===d&&(F=T),(me=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=me}l=M===-1||F===-1?null:{start:M,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yh={focusedElem:i,selectionRange:l},As=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Se=Ee.memoizedProps,$t=Ee.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?Se:si(o.type,Se),$t);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){jt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return Ee=Ry,Ry=!1,Ee}function Kl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Ff(o,l,y)}p=p.next}while(p!==d)}}function Nc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Uf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function xy(i){var o=i.alternate;o!==null&&(i.alternate=null,xy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ti],delete o[Vl],delete o[tf],delete o[xb],delete o[kb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ky(i){return i.tag===5||i.tag===3||i.tag===4}function Ny(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ky(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=uc));else if(d!==4&&(i=i.child,i!==null))for(zf(i,o,l),i=i.sibling;i!==null;)zf(i,o,l),i=i.sibling}function $f(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for($f(i,o,l),i=i.sibling;i!==null;)$f(i,o,l),i=i.sibling}var pn=null,oi=!1;function js(i,o,l){for(l=l.child;l!==null;)Oy(i,o,l),l=l.sibling}function Oy(i,o,l){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:Cn||Oa(l,o);case 6:var d=pn,p=oi;pn=null,js(i,o,l),pn=d,oi=p,pn!==null&&(oi?(i=pn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):pn.removeChild(l.stateNode));break;case 18:pn!==null&&(oi?(i=pn,l=l.stateNode,i.nodeType===8?ef(i.parentNode,l):i.nodeType===1&&ef(i,l),ti(i)):ef(pn,l.stateNode));break;case 4:d=pn,p=oi,pn=l.stateNode.containerInfo,oi=!0,js(i,o,l),pn=d,oi=p;break;case 0:case 11:case 14:case 15:if(!Cn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Ff(l,o,T),p=p.next}while(p!==d)}js(i,o,l);break;case 1:if(!Cn&&(Oa(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(M){jt(l,o,M)}js(i,o,l);break;case 21:js(i,o,l);break;case 22:l.mode&1?(Cn=(d=Cn)||l.memoizedState!==null,js(i,o,l),Cn=d):js(i,o,l);break;default:js(i,o,l)}}function Dy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new Kb),o.forEach(function(d){var p=rC.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function ai(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,T=o,M=T;e:for(;M!==null;){switch(M.tag){case 5:pn=M.stateNode,oi=!1;break e;case 3:pn=M.stateNode.containerInfo,oi=!0;break e;case 4:pn=M.stateNode.containerInfo,oi=!0;break e}M=M.return}if(pn===null)throw Error(t(160));Oy(y,T,p),pn=null,oi=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(Y){jt(p,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)My(o,i),o=o.sibling}function My(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ai(o,i),Ci(i),d&4){try{Kl(3,i,i.return),Nc(3,i)}catch(Se){jt(i,i.return,Se)}try{Kl(5,i,i.return)}catch(Se){jt(i,i.return,Se)}}break;case 1:ai(o,i),Ci(i),d&512&&l!==null&&Oa(l,l.return);break;case 5:if(ai(o,i),Ci(i),d&512&&l!==null&&Oa(l,l.return),i.flags&32){var p=i.stateNode;try{hr(p,"")}catch(Se){jt(i,i.return,Se)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,M=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&zt(p,y),zi(M,T);var Y=zi(M,y);for(T=0;T<F.length;T+=2){var oe=F[T],ue=F[T+1];oe==="style"?Ui(p,ue):oe==="dangerouslySetInnerHTML"?qr(p,ue):oe==="children"?hr(p,ue):Q(p,oe,ue,Y)}switch(M){case"input":Pt(p,y);break;case"textarea":Wr(p,y);break;case"select":var se=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Vt(p,!!y.multiple,me,!1):se!==!!y.multiple&&(y.defaultValue!=null?Vt(p,!!y.multiple,y.defaultValue,!0):Vt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Vl]=y}catch(Se){jt(i,i.return,Se)}}break;case 6:if(ai(o,i),Ci(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(Se){jt(i,i.return,Se)}}break;case 3:if(ai(o,i),Ci(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ti(o.containerInfo)}catch(Se){jt(i,i.return,Se)}break;case 4:ai(o,i),Ci(i);break;case 13:ai(o,i),Ci(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Hf=We())),d&4&&Dy(i);break;case 22:if(oe=l!==null&&l.memoizedState!==null,i.mode&1?(Cn=(Y=Cn)||oe,ai(o,i),Cn=Y):ai(o,i),Ci(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!oe&&(i.mode&1)!==0)for(_e=i,oe=i.child;oe!==null;){for(ue=_e=oe;_e!==null;){switch(se=_e,me=se.child,se.tag){case 0:case 11:case 14:case 15:Kl(4,se,se.return);break;case 1:Oa(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=se,l=se.return;try{o=d,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Se){jt(d,l,Se)}}break;case 5:Oa(se,se.return);break;case 22:if(se.memoizedState!==null){Ly(ue);continue}}me!==null?(me.return=se,_e=me):Ly(ue)}oe=oe.sibling}e:for(oe=null,ue=i;;){if(ue.tag===5){if(oe===null){oe=ue;try{p=ue.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=ue.stateNode,F=ue.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Pr("display",T))}catch(Se){jt(i,i.return,Se)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Y?"":ue.memoizedProps}catch(Se){jt(i,i.return,Se)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:ai(o,i),Ci(i),d&4&&Dy(i);break;case 21:break;default:ai(o,i),Ci(i)}}function Ci(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(ky(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(hr(p,""),d.flags&=-33);var y=Ny(i);$f(i,y,p);break;case 3:case 4:var T=d.stateNode.containerInfo,M=Ny(i);zf(i,M,T);break;default:throw Error(t(161))}}catch(F){jt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Qb(i,o,l){_e=i,Vy(i)}function Vy(i,o,l){for(var d=(i.mode&1)!==0;_e!==null;){var p=_e,y=p.child;if(p.tag===22&&d){var T=p.memoizedState!==null||kc;if(!T){var M=p.alternate,F=M!==null&&M.memoizedState!==null||Cn;M=kc;var Y=Cn;if(kc=T,(Cn=F)&&!Y)for(_e=p;_e!==null;)T=_e,F=T.child,T.tag===22&&T.memoizedState!==null?Fy(p):F!==null?(F.return=T,_e=F):Fy(p);for(;y!==null;)_e=y,Vy(y),y=y.sibling;_e=p,kc=M,Cn=Y}jy(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,_e=y):jy(i)}}function jy(i){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Cn||Nc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Cn)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:si(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Lv(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Lv(o,T,l)}break;case 5:var M=o.stateNode;if(l===null&&o.flags&4){l=M;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&ti(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cn||o.flags&512&&Uf(o)}catch(se){jt(o,o.return,se)}}if(o===i){_e=null;break}if(l=o.sibling,l!==null){l.return=o.return,_e=l;break}_e=o.return}}function Ly(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var l=o.sibling;if(l!==null){l.return=o.return,_e=l;break}_e=o.return}}function Fy(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Nc(4,o)}catch(F){jt(o,l,F)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(F){jt(o,p,F)}}var y=o.return;try{Uf(o)}catch(F){jt(o,y,F)}break;case 5:var T=o.return;try{Uf(o)}catch(F){jt(o,T,F)}}}catch(F){jt(o,o.return,F)}if(o===i){_e=null;break}var M=o.sibling;if(M!==null){M.return=o.return,_e=M;break}_e=o.return}}var Xb=Math.ceil,Oc=te.ReactCurrentDispatcher,Bf=te.ReactCurrentOwner,Lr=te.ReactCurrentBatchConfig,it=0,ln=null,qt=null,mn=0,yr=0,Da=Ns(0),tn=0,Gl=null,Do=0,Dc=0,Wf=0,Ql=null,ir=null,Hf=0,Ma=1/0,as=null,Mc=!1,qf=null,Ls=null,Vc=!1,Fs=null,jc=0,Xl=0,Kf=null,Lc=-1,Fc=0;function zn(){return(it&6)!==0?We():Lc!==-1?Lc:Lc=We()}function Us(i){return(i.mode&1)===0?1:(it&2)!==0&&mn!==0?mn&-mn:Ob.transition!==null?(Fc===0&&(Fc=Qi()),Fc):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:Il(i.type)),i)}function li(i,o,l,d){if(50<Xl)throw Xl=0,Kf=null,Error(t(185));vi(i,l,d),((it&2)===0||i!==ln)&&(i===ln&&((it&2)===0&&(Dc|=l),tn===4&&zs(i,mn)),sr(i,d),l===1&&it===0&&(o.mode&1)===0&&(Ma=We()+500,fc&&Ds()))}function sr(i,o){var l=i.callbackNode;Jr(i,o);var d=Gi(i,i===ln?mn:0);if(d===0)l!==null&&yo(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&yo(l),o===1)i.tag===0?Nb(zy.bind(null,i)):Cv(zy.bind(null,i)),Ab(function(){(it&6)===0&&Ds()}),l=null;else{switch(I(d)){case 1:l=qi;break;case 4:l=Yr;break;case 16:l=Xn;break;case 536870912:l=wo;break;default:l=Xn}l=Qy(l,Uy.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Uy(i,o){if(Lc=-1,Fc=0,(it&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Va()&&i.callbackNode!==l)return null;var d=Gi(i,i===ln?mn:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Uc(i,d);else{o=d;var p=it;it|=2;var y=By();(ln!==i||mn!==o)&&(as=null,Ma=We()+500,Vo(i,o));do try{Zb();break}catch(M){$y(i,M)}while(!0);df(),Oc.current=y,it=p,qt!==null?o=0:(ln=null,mn=0,o=tn)}if(o!==0){if(o===2&&(p=hn(i),p!==0&&(d=p,o=Gf(i,p))),o===1)throw l=Gl,Vo(i,0),zs(i,d),sr(i,We()),l;if(o===6)zs(i,d);else{if(p=i.current.alternate,(d&30)===0&&!Yb(p)&&(o=Uc(i,d),o===2&&(y=hn(i),y!==0&&(d=y,o=Gf(i,y))),o===1))throw l=Gl,Vo(i,0),zs(i,d),sr(i,We()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:jo(i,ir,as);break;case 3:if(zs(i,d),(d&130023424)===d&&(o=Hf+500-We(),10<o)){if(Gi(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){zn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Zh(jo.bind(null,i,ir,as),o);break}jo(i,ir,as);break;case 4:if(zs(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var T=31-dn(d);y=1<<T,T=o[T],T>p&&(p=T),d&=~y}if(d=p,d=We()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Xb(d/1960))-d,10<d){i.timeoutHandle=Zh(jo.bind(null,i,ir,as),d);break}jo(i,ir,as);break;case 5:jo(i,ir,as);break;default:throw Error(t(329))}}}return sr(i,We()),i.callbackNode===l?Uy.bind(null,i):null}function Gf(i,o){var l=Ql;return i.current.memoizedState.isDehydrated&&(Vo(i,o).flags|=256),i=Uc(i,o),i!==2&&(o=ir,ir=l,o!==null&&Qf(o)),i}function Qf(i){ir===null?ir=i:ir.push.apply(ir,i)}function Yb(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!ri(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zs(i,o){for(o&=~Wf,o&=~Dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-dn(o),d=1<<l;i[l]=-1,o&=~d}}function zy(i){if((it&6)!==0)throw Error(t(327));Va();var o=Gi(i,0);if((o&1)===0)return sr(i,We()),null;var l=Uc(i,o);if(i.tag!==0&&l===2){var d=hn(i);d!==0&&(o=d,l=Gf(i,d))}if(l===1)throw l=Gl,Vo(i,0),zs(i,o),sr(i,We()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,jo(i,ir,as),sr(i,We()),null}function Xf(i,o){var l=it;it|=1;try{return i(o)}finally{it=l,it===0&&(Ma=We()+500,fc&&Ds())}}function Mo(i){Fs!==null&&Fs.tag===0&&(it&6)===0&&Va();var o=it;it|=1;var l=Lr.transition,d=Xe;try{if(Lr.transition=null,Xe=1,i)return i()}finally{Xe=d,Lr.transition=l,it=o,(it&6)===0&&Ds()}}function Yf(){yr=Da.current,bt(Da)}function Vo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,Pb(l)),qt!==null)for(l=qt.return;l!==null;){var d=l;switch(of(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&dc();break;case 3:ka(),bt(tr),bt(Tn),_f();break;case 5:vf(d);break;case 4:ka();break;case 13:bt(Ot);break;case 19:bt(Ot);break;case 10:hf(d.type._context);break;case 22:case 23:Yf()}l=l.return}if(ln=i,qt=i=$s(i.current,null),mn=yr=o,tn=0,Gl=null,Wf=Dc=Do=0,ir=Ql=null,ko!==null){for(o=0;o<ko.length;o++)if(l=ko[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,d.next=T}l.pending=d}ko=null}return i}function $y(i,o){do{var l=qt;try{if(df(),Tc.current=Pc,Ic){for(var d=Dt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ic=!1}if(Oo=0,an=en=Dt=null,$l=!1,Bl=0,Bf.current=null,l===null||l.return===null){tn=1,Gl=o,qt=null;break}e:{var y=i,T=l.return,M=l,F=o;if(o=mn,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,oe=M,ue=oe.tag;if((oe.mode&1)===0&&(ue===0||ue===11||ue===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=fy(T);if(me!==null){me.flags&=-257,py(me,T,M,y,o),me.mode&1&&hy(y,Y,o),o=me,F=Y;var Ee=o.updateQueue;if(Ee===null){var Se=new Set;Se.add(F),o.updateQueue=Se}else Ee.add(F);break e}else{if((o&1)===0){hy(y,Y,o),Jf();break e}F=Error(t(426))}}else if(Rt&&M.mode&1){var $t=fy(T);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),py($t,T,M,y,o),uf(Na(F,M));break e}}y=F=Na(F,M),tn!==4&&(tn=2),Ql===null?Ql=[y]:Ql.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=cy(y,F,o);jv(y,q);break e;case 1:M=F;var B=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ls===null||!Ls.has(G)))){y.flags|=65536,o&=-o,y.lanes|=o;var ce=dy(y,M,o);jv(y,ce);break e}}y=y.return}while(y!==null)}Hy(l)}catch(Te){o=Te,qt===l&&l!==null&&(qt=l=l.return);continue}break}while(!0)}function By(){var i=Oc.current;return Oc.current=Pc,i===null?Pc:i}function Jf(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||(Do&268435455)===0&&(Dc&268435455)===0||zs(ln,mn)}function Uc(i,o){var l=it;it|=2;var d=By();(ln!==i||mn!==o)&&(as=null,Vo(i,o));do try{Jb();break}catch(p){$y(i,p)}while(!0);if(df(),it=l,Oc.current=d,qt!==null)throw Error(t(261));return ln=null,mn=0,tn}function Jb(){for(;qt!==null;)Wy(qt)}function Zb(){for(;qt!==null&&!ia();)Wy(qt)}function Wy(i){var o=Gy(i.alternate,i,yr);i.memoizedProps=i.pendingProps,o===null?Hy(i):qt=o,Bf.current=null}function Hy(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=Hb(l,o,yr),l!==null){qt=l;return}}else{if(l=qb(l,o),l!==null){l.flags&=32767,qt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{tn=6,qt=null;return}}if(o=o.sibling,o!==null){qt=o;return}qt=o=i}while(o!==null);tn===0&&(tn=5)}function jo(i,o,l){var d=Xe,p=Lr.transition;try{Lr.transition=null,Xe=1,eC(i,o,l,d)}finally{Lr.transition=p,Xe=d}return null}function eC(i,o,l,d){do Va();while(Fs!==null);if((it&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(vt(i,y),i===ln&&(qt=ln=null,mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vc||(Vc=!0,Qy(Xn,function(){return Va(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Lr.transition,Lr.transition=null;var T=Xe;Xe=1;var M=it;it|=4,Bf.current=null,Gb(i,l),My(l,i),wb(Yh),As=!!Xh,Yh=Xh=null,i.current=l,Qb(l),El(),it=M,Xe=T,Lr.transition=y}else i.current=l;if(Vc&&(Vc=!1,Fs=i,jc=p),y=i.pendingLanes,y===0&&(Ls=null),sa(l.stateNode),sr(i,We()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Mc)throw Mc=!1,i=qf,qf=null,i;return(jc&1)!==0&&i.tag!==0&&Va(),y=i.pendingLanes,(y&1)!==0?i===Kf?Xl++:(Xl=0,Kf=i):Xl=0,Ds(),null}function Va(){if(Fs!==null){var i=I(jc),o=Lr.transition,l=Xe;try{if(Lr.transition=null,Xe=16>i?16:i,Fs===null)var d=!1;else{if(i=Fs,Fs=null,jc=0,(it&6)!==0)throw Error(t(331));var p=it;for(it|=4,_e=i.current;_e!==null;){var y=_e,T=y.child;if((_e.flags&16)!==0){var M=y.deletions;if(M!==null){for(var F=0;F<M.length;F++){var Y=M[F];for(_e=Y;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:Kl(8,oe,y)}var ue=oe.child;if(ue!==null)ue.return=oe,_e=ue;else for(;_e!==null;){oe=_e;var se=oe.sibling,me=oe.return;if(xy(oe),oe===Y){_e=null;break}if(se!==null){se.return=me,_e=se;break}_e=me}}}var Ee=y.alternate;if(Ee!==null){var Se=Ee.child;if(Se!==null){Ee.child=null;do{var $t=Se.sibling;Se.sibling=null,Se=$t}while(Se!==null)}}_e=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,_e=T;else e:for(;_e!==null;){if(y=_e,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Kl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,_e=q;break e}_e=y.return}}var B=i.current;for(_e=B;_e!==null;){T=_e;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,_e=G;else e:for(T=B;_e!==null;){if(M=_e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Nc(9,M)}}catch(Te){jt(M,M.return,Te)}if(M===T){_e=null;break e}var ce=M.sibling;if(ce!==null){ce.return=M.return,_e=ce;break e}_e=M.return}}if(it=p,Ds(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ki,i)}catch{}d=!0}return d}finally{Xe=l,Lr.transition=o}}return!1}function qy(i,o,l){o=Na(l,o),o=cy(i,o,1),i=Vs(i,o,1),o=zn(),i!==null&&(vi(i,1,o),sr(i,o))}function jt(i,o,l){if(i.tag===3)qy(i,i,l);else for(;o!==null;){if(o.tag===3){qy(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))){i=Na(l,i),i=dy(o,i,1),o=Vs(o,i,1),i=zn(),o!==null&&(vi(o,1,i),sr(o,i));break}}o=o.return}}function tC(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=zn(),i.pingedLanes|=i.suspendedLanes&l,ln===i&&(mn&l)===l&&(tn===4||tn===3&&(mn&130023424)===mn&&500>We()-Hf?Vo(i,0):Wf|=l),sr(i,o)}function Ky(i,o){o===0&&((i.mode&1)===0?o=1:(o=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var l=zn();i=is(i,o),i!==null&&(vi(i,o,l),sr(i,l))}function nC(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Ky(i,l)}function rC(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Ky(i,l)}var Gy;Gy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||tr.current)rr=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return rr=!1,Wb(i,o,l);rr=(i.flags&131072)!==0}else rr=!1,Rt&&(o.flags&1048576)!==0&&Pv(o,mc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;xc(i,o),i=o.pendingProps;var p=Ia(o,Tn.current);xa(o,l),p=Sf(null,o,d,i,p,l);var y=Tf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,nr(d)?(y=!0,hc(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,mf(o),p.updater=Ac,o.stateNode=p,p._reactInternals=o,Rf(o,d,i,l),o=Of(null,o,d,!0,y,l)):(o.tag=0,Rt&&y&&sf(o),Un(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(xc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=sC(d),i=si(d,i),p){case 0:o=Nf(null,o,d,i,l);break e;case 1:o=wy(null,o,d,i,l);break e;case 11:o=my(null,o,d,i,l);break e;case 14:o=gy(null,o,d,si(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:si(d,p),Nf(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:si(d,p),wy(i,o,d,p,l);case 3:e:{if(Ey(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,p=y.element,Vv(i,o),Ec(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Na(Error(t(423)),o),o=Sy(i,o,d,l,p);break e}else if(d!==p){p=Na(Error(t(424)),o),o=Sy(i,o,d,l,p);break e}else for(vr=ks(o.stateNode.containerInfo.firstChild),gr=o,Rt=!0,ii=null,l=Dv(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Pa(),d===p){o=os(i,o,l);break e}Un(i,o,d,l)}o=o.child}return o;case 5:return Fv(o),i===null&&lf(o),d=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,Jh(d,p)?T=null:y!==null&&Jh(d,y)&&(o.flags|=32),_y(i,o),Un(i,o,T,l),o.child;case 6:return i===null&&lf(o),null;case 13:return Ty(i,o,l);case 4:return gf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Aa(o,null,d,l):Un(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:si(d,p),my(i,o,d,p,l);case 7:return Un(i,o,o.pendingProps,l),o.child;case 8:return Un(i,o,o.pendingProps.children,l),o.child;case 12:return Un(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,y=o.memoizedProps,T=p.value,wt(yc,d._currentValue),d._currentValue=T,y!==null)if(ri(y.value,T)){if(y.children===p.children&&!tr.current){o=os(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var M=y.dependencies;if(M!==null){T=y.child;for(var F=M.firstContext;F!==null;){if(F.context===d){if(y.tag===1){F=ss(-1,l&-l),F.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),Y.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),ff(y.return,l,o),M.lanes|=l;break}F=F.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,M=T.alternate,M!==null&&(M.lanes|=l),ff(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Un(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,xa(o,l),p=Vr(p),d=d(p),o.flags|=1,Un(i,o,d,l),o.child;case 14:return d=o.type,p=si(d,o.pendingProps),p=si(d.type,p),gy(i,o,d,p,l);case 15:return vy(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:si(d,p),xc(i,o),o.tag=1,nr(d)?(i=!0,hc(o)):i=!1,xa(o,l),ly(o,d,p),Rf(o,d,p,l),Of(null,o,d,!0,i,l);case 19:return by(i,o,l);case 22:return yy(i,o,l)}throw Error(t(156,o.tag))};function Qy(i,o){return jn(i,o)}function iC(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(i,o,l,d){return new iC(i,o,l,d)}function Zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sC(i){if(typeof i=="function")return Zf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Oe)return 14}return 2}function $s(i,o){var l=i.alternate;return l===null?(l=Fr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function zc(i,o,l,d,p,y){var T=2;if(d=i,typeof i=="function")Zf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case x:return Lo(l.children,p,y,o);case P:T=8,p|=8;break;case k:return i=Fr(12,l,o,p|2),i.elementType=k,i.lanes=y,i;case N:return i=Fr(13,l,o,p),i.elementType=N,i.lanes=y,i;case Fe:return i=Fr(19,l,o,p),i.elementType=Fe,i.lanes=y,i;case Me:return $c(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:T=10;break e;case V:T=9;break e;case j:T=11;break e;case Oe:T=14;break e;case $e:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Fr(T,l,o,p),o.elementType=i,o.type=d,o.lanes=y,o}function Lo(i,o,l,d){return i=Fr(7,i,d,o),i.lanes=l,i}function $c(i,o,l,d){return i=Fr(22,i,d,o),i.elementType=Me,i.lanes=l,i.stateNode={isHidden:!1},i}function ep(i,o,l){return i=Fr(6,i,null,o),i.lanes=l,i}function tp(i,o,l){return o=Fr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function oC(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zr(0),this.expirationTimes=Zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function np(i,o,l,d,p,y,T,M,F){return i=new oC(i,o,l,M,F),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Fr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(y),i}function aC(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Xy(i){if(!i)return Os;i=i._reactInternals;e:{if(Gn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(nr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(nr(l))return Iv(i,l,o)}return o}function Yy(i,o,l,d,p,y,T,M,F){return i=np(l,d,!0,i,p,y,T,M,F),i.context=Xy(null),l=i.current,d=zn(),p=Us(l),y=ss(d,p),y.callback=o??null,Vs(l,y,p),i.current.lanes=p,vi(i,p,d),sr(i,d),i}function Bc(i,o,l,d){var p=o.current,y=zn(),T=Us(p);return l=Xy(l),o.context===null?o.context=l:o.pendingContext=l,o=ss(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Vs(p,o,T),i!==null&&(li(i,p,T,y),wc(i,p,T)),T}function Wc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Jy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function rp(i,o){Jy(i,o),(i=i.alternate)&&Jy(i,o)}function lC(){return null}var Zy=typeof reportError=="function"?reportError:function(i){console.error(i)};function ip(i){this._internalRoot=i}Hc.prototype.render=ip.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Bc(i,o,null,null)},Hc.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Mo(function(){Bc(null,i,null,null)}),o[es]=null}};function Hc(i){this._internalRoot=i}Hc.prototype.unstable_scheduleHydration=function(i){if(i){var o=He();i={blockedOn:null,target:i,priority:o};for(var l=0;l<_i.length&&o!==0&&o<_i[l].priority;l++);_i.splice(l,0,i),l===0&&Gu(i)}};function sp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function qc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function e_(){}function uC(i,o,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Y=Wc(T);y.call(Y)}}var T=Yy(o,d,i,0,null,!1,!1,"",e_);return i._reactRootContainer=T,i[es]=T.current,Dl(i.nodeType===8?i.parentNode:i),Mo(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var M=d;d=function(){var Y=Wc(F);M.call(Y)}}var F=np(i,0,!1,null,null,!1,!1,"",e_);return i._reactRootContainer=F,i[es]=F.current,Dl(i.nodeType===8?i.parentNode:i),Mo(function(){Bc(o,F,l,d)}),F}function Kc(i,o,l,d,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var M=p;p=function(){var F=Wc(T);M.call(F)}}Bc(o,T,i,p)}else T=uC(l,o,i,p,d);return Wc(T)}X=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=gi(o.pendingLanes);l!==0&&(yi(o,l|1),sr(o,We()),(it&6)===0&&(Ma=We()+500,Ds()))}break;case 13:Mo(function(){var d=is(i,1);if(d!==null){var p=zn();li(d,i,1,p)}}),rp(i,1)}},ee=function(i){if(i.tag===13){var o=is(i,134217728);if(o!==null){var l=zn();li(o,i,134217728,l)}rp(i,134217728)}},Ie=function(i){if(i.tag===13){var o=Us(i),l=is(i,o);if(l!==null){var d=zn();li(l,i,o,d)}rp(i,o)}},He=function(){return Xe},xr=function(i,o){var l=Xe;try{return Xe=i,o()}finally{Xe=l}},Ar=function(i,o,l){switch(o){case"input":if(Pt(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=cc(d);if(!p)throw Error(t(90));qe(d),Pt(d,p)}}}break;case"textarea":Wr(i,l);break;case"select":o=l.value,o!=null&&Vt(i,!!l.multiple,o,!1)}},Qr=Xf,Ts=Mo;var cC={usingClientEntryPoint:!1,Events:[jl,Sa,cc,Hn,Ss,Xf]},Yl={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dC={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Wi(i),i===null?null:i.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Ki=Gc.inject(dC),Ln=Gc}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC,or.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(o))throw Error(t(200));return aC(i,o,null,l)},or.createRoot=function(i,o){if(!sp(i))throw Error(t(299));var l=!1,d="",p=Zy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=np(i,1,!1,null,null,l,!1,d,p),i[es]=o.current,Dl(i.nodeType===8?i.parentNode:i),new ip(o)},or.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Wi(o),i=i===null?null:i.stateNode,i},or.flushSync=function(i){return Mo(i)},or.hydrate=function(i,o,l){if(!qc(o))throw Error(t(200));return Kc(null,i,o,!0,l)},or.hydrateRoot=function(i,o,l){if(!sp(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",T=Zy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Yy(o,null,i,1,l??null,p,!1,y,T),i[es]=o.current,Dl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Hc(o)},or.render=function(i,o,l){if(!qc(o))throw Error(t(200));return Kc(null,i,o,!1,l)},or.unmountComponentAtNode=function(i){if(!qc(i))throw Error(t(40));return i._reactRootContainer?(Mo(function(){Kc(null,null,i,!1,function(){i._reactRootContainer=null,i[es]=null})}),!0):!1},or.unstable_batchedUpdates=Xf,or.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!qc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Kc(i,o,l,!1,d)},or.version="18.3.1-next-f1338f8080-20240426",or}var l_;function Q0(){if(l_)return lp.exports;l_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lp.exports=_C(),lp.exports}var u_;function wC(){if(u_)return Qc;u_=1;var n=Q0();return Qc.createRoot=n.createRoot,Qc.hydrateRoot=n.hydrateRoot,Qc}var EC=wC();const SC=K0(EC);var TC=Q0();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vu.apply(this,arguments)}var Ys;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ys||(Ys={}));const c_="popstate";function IC(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return Fp("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:X0(s)}return CC(e,t,null,n)}function Yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xm(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bC(){return Math.random().toString(36).substr(2,8)}function d_(n,e){return{usr:n.state,key:n.key,idx:e}}function Fp(n,e,t,r){return t===void 0&&(t=null),vu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:t,key:e&&e.key||r||bC()})}function X0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function CC(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f=Ys.Pop,h=null,m=_();m==null&&(m=0,u.replaceState(vu({},u.state,{idx:m}),""));function _(){return(u.state||{idx:null}).idx}function E(){f=Ys.Pop;let b=_(),$=b==null?null:b-m;m=b,h&&h({action:f,location:R.location,delta:$})}function w(b,$){f=Ys.Push;let K=Fp(R.location,b,$);m=_()+1;let Q=d_(K,m),te=R.createHref(K);try{u.pushState(Q,"",te)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(te)}a&&h&&h({action:f,location:R.location,delta:1})}function A(b,$){f=Ys.Replace;let K=Fp(R.location,b,$);m=_();let Q=d_(K,m),te=R.createHref(K);u.replaceState(Q,"",te),a&&h&&h({action:f,location:R.location,delta:0})}function D(b){let $=s.location.origin!=="null"?s.location.origin:s.location.href,K=typeof b=="string"?b:X0(b);return K=K.replace(/ $/,"%20"),Yt($,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,$)}let R={get action(){return f},get location(){return n(s,u)},listen(b){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(c_,E),h=b,()=>{s.removeEventListener(c_,E),h=null}},createHref(b){return e(s,b)},createURL:D,encodeLocation(b){let $=D(b);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:A,go(b){return u.go(b)}};return R}var h_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(h_||(h_={}));function PC(n,e,t){return t===void 0&&(t="/"),AC(n,e,t)}function AC(n,e,t,r){let s=typeof e=="string"?ul(e):e,a=Z0(s.pathname||"/",t);if(a==null)return null;let u=Y0(n);RC(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=zC(a);f=LC(u[h],m)}return f}function Y0(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Yt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=$o([r,h.relativePath]),_=t.concat(h);a.children&&a.children.length>0&&(Yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Y0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:VC(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let h of J0(a.path))s(a,u,h)}),e}function J0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=J0(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function RC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const xC=/^:[\w-]+$/,kC=3,NC=2,OC=1,DC=10,MC=-2,f_=n=>n==="*";function VC(n,e){let t=n.split("/"),r=t.length;return t.some(f_)&&(r+=MC),e&&(r+=NC),t.filter(s=>!f_(s)).reduce((s,a)=>s+(xC.test(a)?kC:a===""?OC:DC),r)}function jC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function LC(n,e,t){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=FC({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},_),w=h.route;if(!E)return null;Object.assign(s,E.params),u.push({params:s,pathname:$o([a,E.pathname]),pathnameBase:qC($o([a,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(a=$o([a,E.pathnameBase]))}return u}function FC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((m,_,E)=>{let{paramName:w,isOptional:A}=_;if(w==="*"){let R=f[E]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const D=f[E];return A&&!D?m[w]=void 0:m[w]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function UC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xm(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xm(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Z0(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const $C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BC=n=>$C.test(n);function WC(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ul(n):n,a;if(t)if(BC(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),xm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?a=p_(t.substring(1),"/"):a=p_(t,e)}else a=e;return{pathname:a,search:KC(r),hash:GC(s)}}function p_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eE(n,e){let t=HC(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function tE(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ul(n):(s=vu({},n),Yt(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),E-=1;s.pathname=w.join("/")}f=E>=0?e[E]:"/"}let h=WC(s,f),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||_)&&(h.pathname+="/"),h}const $o=n=>n.join("/").replace(/\/\/+/g,"/"),qC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nE=["post","put","patch","delete"];new Set(nE);const XC=["get",...nE];new Set(XC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yu.apply(this,arguments)}const km=O.createContext(null),YC=O.createContext(null),xu=O.createContext(null),th=O.createContext(null),fo=O.createContext({outlet:null,matches:[],isDataRoute:!1}),rE=O.createContext(null);function ku(){return O.useContext(th)!=null}function Nm(){return ku()||Yt(!1),O.useContext(th).location}function iE(n){O.useContext(xu).static||O.useLayoutEffect(n)}function cl(){let{isDataRoute:n}=O.useContext(fo);return n?d1():JC()}function JC(){ku()||Yt(!1);let n=O.useContext(km),{basename:e,future:t,navigator:r}=O.useContext(xu),{matches:s}=O.useContext(fo),{pathname:a}=Nm(),u=JSON.stringify(eE(s,t.v7_relativeSplatPath)),f=O.useRef(!1);return iE(()=>{f.current=!0}),O.useCallback(function(m,_){if(_===void 0&&(_={}),!f.current)return;if(typeof m=="number"){r.go(m);return}let E=tE(m,JSON.parse(u),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$o([e,E.pathname])),(_.replace?r.replace:r.push)(E,_.state,_)},[e,r,u,a,n])}function ZC(){let{matches:n}=O.useContext(fo),e=n[n.length-1];return e?e.params:{}}function e1(n,e){return t1(n,e)}function t1(n,e,t,r){ku()||Yt(!1);let{navigator:s}=O.useContext(xu),{matches:a}=O.useContext(fo),u=a[a.length-1],f=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=Nm(),_;if(e){var E;let b=typeof e=="string"?ul(e):e;h==="/"||(E=b.pathname)!=null&&E.startsWith(h)||Yt(!1),_=b}else _=m;let w=_.pathname||"/",A=w;if(h!=="/"){let b=h.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(b.length).join("/")}let D=PC(n,{pathname:A}),R=o1(D&&D.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:$o([h,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:$o([h,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&R?O.createElement(th.Provider,{value:{location:yu({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ys.Pop}},R):R}function n1(){let n=c1(),e=QC(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,null)}const r1=O.createElement(n1,null);class i1 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(fo.Provider,{value:this.props.routeContext},O.createElement(rE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s1(n){let{routeContext:e,match:t,children:r}=n,s=O.useContext(km);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(fo.Provider,{value:e},r)}function o1(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=(s=t)==null?void 0:s.errors;if(f!=null){let _=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);_>=0||Yt(!1),u=u.slice(0,Math.min(u.length,_+1))}let h=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:w,errors:A}=t,D=E.route.loader&&w[E.route.id]===void 0&&(!A||A[E.route.id]===void 0);if(E.route.lazy||D){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((_,E,w)=>{let A,D=!1,R=null,b=null;t&&(A=f&&E.route.id?f[E.route.id]:void 0,R=E.route.errorElement||r1,h&&(m<0&&w===0?(h1("route-fallback"),D=!0,b=null):m===w&&(D=!0,b=E.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,w+1)),K=()=>{let Q;return A?Q=R:D?Q=b:E.route.Component?Q=O.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=_,O.createElement(s1,{match:E,routeContext:{outlet:_,matches:$,isDataRoute:t!=null},children:Q})};return t&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?O.createElement(i1,{location:t.location,revalidation:t.revalidation,component:R,error:A,children:K(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):K()},null)}var sE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(sE||{}),oE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(oE||{});function a1(n){let e=O.useContext(km);return e||Yt(!1),e}function l1(n){let e=O.useContext(YC);return e||Yt(!1),e}function u1(n){let e=O.useContext(fo);return e||Yt(!1),e}function aE(n){let e=u1(),t=e.matches[e.matches.length-1];return t.route.id||Yt(!1),t.route.id}function c1(){var n;let e=O.useContext(rE),t=l1(),r=aE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function d1(){let{router:n}=a1(sE.UseNavigateStable),e=aE(oE.UseNavigateStable),t=O.useRef(!1);return iE(()=>{t.current=!0}),O.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,yu({fromRouteId:e},a)))},[n,e])}const m_={};function h1(n,e,t){m_[n]||(m_[n]=!0)}function f1(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Sr(n){let{to:e,replace:t,state:r,relative:s}=n;ku()||Yt(!1);let{future:a,static:u}=O.useContext(xu),{matches:f}=O.useContext(fo),{pathname:h}=Nm(),m=cl(),_=tE(e,eE(f,a.v7_relativeSplatPath),h,s==="path"),E=JSON.stringify(_);return O.useEffect(()=>m(JSON.parse(E),{replace:t,state:r,relative:s}),[m,E,s,t,r]),null}function qs(n){Yt(!1)}function p1(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Ys.Pop,navigator:a,static:u=!1,future:f}=n;ku()&&Yt(!1);let h=e.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:h,navigator:a,static:u,future:yu({v7_relativeSplatPath:!1},f)}),[h,f,a,u]);typeof r=="string"&&(r=ul(r));let{pathname:_="/",search:E="",hash:w="",state:A=null,key:D="default"}=r,R=O.useMemo(()=>{let b=Z0(_,h);return b==null?null:{location:{pathname:b,search:E,hash:w,state:A,key:D},navigationType:s}},[h,_,E,w,A,D,s]);return R==null?null:O.createElement(xu.Provider,{value:m},O.createElement(th.Provider,{children:t,value:R}))}function m1(n){let{children:e,location:t}=n;return e1(Up(e),t)}new Promise(()=>{});function Up(n,e){e===void 0&&(e=[]);let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,Up(r.props.children,a));return}r.type!==qs&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Up(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const g1="6";try{window.__reactRouterVersion=g1}catch{}const v1="startTransition",g_=Lp[v1];function y1(n){let{basename:e,children:t,future:r,window:s}=n,a=O.useRef();a.current==null&&(a.current=IC({window:s,v5Compat:!0}));let u=a.current,[f,h]=O.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},_=O.useCallback(E=>{m&&g_?g_(()=>h(E)):h(E)},[h,m]);return O.useLayoutEffect(()=>u.listen(_),[u,_]),O.useEffect(()=>f1(r),[r]),O.createElement(p1,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:u,future:r})}var v_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(v_||(v_={}));var y_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(y_||(y_={}));function __(){var t;const n=((t=window.matchMedia)==null?void 0:t.call(window,"(display-mode: standalone)").matches)??!1,e=window.navigator.standalone===!0;return n||e}function _1(){return/iPad|iPhone|iPod/.test(window.navigator.userAgent)}function w1(){const[n,e]=O.useState(null),[t,r]=O.useState(!1);O.useEffect(()=>{function f(h){h.preventDefault(),e(h)}return window.addEventListener("beforeinstallprompt",f),()=>window.removeEventListener("beforeinstallprompt",f)},[]);const s=O.useMemo(()=>!__()&&_1()&&!t&&!n,[t,n]),a=O.useMemo(()=>!__()&&!t&&!!n,[n,t]);async function u(){if(!n)return;await n.prompt(),(await n.userChoice).outcome==="accepted"&&e(null),r(!0)}return!s&&!a?null:g.jsxs("section",{className:"install-banner","aria-live":"polite",children:[g.jsx("p",{className:"hint",children:a?"Aggiungi Beastly alla schermata Home per aprirla come app.":"Su iPhone: Condividi -> Aggiungi a Home per installare Beastly."}),g.jsxs("div",{className:"install-actions",children:[a?g.jsx("button",{className:"btn",type:"button",onClick:()=>void u(),children:"Aggiungi alla Home"}):null,g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>r(!0),children:"Chiudi"})]})]})}const lE=O.createContext(null);function E1({children:n}){const[e,t]=O.useState([]),r=O.useCallback((a,u)=>{const f=Date.now()+Math.floor(Math.random()*1e3);t(h=>[...h,{id:f,type:a,message:u}]),window.setTimeout(()=>{t(h=>h.filter(m=>m.id!==f))},3200)},[]),s=O.useMemo(()=>({showSuccess:a=>r("success",a),showError:a=>r("error",a)}),[r]);return g.jsxs(lE.Provider,{value:s,children:[n,g.jsx("div",{className:"toast-wrap","aria-live":"polite","aria-atomic":"true",children:e.map(a=>g.jsx("div",{className:`toast toast-${a.type}`,children:a.message},a.id))})]})}function nh(){const n=O.useContext(lE);if(!n)throw new Error("useToast must be used within ToastProvider");return n}const S1=()=>{};var w_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},T1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],f=n[t++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,f=u?n[s+1]:0,h=s+2<n.length,m=h?n[s+2]:0,_=a>>2,E=(a&3)<<4|f>>4;let w=(f&15)<<2|m>>6,A=m&63;h||(A=64,u||(w=64)),r.push(t[_],t[E],t[w],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||m==null||E==null)throw new I1;const w=a<<2|f>>4;if(r.push(w),m!==64){const A=f<<4&240|m>>2;if(r.push(A),E!==64){const D=m<<6&192|E;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class I1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(n){const e=uE(n);return cE.encodeByteArray(e,!0)},bd=function(n){return b1(n).replace(/\./g,"")},dE=function(n){try{return cE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=()=>C1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof w_>"u")return;const n=w_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},R1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dE(n[1]);return e&&JSON.parse(e)},rh=()=>{try{return S1()||P1()||A1()||R1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hE=n=>{var e,t;return(t=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Om=n=>{const e=hE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fE=()=>{var n;return(n=rh())===null||n===void 0?void 0:n.config},pE=n=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ih(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bd(JSON.stringify(t)),bd(JSON.stringify(u)),""].join(".")}const cu={};function k1(){const n={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?n.emulator.push(e):n.prod.push(e);return n}function N1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let E_=!1;function sh(n,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||cu[n]===e||cu[n]||E_)return;cu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=k1().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{E_=!0,u()},w}function _(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=N1(r),A=t("text"),D=document.getElementById(A)||document.createElement("span"),R=t("learnmore"),b=document.getElementById(R)||document.createElement("a"),$=t("preprendIcon"),K=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;f(Q),_(b,R);const te=m();h(K,$),Q.append(K,D,b,te),document.body.appendChild(Q)}a?(D.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function D1(){var n;const e=(n=rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L1(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F1(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U1(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class fi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$1,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?B1(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new fi(s,f,r)}}function B1(n,e){return n.replace(W1,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const W1=/\{\$([^}]+)}/g;function H1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(S_(a)&&S_(u)){if(!fs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function S_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function q1(n,e){const t=new K1(n,e);return t.subscribe.bind(t)}class K1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");G1(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hp),s.error===void 0&&(s.error=hp),s.complete===void 0&&(s.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new x1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y1(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(n){return n===Fo?void 0:n}function Y1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Q1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Z1={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},eP=Ye.INFO,tP={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},nP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=tP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const rP=(n,e)=>e.some(t=>n instanceof t);let T_,I_;function iP(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,zp=new WeakMap,vE=new WeakMap,fp=new WeakMap,Mm=new WeakMap;function oP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Zs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gE.set(t,n)}).catch(()=>{}),Mm.set(e,n),e}function aP(n){if(zp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});zp.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lP(n){$p=n($p)}function uP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return vE.set(r,e.sort?e.sort():[e]),Zs(r)}:sP().includes(n)?function(...e){return n.apply(pp(this),e),Zs(gE.get(this))}:function(...e){return Zs(n.apply(pp(this),e))}}function cP(n){return typeof n=="function"?uP(n):(n instanceof IDBTransaction&&aP(n),rP(n,iP())?new Proxy(n,$p):n)}function Zs(n){if(n instanceof IDBRequest)return oP(n);if(fp.has(n))return fp.get(n);const e=cP(n);return e!==n&&(fp.set(n,e),Mm.set(e,n)),e}const pp=n=>Mm.get(n);function dP(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),f=Zs(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Zs(u.result),h.oldVersion,h.newVersion,Zs(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],mp=new Map;function b_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=fP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&h.done]))[0]};return mp.set(e,a),a}lP(n=>({...n,get:(e,t,r)=>b_(e,t)||n.get(e,t,r),has:(e,t)=>!!b_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function mP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",C_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Dm("@firebase/app"),gP="@firebase/app-compat",vP="@firebase/analytics-compat",yP="@firebase/analytics",_P="@firebase/app-check-compat",wP="@firebase/app-check",EP="@firebase/auth",SP="@firebase/auth-compat",TP="@firebase/database",IP="@firebase/data-connect",bP="@firebase/database-compat",CP="@firebase/functions",PP="@firebase/functions-compat",AP="@firebase/installations",RP="@firebase/installations-compat",xP="@firebase/messaging",kP="@firebase/messaging-compat",NP="@firebase/performance",OP="@firebase/performance-compat",DP="@firebase/remote-config",MP="@firebase/remote-config-compat",VP="@firebase/storage",jP="@firebase/storage-compat",LP="@firebase/firestore",FP="@firebase/ai",UP="@firebase/firestore-compat",zP="firebase",$P="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",BP={[Bp]:"fire-core",[gP]:"fire-core-compat",[yP]:"fire-analytics",[vP]:"fire-analytics-compat",[wP]:"fire-app-check",[_P]:"fire-app-check-compat",[EP]:"fire-auth",[SP]:"fire-auth-compat",[TP]:"fire-rtdb",[IP]:"fire-data-connect",[bP]:"fire-rtdb-compat",[CP]:"fire-fn",[PP]:"fire-fn-compat",[AP]:"fire-iid",[RP]:"fire-iid-compat",[xP]:"fire-fcm",[kP]:"fire-fcm-compat",[NP]:"fire-perf",[OP]:"fire-perf-compat",[DP]:"fire-rc",[MP]:"fire-rc-compat",[VP]:"fire-gcs",[jP]:"fire-gcs-compat",[LP]:"fire-fst",[UP]:"fire-fst-compat",[FP]:"fire-vertex","fire-js":"fire-js",[zP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Map,WP=new Map,Hp=new Map;function P_(n,e){try{n.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function io(n){const e=n.name;if(Hp.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of Cd.values())P_(t,n);for(const t of WP.values())P_(t,n);return!0}function Du(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new Nu("app","Firebase",HP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=$P;function yE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw eo.create("bad-app-name",{appName:String(s)});if(t||(t=fE()),!t)throw eo.create("no-options");const a=Cd.get(s);if(a){if(fs(t,a.options)&&fs(r,a.config))return a;throw eo.create("duplicate-app",{appName:s})}const u=new J1(s);for(const h of Hp.values())u.addComponent(h);const f=new qP(t,r,u);return Cd.set(s,f),f}function oh(n=Wp){const e=Cd.get(n);if(!e&&n===Wp&&fE())return yE();if(!e)throw eo.create("no-app",{appName:n});return e}function $r(n,e,t){var r;let s=(r=BP[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(f.join(" "));return}io(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",GP=1,_u="firebase-heartbeat-store";let gp=null;function _E(){return gp||(gp=dP(KP,GP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(n=>{throw eo.create("idb-open",{originalErrorMessage:n.message})})),gp}async function QP(n){try{const t=(await _E()).transaction(_u),r=await t.objectStore(_u).get(wE(n));return await t.done,r}catch(e){if(e instanceof fi)ms.warn(e.message);else{const t=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(t.message)}}}async function A_(n,e){try{const r=(await _E()).transaction(_u,"readwrite");await r.objectStore(_u).put(e,wE(n)),await r.done}catch(t){if(t instanceof fi)ms.warn(t.message);else{const r=eo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ms.warn(r.message)}}}function wE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,YP=30;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=R_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>YP){const u=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:r,unsentEntries:s}=ZP(this._heartbeatsCache.heartbeats),a=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ms.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function ZP(n,e=XP){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),x_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),x_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U1()?z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x_(n){return bd(JSON.stringify({version:2,heartbeats:n})).length}function tA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){io(new ps("platform-logger",e=>new pP(e),"PRIVATE")),io(new ps("heartbeat",e=>new JP(e),"PRIVATE")),$r(Bp,C_,n),$r(Bp,C_,"esm2017"),$r("fire-js","")}nA("");var rA="firebase",iA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(rA,iA,"app");function Vm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sA=EE,SE=new Nu("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Dm("@firebase/auth");function oA(n,...e){Pd.logLevel<=Ye.WARN&&Pd.warn(`Auth (${Xo}): ${n}`,...e)}function cd(n,...e){Pd.logLevel<=Ye.ERROR&&Pd.error(`Auth (${Xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,...e){throw Lm(n,...e)}function ci(n,...e){return Lm(n,...e)}function jm(n,e,t){const r=Object.assign(Object.assign({},sA()),{[e]:t});return new Nu("auth","Firebase",r).create(e,{appName:n.name})}function to(n){return jm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TE(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Li(n,"argument-error"),jm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return SE.create(n,...e)}function Le(n,e,...t){if(!n)throw Lm(e,...t)}function us(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cd(e),new Error(e)}function gs(n,e){n||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aA(){return k_()==="http:"||k_()==="https:"}function k_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aA()||V1()||"connection"in navigator)?navigator.onLine:!0}function uA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=O1()||j1()}get(){return lA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hA=new Mu(3e4,6e4);function Um(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function dl(n,e,t,r,s={}){return bE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ou(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return M1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ws(n.emulatorConfig.host)&&(m.credentials="include"),IE.fetch()(await CE(n,n.config.apiHost,t,f),m)})}async function bE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cA),e);try{const s=new pA(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Xc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Xc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Xc(n,"user-disabled",u);const _=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jm(n,_,m);Li(n,_)}}catch(s){if(s instanceof fi)throw s;Li(n,"network-request-failed",{message:String(s)})}}async function fA(n,e,t,r,s={}){const a=await dl(n,e,t,r,s);return"mfaPendingCredential"in a&&Li(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function CE(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Fm(n.config,s):`${n.config.apiScheme}://${s}`;return dA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),hA.get())})}}function Xc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ci(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return dl(n,"POST","/v1/accounts:delete",e)}async function Ad(n,e){return dl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),s=zm(r);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:du(vp(s.auth_time)),issuedAtTime:du(vp(s.iat)),expirationTime:du(vp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vp(n){return Number(n)*1e3}function zm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const s=dE(t);return s?JSON.parse(s):(cd("Failed to decode base64 JWT payload"),null)}catch(s){return cd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function N_(n){const e=zm(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fi&&vA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function vA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await wu(n,Ad(t,{idToken:r}));Le(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PE(a.providerUserInfo):[],f=wA(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),_=h?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function _A(n){const e=Ct(n);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PE(n){return n.map(e=>{var{providerId:t}=e,r=Vm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e){const t=await bE(n,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await CE(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&ws(n.emulatorConfig.host)&&(h.credentials="include"),IE.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SA(n,e){return dl(n,"POST","/v2/accounts:revokeToken",Um(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=N_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await EA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ha;return r&&(Le(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Le(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gA(this,e)}reload(){return _A(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await wu(this,mA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,f,h,m,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(f=t.tenantId)!==null&&f!==void 0?f:void 0,b=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,$=(m=t.createdAt)!==null&&m!==void 0?m:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:te,isAnonymous:z,providerData:Z,stsTokenManager:x}=t;Le(Q&&x,e,"internal-error");const P=Ha.fromJSON(this.name,x);Le(typeof Q=="string",e,"internal-error"),Ws(E,e.name),Ws(w,e.name),Le(typeof te=="boolean",e,"internal-error"),Le(typeof z=="boolean",e,"internal-error"),Ws(A,e.name),Ws(D,e.name),Ws(R,e.name),Ws(b,e.name),Ws($,e.name),Ws(K,e.name);const k=new ui({uid:Q,auth:e,email:w,emailVerified:te,displayName:E,isAnonymous:z,photoURL:D,phoneNumber:A,tenantId:R,stsTokenManager:P,createdAt:$,lastLoginAt:K});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ha;s.updateFromServerResponse(t);const a=new ui({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?PE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Ha;f.updateFromIdToken(r);const h=new ui({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;function cs(n){gs(n instanceof Function,"Expected a class definition");let e=O_.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,O_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AE.type="NONE";const D_=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n,e,t){return`firebase:${n}:${e}:${t}`}class qa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=dd(this.userKey,s.apiKey,a),this.fullPersistenceKey=dd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ad(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new qa(cs(D_),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||cs(D_);const u=dd(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const _=await m._get(u);if(_){let E;if(typeof _=="string"){const w=await Ad(e,{idToken:_}).catch(()=>{});if(!w)break;E=await ui._fromGetAccountInfoResponse(e,w,_)}else E=ui._fromJSON(e,_);m!==a&&(f=E),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new qa(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new qa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DE(e))return"Blackberry";if(ME(e))return"Webos";if(xE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RE(n=Nn()){return/firefox\//i.test(n)}function xE(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(n=Nn()){return/crios\//i.test(n)}function NE(n=Nn()){return/iemobile/i.test(n)}function OE(n=Nn()){return/android/i.test(n)}function DE(n=Nn()){return/blackberry/i.test(n)}function ME(n=Nn()){return/webos/i.test(n)}function $m(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function TA(n=Nn()){var e;return $m(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IA(){return L1()&&document.documentMode===10}function VE(n=Nn()){return $m(n)||OE(n)||ME(n)||DE(n)||/windows phone/i.test(n)||NE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e=[]){let t;switch(n){case"Browser":t=M_(Nn());break;case"Worker":t=`${M_(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e={}){return dl(n,"GET","/v2/passwordPolicy",Um(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=6;class AA{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:PA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new bA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ad(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(to(this));const t=e?Ct(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CA(this),t=new AA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await SA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hl(n){return Ct(n)}class V_{constructor(e){this.auth=e,this.observer=null,this.addObserver=q1(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xA(n){Bm=n}function kA(n){return Bm.loadJS(n)}function NA(){return Bm.gapiScript}function OA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){const t=Du(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(fs(a,e??{}))return s;Li(s,"already-initialized")}return t.initialize({options:e})}function MA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(cs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VA(n,e,t){const r=hl(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=LE(e),{host:u,port:f}=jA(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},_=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(fs(m,r.config.emulator)&&fs(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ws(u)?(ih(`${a}//${u}${h}`),sh("Auth",!0)):LA()}function LE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jA(n){const e=LE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:j_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:j_(u)}}}function j_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,t){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n,e){return fA(n,"POST","/v1/accounts:signInWithIdp",Um(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="http://localhost";class Ho extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Vm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ho(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ka(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ka(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ka(e,t)}buildRequest(){const e={requestUri:FA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Vu{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ho._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ls.credential(t,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Vu{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Vu{constructor(){super("twitter.com")}static credential(e,t){return Ho._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Qs.credential(t,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ui._fromIdTokenResponse(e,r,s),u=L_(r);return new Ja({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=L_(r);return new Ja({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function L_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends fi{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new xd(e,t,r,s)}}function UE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(n,a,e,r):a})}async function UA(n,e,t=!1){const r=await wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ja._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(n,e,t=!1){const{auth:r}=n;if(lr(r.app))return Promise.reject(to(r));const s="reauthenticate";try{const a=await wu(n,UE(r,s,e,n),t);Le(a.idToken,r,"internal-error");const u=zm(a.idToken);Le(u,r,"internal-error");const{sub:f}=u;return Le(n.uid===f,r,"user-mismatch"),Ja._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Li(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(n,e,t=!1){if(lr(n.app))return Promise.reject(to(n));const r="signIn",s=await UE(n,r,e),a=await Ja._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e){return Ct(n).setPersistence(e)}function zE(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function WA(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function Eu(n){return Ct(n).signOut()}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1e3,qA=10;class BE extends $E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);IA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BE.type="LOCAL";const WE=BE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends $E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const qE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await KA(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Wm("",20);s.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(w.data.response);break;default:clearTimeout(_),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function QA(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function XA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JA(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",ZA=1,Nd="firebaseLocalStorage",QE="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uh(n,e){return n.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function eR(){const n=indexedDB.deleteDatabase(GE);return new ju(n).toPromise()}function Gp(){const n=indexedDB.open(GE,ZA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nd,{keyPath:QE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nd)?e(r):(r.close(),await eR(),e(await Gp()))})})}async function F_(n,e,t){const r=uh(n,!0).put({[QE]:e,value:t});return new ju(r).toPromise()}async function tR(n,e){const t=uh(n,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function U_(n,e){const t=uh(n,!0).delete(e);return new ju(t).toPromise()}const nR=800,rR=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(JA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XA(),!this.activeServiceWorker)return;this.sender=new GA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await F_(e,kd,"1"),await U_(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>U_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=uh(s,!1).getAll();return new ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const iR=XE;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e){return e?cs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ka(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sR(n){return $A(n.auth,new qm(n),n.bypassAuthState)}function oR(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),zA(t,new qm(n),n.bypassAuthState)}async function aR(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),UA(t,new qm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:Li(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Mu(2e3,1e4);async function uR(n,e,t){if(lr(n.app))return Promise.reject(ci(n,"operation-not-supported-in-this-environment"));const r=hl(n);TE(n,e,ah);const s=Hm(r,t);return new Uo(r,"signInViaPopup",e,s).executeNotNull()}class Uo extends YE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lR.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",hd=new Map;class dR extends YE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const r=await hR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hR(n,e){const t=ZE(e),r=JE(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function fR(n,e){return JE(n)._set(ZE(e),"true")}function pR(n,e){hd.set(n._key(),e)}function JE(n){return cs(n._redirectPersistence)}function ZE(n){return dd(cR,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e,t){return gR(n,e,t)}async function gR(n,e,t){if(lr(n.app))return Promise.reject(to(n));const r=hl(n);TE(n,e,ah),await r._initializationPromise;const s=Hm(r,t);return await fR(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function vR(n,e){return await hl(n)._initializationPromise,eS(n,e,!1)}async function eS(n,e,t=!1){if(lr(n.app))return Promise.reject(to(n));const r=hl(n),s=Hm(r,e),u=await new dR(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=600*1e3;class _R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yR&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e={}){return dl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^https?/;async function IR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ER(n);for(const t of e)try{if(bR(t))return}catch{}Li(n,"unauthorized-domain")}function bR(n){const e=qp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!TR.test(t))return!1;if(SR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Mu(3e4,6e4);function $_(){const n=Ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PR(n){return new Promise((e,t)=>{var r,s,a;function u(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),t(ci(n,"network-request-failed"))},timeout:CR.get()})}if(!((s=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ni().gapi)===null||a===void 0)&&a.load)u();else{const f=OA("iframefcb");return Ni()[f]=()=>{gapi.load?u():t(ci(n,"network-request-failed"))},kA(`${NA()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw fd=null,e})}let fd=null;function AR(n){return fd=fd||PR(n),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Mu(5e3,15e3),xR="__/auth/iframe",kR="emulator/auth/iframe",NR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DR(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fm(e,kR):`https://${n.config.authDomain}/${xR}`,r={apiKey:e.apiKey,appName:n.name,v:Xo},s=OR.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ou(r).slice(1)}`}async function MR(n){const e=await AR(n),t=Ni().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:DR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NR,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=ci(n,"network-request-failed"),f=Ni().setTimeout(()=>{a(u)},RR.get());function h(){Ni().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jR=500,LR=600,FR="_blank",UR="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zR(n,e,t,r=jR,s=LR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},VR),{width:r.toString(),height:s.toString(),top:a,left:u}),m=Nn().toLowerCase();t&&(f=kE(m)?FR:t),RE(m)&&(e=e||UR,h.scrollbars="yes");const _=Object.entries(h).reduce((w,[A,D])=>`${w}${A}=${D},`,"");if(TA(m)&&f!=="_self")return $R(e||"",f),new B_(null);const E=window.open(e||"",f,_);Le(E,n,"popup-blocked");try{E.focus()}catch{}return new B_(E)}function $R(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__/auth/handler",WR="emulator/auth/handler",HR=encodeURIComponent("fac");async function W_(n,e,t,r,s,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xo,eventId:s};if(e instanceof ah){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",H1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Vu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const h=await n._getAppCheckToken(),m=h?`#${HR}=${encodeURIComponent(h)}`:"";return`${qR(n)}?${Ou(f).slice(1)}${m}`}function qR({config:n}){return n.emulator?Fm(n,WR):`https://${n.authDomain}/${BR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class KR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=eS,this._overrideRedirectResult=pR}async _openPopup(e,t,r,s){var a;gs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await W_(e,t,r,qp(),s);return zR(e,u,Wm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await W_(e,t,r,qp(),s);return QA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(gs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await MR(e),r=new _R(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yp,{type:yp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[yp];u!==void 0&&t(!!u),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VE()||xE()||$m()}}const GR=KR;var H_="@firebase/auth",q_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(n){io(new ps("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(n)},m=new RA(r,s,a,h);return MA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),io(new ps("auth-internal",e=>{const t=hl(e.getProvider("auth").getImmediate());return(r=>new QR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(H_,q_,XR(n)),$r(H_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=300,ZR=pE("authIdTokenMaxAge")||JR;let K_=null;const ex=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZR)return;const s=t==null?void 0:t.token;K_!==s&&(K_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tx(n=oh()){const e=Du(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DA(n,{popupRedirectResolver:GR,persistence:[iR,WE,qE]}),r=pE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=ex(a.toString());WA(t,u,()=>u(t.currentUser)),zE(t,f=>u(f))}}const s=hE("auth");return s&&VA(t,`http://${s}`),t}function nx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=ci("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",nx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,nS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,P){function k(){}k.prototype=P.prototype,x.D=P.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(L,V,j){for(var N=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)N[Fe-2]=arguments[Fe];return P.prototype[V].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var V=0;16>V;++V)L[V]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(V=0;16>V;++V)L[V]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=x.g[0],k=x.g[1],V=x.g[2];var j=x.g[3],N=P+(j^k&(V^j))+L[0]+3614090360&4294967295;P=k+(N<<7&4294967295|N>>>25),N=j+(V^P&(k^V))+L[1]+3905402710&4294967295,j=P+(N<<12&4294967295|N>>>20),N=V+(k^j&(P^k))+L[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=k+(P^V&(j^P))+L[3]+3250441966&4294967295,k=V+(N<<22&4294967295|N>>>10),N=P+(j^k&(V^j))+L[4]+4118548399&4294967295,P=k+(N<<7&4294967295|N>>>25),N=j+(V^P&(k^V))+L[5]+1200080426&4294967295,j=P+(N<<12&4294967295|N>>>20),N=V+(k^j&(P^k))+L[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=k+(P^V&(j^P))+L[7]+4249261313&4294967295,k=V+(N<<22&4294967295|N>>>10),N=P+(j^k&(V^j))+L[8]+1770035416&4294967295,P=k+(N<<7&4294967295|N>>>25),N=j+(V^P&(k^V))+L[9]+2336552879&4294967295,j=P+(N<<12&4294967295|N>>>20),N=V+(k^j&(P^k))+L[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=k+(P^V&(j^P))+L[11]+2304563134&4294967295,k=V+(N<<22&4294967295|N>>>10),N=P+(j^k&(V^j))+L[12]+1804603682&4294967295,P=k+(N<<7&4294967295|N>>>25),N=j+(V^P&(k^V))+L[13]+4254626195&4294967295,j=P+(N<<12&4294967295|N>>>20),N=V+(k^j&(P^k))+L[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=k+(P^V&(j^P))+L[15]+1236535329&4294967295,k=V+(N<<22&4294967295|N>>>10),N=P+(V^j&(k^V))+L[1]+4129170786&4294967295,P=k+(N<<5&4294967295|N>>>27),N=j+(k^V&(P^k))+L[6]+3225465664&4294967295,j=P+(N<<9&4294967295|N>>>23),N=V+(P^k&(j^P))+L[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=k+(j^P&(V^j))+L[0]+3921069994&4294967295,k=V+(N<<20&4294967295|N>>>12),N=P+(V^j&(k^V))+L[5]+3593408605&4294967295,P=k+(N<<5&4294967295|N>>>27),N=j+(k^V&(P^k))+L[10]+38016083&4294967295,j=P+(N<<9&4294967295|N>>>23),N=V+(P^k&(j^P))+L[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=k+(j^P&(V^j))+L[4]+3889429448&4294967295,k=V+(N<<20&4294967295|N>>>12),N=P+(V^j&(k^V))+L[9]+568446438&4294967295,P=k+(N<<5&4294967295|N>>>27),N=j+(k^V&(P^k))+L[14]+3275163606&4294967295,j=P+(N<<9&4294967295|N>>>23),N=V+(P^k&(j^P))+L[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=k+(j^P&(V^j))+L[8]+1163531501&4294967295,k=V+(N<<20&4294967295|N>>>12),N=P+(V^j&(k^V))+L[13]+2850285829&4294967295,P=k+(N<<5&4294967295|N>>>27),N=j+(k^V&(P^k))+L[2]+4243563512&4294967295,j=P+(N<<9&4294967295|N>>>23),N=V+(P^k&(j^P))+L[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=k+(j^P&(V^j))+L[12]+2368359562&4294967295,k=V+(N<<20&4294967295|N>>>12),N=P+(k^V^j)+L[5]+4294588738&4294967295,P=k+(N<<4&4294967295|N>>>28),N=j+(P^k^V)+L[8]+2272392833&4294967295,j=P+(N<<11&4294967295|N>>>21),N=V+(j^P^k)+L[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=k+(V^j^P)+L[14]+4259657740&4294967295,k=V+(N<<23&4294967295|N>>>9),N=P+(k^V^j)+L[1]+2763975236&4294967295,P=k+(N<<4&4294967295|N>>>28),N=j+(P^k^V)+L[4]+1272893353&4294967295,j=P+(N<<11&4294967295|N>>>21),N=V+(j^P^k)+L[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=k+(V^j^P)+L[10]+3200236656&4294967295,k=V+(N<<23&4294967295|N>>>9),N=P+(k^V^j)+L[13]+681279174&4294967295,P=k+(N<<4&4294967295|N>>>28),N=j+(P^k^V)+L[0]+3936430074&4294967295,j=P+(N<<11&4294967295|N>>>21),N=V+(j^P^k)+L[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=k+(V^j^P)+L[6]+76029189&4294967295,k=V+(N<<23&4294967295|N>>>9),N=P+(k^V^j)+L[9]+3654602809&4294967295,P=k+(N<<4&4294967295|N>>>28),N=j+(P^k^V)+L[12]+3873151461&4294967295,j=P+(N<<11&4294967295|N>>>21),N=V+(j^P^k)+L[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=k+(V^j^P)+L[2]+3299628645&4294967295,k=V+(N<<23&4294967295|N>>>9),N=P+(V^(k|~j))+L[0]+4096336452&4294967295,P=k+(N<<6&4294967295|N>>>26),N=j+(k^(P|~V))+L[7]+1126891415&4294967295,j=P+(N<<10&4294967295|N>>>22),N=V+(P^(j|~k))+L[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=k+(j^(V|~P))+L[5]+4237533241&4294967295,k=V+(N<<21&4294967295|N>>>11),N=P+(V^(k|~j))+L[12]+1700485571&4294967295,P=k+(N<<6&4294967295|N>>>26),N=j+(k^(P|~V))+L[3]+2399980690&4294967295,j=P+(N<<10&4294967295|N>>>22),N=V+(P^(j|~k))+L[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=k+(j^(V|~P))+L[1]+2240044497&4294967295,k=V+(N<<21&4294967295|N>>>11),N=P+(V^(k|~j))+L[8]+1873313359&4294967295,P=k+(N<<6&4294967295|N>>>26),N=j+(k^(P|~V))+L[15]+4264355552&4294967295,j=P+(N<<10&4294967295|N>>>22),N=V+(P^(j|~k))+L[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=k+(j^(V|~P))+L[13]+1309151649&4294967295,k=V+(N<<21&4294967295|N>>>11),N=P+(V^(k|~j))+L[4]+4149444226&4294967295,P=k+(N<<6&4294967295|N>>>26),N=j+(k^(P|~V))+L[11]+3174756917&4294967295,j=P+(N<<10&4294967295|N>>>22),N=V+(P^(j|~k))+L[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=k+(j^(V|~P))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+P&4294967295,x.g[1]=x.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.u=function(x,P){P===void 0&&(P=x.length);for(var k=P-this.blockSize,L=this.B,V=this.h,j=0;j<P;){if(V==0)for(;j<=k;)s(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<P;)if(L[V++]=x.charCodeAt(j++),V==this.blockSize){s(this,L),V=0;break}}else for(;j<P;)if(L[V++]=x[j++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=P},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var P=1;P<x.length-8;++P)x[P]=0;var k=8*this.o;for(P=x.length-8;P<x.length;++P)x[P]=k&255,k/=256;for(this.u(x),x=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)x[k++]=this.g[P]>>>L&255;return x};function a(x,P){var k=f;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=P(x)}function u(x,P){this.h=P;for(var k=[],L=!0,V=x.length-1;0<=V;V--){var j=x[V]|0;L&&j==P||(k[V]=j,L=!1)}this.g=k}var f={};function h(x){return-128<=x&&128>x?a(x,function(P){return new u([P|0],0>P?-1:0)}):new u([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return b(m(-x));for(var P=[],k=1,L=0;x>=k;L++)P[L]=x/k|0,k*=4294967296;return new u(P,0)}function _(x,P){if(x.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x.charAt(0)=="-")return b(_(x.substring(1),P));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(P,8)),L=E,V=0;V<x.length;V+=8){var j=Math.min(8,x.length-V),N=parseInt(x.substring(V,V+j),P);8>j?(j=m(Math.pow(P,j)),L=L.j(j).add(m(N))):(L=L.j(k),L=L.add(m(N)))}return L}var E=h(0),w=h(1),A=h(16777216);n=u.prototype,n.m=function(){if(R(this))return-b(this).m();for(var x=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);x+=(0<=L?L:4294967296+L)*P,P*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(R(this))return"-"+b(this).toString(x);for(var P=m(Math.pow(x,6)),k=this,L="";;){var V=te(k,P).g;k=$(k,V.j(P));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=V,D(k))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var P=0;P<x.g.length;P++)if(x.g[P]!=0)return!1;return!0}function R(x){return x.h==-1}n.l=function(x){return x=$(this,x),R(x)?-1:D(x)?0:1};function b(x){for(var P=x.g.length,k=[],L=0;L<P;L++)k[L]=~x.g[L];return new u(k,~x.h).add(w)}n.abs=function(){return R(this)?b(this):this},n.add=function(x){for(var P=Math.max(this.g.length,x.g.length),k=[],L=0,V=0;V<=P;V++){var j=L+(this.i(V)&65535)+(x.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);L=N>>>16,j&=65535,N&=65535,k[V]=N<<16|j}return new u(k,k[k.length-1]&-2147483648?-1:0)};function $(x,P){return x.add(b(P))}n.j=function(x){if(D(this)||D(x))return E;if(R(this))return R(x)?b(this).j(b(x)):b(b(this).j(x));if(R(x))return b(this.j(b(x)));if(0>this.l(A)&&0>x.l(A))return m(this.m()*x.m());for(var P=this.g.length+x.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<x.g.length;V++){var j=this.i(L)>>>16,N=this.i(L)&65535,Fe=x.i(V)>>>16,Oe=x.i(V)&65535;k[2*L+2*V]+=N*Oe,K(k,2*L+2*V),k[2*L+2*V+1]+=j*Oe,K(k,2*L+2*V+1),k[2*L+2*V+1]+=N*Fe,K(k,2*L+2*V+1),k[2*L+2*V+2]+=j*Fe,K(k,2*L+2*V+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new u(k,0)};function K(x,P){for(;(x[P]&65535)!=x[P];)x[P+1]+=x[P]>>>16,x[P]&=65535,P++}function Q(x,P){this.g=x,this.h=P}function te(x,P){if(D(P))throw Error("division by zero");if(D(x))return new Q(E,E);if(R(x))return P=te(b(x),P),new Q(b(P.g),b(P.h));if(R(P))return P=te(x,b(P)),new Q(b(P.g),P.h);if(30<x.g.length){if(R(x)||R(P))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=P;0>=L.l(x);)k=z(k),L=z(L);var V=Z(k,1),j=Z(L,1);for(L=Z(L,2),k=Z(k,2);!D(L);){var N=j.add(L);0>=N.l(x)&&(V=V.add(k),j=N),L=Z(L,1),k=Z(k,1)}return P=$(x,V.j(P)),new Q(V,P)}for(V=E;0<=x.l(P);){for(k=Math.max(1,Math.floor(x.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=m(k),N=j.j(P);R(N)||0<N.l(x);)k-=L,j=m(k),N=j.j(P);D(j)&&(j=w),V=V.add(j),x=$(x,N)}return new Q(V,x)}n.A=function(x){return te(this,x).h},n.and=function(x){for(var P=Math.max(this.g.length,x.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&x.i(L);return new u(k,this.h&x.h)},n.or=function(x){for(var P=Math.max(this.g.length,x.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|x.i(L);return new u(k,this.h|x.h)},n.xor=function(x){for(var P=Math.max(this.g.length,x.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^x.i(L);return new u(k,this.h^x.h)};function z(x){for(var P=x.g.length+1,k=[],L=0;L<P;L++)k[L]=x.i(L)<<1|x.i(L-1)>>>31;return new u(k,x.h)}function Z(x,P){var k=P>>5;P%=32;for(var L=x.g.length-k,V=[],j=0;j<L;j++)V[j]=0<P?x.i(j+k)>>>P|x.i(j+k+1)<<32-P:x.i(j+k);return new u(V,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,no=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rS,iu,iS,pd,Qp,sS,oS,aS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,S){return c==Array.prototype||c==Object.prototype||(c[v]=S.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var v=0;v<c.length;++v){var S=c[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(c,v){if(v)e:{var S=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var H=c[C];if(!(H in S))break e;S=S[H]}c=c[c.length-1],C=S[c],v=v(C),v!=C&&v!=null&&e(S,c,{configurable:!0,writable:!0,value:v})}}function a(c,v){c instanceof String&&(c+="");var S=0,C=!1,H={next:function(){if(!C&&S<c.length){var J=S++;return{value:v(J,c[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function m(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,S){return c.call.apply(c.bind,arguments)}function E(c,v,S){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,C),c.apply(v,H)}}return function(){return c.apply(v,arguments)}}function w(c,v,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,w.apply(null,arguments)}function A(c,v){var S=Array.prototype.slice.call(arguments,1);return function(){var C=S.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function D(c,v){function S(){}S.prototype=v.prototype,c.aa=v.prototype,c.prototype=new S,c.prototype.constructor=c,c.Qb=function(C,H,J){for(var he=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)he[yt-2]=arguments[yt];return v.prototype[H].apply(C,he)}}function R(c){const v=c.length;if(0<v){const S=Array(v);for(let C=0;C<v;C++)S[C]=c[C];return S}return[]}function b(c,v){for(let S=1;S<arguments.length;S++){const C=arguments[S];if(h(C)){const H=c.length||0,J=C.length||0;c.length=H+J;for(let he=0;he<J;he++)c[H+he]=C[he]}else c.push(C)}}class ${constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var z=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Z(c,v,S){for(const C in c)v.call(S,c[C],C,c)}function x(c,v){for(const S in c)v.call(void 0,c[S],S,c)}function P(c){const v={};for(const S in c)v[S]=c[S];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,v){let S,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(S in C)c[S]=C[S];for(let J=0;J<k.length;J++)S=k[J],Object.prototype.hasOwnProperty.call(C,S)&&(c[S]=C[S])}}function V(c){var v=1;c=c.split(":");const S=[];for(;0<v&&c.length;)S.push(c.shift()),v--;return c.length&&S.push(c.join(":")),S}function j(c){f.setTimeout(()=>{throw c},0)}function N(){var c=ye;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Fe{constructor(){this.h=this.g=null}add(v,S){const C=Oe.get();C.set(v,S),this.h?this.h.next=C:this.g=C,this.h=C}}var Oe=new $(()=>new $e,c=>c.reset());class $e{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,ae=!1,ye=new Fe,de=()=>{const c=f.Promise.resolve(void 0);Me=()=>{c.then(W)}};var W=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(S){j(S)}var v=Oe;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ae=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};f.addEventListener("test",S,v),f.removeEventListener("test",S,v)}catch{}return c})();function Pe(c,v){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var S=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(z){e:{try{te(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else S=="mouseover"?v=c.fromElement:S=="mouseout"&&(v=c.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}D(Pe,fe);var le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ge(c,v,S,C,H){this.listener=c,this.proxy=null,this.src=v,this.type=S,this.capture=!!C,this.ha=H,this.key=++De,this.da=this.fa=!1}function St(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,v,S,C,H){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var he=st(c,v,C,H);return-1<he?(v=c[he],S||(v.fa=!1)):(v=new Ge(v,this.src,J,!!C,H),v.fa=S,c.push(v)),v};function qe(c,v){var S=v.type;if(S in c.g){var C=c.g[S],H=Array.prototype.indexOf.call(C,v,void 0),J;(J=0<=H)&&Array.prototype.splice.call(C,H,1),J&&(St(v),c.g[S].length==0&&(delete c.g[S],c.h--))}}function st(c,v,S,C){for(var H=0;H<c.length;++H){var J=c[H];if(!J.da&&J.listener==v&&J.capture==!!S&&J.ha==C)return H}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),ot={};function zt(c,v,S,C,H){if(Array.isArray(v)){for(var J=0;J<v.length;J++)zt(c,v[J],S,C,H);return null}return S=Hr(S),c&&c[Ve]?c.K(v,S,m(C)?!!C.capture:!1,H):Pt(c,v,S,!1,C,H)}function Pt(c,v,S,C,H,J){if(!v)throw Error("Invalid event type");var he=m(H)?!!H.capture:!!H,yt=dt(c);if(yt||(c[rt]=yt=new ie(c)),S=yt.add(v,S,C,he,J),S.proxy)return S;if(C=lt(),S.proxy=C,C.src=c,C.listener=S,c.addEventListener)ge||(H=he),H===void 0&&(H=!1),c.addEventListener(v.toString(),C,H);else if(c.attachEvent)c.attachEvent(Vt(v.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return S}function lt(){function c(S){return v.call(c.src,c.listener,S)}const v=et;return c}function rn(c,v,S,C,H){if(Array.isArray(v))for(var J=0;J<v.length;J++)rn(c,v[J],S,C,H);else C=m(C)?!!C.capture:!!C,S=Hr(S),c&&c[Ve]?(c=c.i,v=String(v).toString(),v in c.g&&(J=c.g[v],S=st(J,S,C,H),-1<S&&(St(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete c.g[v],c.h--)))):c&&(c=dt(c))&&(v=c.g[v.toString()],c=-1,v&&(c=st(v,S,C,H)),(S=-1<c?v[c]:null)&&pt(S))}function pt(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ve])qe(v.i,c);else{var S=c.type,C=c.proxy;v.removeEventListener?v.removeEventListener(S,C,c.capture):v.detachEvent?v.detachEvent(Vt(S),C):v.addListener&&v.removeListener&&v.removeListener(C),(S=dt(v))?(qe(S,c),S.h==0&&(S.src=null,v[rt]=null)):St(c)}}}function Vt(c){return c in ot?ot[c]:ot[c]="on"+c}function et(c,v){if(c.da)c=!0;else{v=new Pe(v,this);var S=c.listener,C=c.ha||c.src;c.fa&&pt(c),c=S.call(C,v)}return c}function dt(c){return c=c[rt],c instanceof ie?c:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hr(c){return typeof c=="function"?c:(c[Wr]||(c[Wr]=function(v){return c.handleEvent(v)}),c[Wr])}function mt(){U.call(this),this.i=new ie(this),this.M=this,this.F=null}D(mt,U),mt.prototype[Ve]=!0,mt.prototype.removeEventListener=function(c,v,S,C){rn(this,c,v,S,C)};function Tt(c,v){var S,C=c.F;if(C)for(S=[];C;C=C.F)S.push(C);if(c=c.M,C=v.type||v,typeof v=="string")v=new fe(v,c);else if(v instanceof fe)v.target=v.target||c;else{var H=v;v=new fe(C,c),L(v,H)}if(H=!0,S)for(var J=S.length-1;0<=J;J--){var he=v.g=S[J];H=br(he,C,!0,v)&&H}if(he=v.g=c,H=br(he,C,!0,v)&&H,H=br(he,C,!1,v)&&H,S)for(J=0;J<S.length;J++)he=v.g=S[J],H=br(he,C,!1,v)&&H}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var S=c.g[v],C=0;C<S.length;C++)St(S[C]);delete c.g[v],c.h--}}this.F=null},mt.prototype.K=function(c,v,S,C){return this.i.add(String(c),v,!1,S,C)},mt.prototype.L=function(c,v,S,C){return this.i.add(String(c),v,!0,S,C)};function br(c,v,S,C){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==S){var yt=he.listener,Zt=he.ha||he.src;he.fa&&qe(c.i,he),H=yt.call(Zt,C)!==!1&&H}}return H&&!C.defaultPrevented}function qr(c,v,S){if(typeof c=="function")S&&(c=w(c,S));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(c,v||0)}function hr(c){c.g=qr(()=>{c.g=null,c.i&&(c.i=!1,hr(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Bn extends U{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){U.call(this),this.h=c,this.g={}}D(Cr,U);var Pr=[];function Ui(c){Z(c.g,function(v,S){this.g.hasOwnProperty(S)&&pt(v)},c),c.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Ui(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=f.JSON.stringify,Kr=f.JSON.parse,zi=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function Gr(c){return c.h||(c.h=c.i())}function Ar(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){fe.call(this,"d")}D(En,fe);function pi(){fe.call(this,"c")}D(pi,fe);var Hn={},Ss=null;function Qr(){return Ss=Ss||new mt}Hn.La="serverreachability";function Ts(c){fe.call(this,Hn.La,c)}D(Ts,fe);function Rr(c){const v=Qr();Tt(v,new Ts(v))}Hn.STAT_EVENT="statevent";function sn(c,v){fe.call(this,Hn.STAT_EVENT,c),this.stat=v}D(sn,fe);function Ze(c){const v=Qr();Tt(v,new sn(v,c))}Hn.Ma="timingevent";function Be(c,v){fe.call(this,Hn.Ma,c),this.size=v}D(Be,fe);function Sn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function mi(c,v,S,C,H,J){c.info(function(){if(c.g)if(J)for(var he="",yt=J.split("&"),Zt=0;Zt<yt.length;Zt++){var tt=yt[Zt].split("=");if(1<tt.length){var on=tt[0];tt=tt[1];var Ht=on.split("_");he=2<=Ht.length&&Ht[1]=="type"?he+(on+"="+tt+"&"):he+(on+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+v+`
`+S+`
`+he})}function qn(c,v,S,C,H,J,he){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+v+`
`+S+`
`+J+" "+he})}function Kn(c,v,S,C){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+na(c,S)+(C?" "+C:"")})}function Xr(c,v){c.info(function(){return"TIMEOUT: "+v})}Nt.prototype.info=function(){};function na(c,v){if(!c.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var C=S[c];if(!(2>C.length)){var H=C[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Wn(S)}catch{return v}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ra={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Bi(){}D(Bi,$i),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},Gn=new Bi;function Qn(c,v,S,C){this.j=c,this.i=v,this.l=S,this.R=C||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vo}function vo(){this.i=null,this.g="",this.h=!1}var Wi={},Hi={};function jn(c,v,S){c.L=1,c.v=yi(hn(v)),c.m=S,c.P=!0,yo(c,null)}function yo(c,v){c.F=Date.now(),We(c),c.A=hn(c.v);var S=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ps(S.i,"t",C),c.C=0,S=c.j.J,c.h=new vo,c.g=ec(c.j,S?v:null,!c.m),0<c.O&&(c.M=new Bn(w(c.Y,c,c.g),c.O)),v=c.U,S=c.g,C=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Pr[0]=H.toString()),H=Pr);for(var J=0;J<H.length;J++){var he=zt(S,H[J],C||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Rr(),mi(c.i,c.u,c.A,c.l,c.R,c.m)}Qn.prototype.ca=function(c){c=c.target;const v=this.M;v&&er(c)==3?v.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=er(this.g);var v=this.g.Ba();const Or=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||bl(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=Or?Rr(3):Rr(2)),qi(this);var S=this.g.Z();this.X=S;t:if(ia(this)){var C=bl(this.g);c="";var H=C.length,J=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Yr(this);var he="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,c+=this.h.i.decode(C[v],{stream:!(J&&v==H-1)});C.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=S==200,qn(this.i,this.u,this.A,this.l,this.R,Ht,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,Zt=this.g;if((yt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(yt)){var tt=yt;break t}}tt=null}if(S=tt)Kn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,S);else{this.o=!1,this.s=3,Ze(12),Xn(this),Yr(this);break e}}if(this.P){S=!0;let mr;for(;!this.J&&this.C<he.length;)if(mr=El(this,he),mr==Hi){Ht==4&&(this.s=4,Ze(14),S=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==Wi){this.s=4,Ze(15),Kn(this.i,this.l,he,"[Invalid Chunk]"),S=!1;break}else Kn(this.i,this.l,mr,null),_o(this,mr);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||he.length!=0||this.h.h||(this.s=1,Ze(16),S=!1),this.o=this.o&&S,!S)Kn(this.i,this.l,he,"[Invalid Chunked Response]"),Xn(this),Yr(this);else if(0<he.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Pl(on),on.M=!0,Ze(11))}}else Kn(this.i,this.l,he,null),_o(this,he);Ht==4&&Xn(this),this.o&&!this.J&&(Ht==4?pa(this.j,this):(this.o=!1,We(this)))}else ua(this.g),S==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Xn(this),Yr(this)}}}catch{}finally{}};function ia(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function El(c,v){var S=c.C,C=v.indexOf(`
`,S);return C==-1?Hi:(S=Number(v.substring(S,C)),isNaN(S)?Wi:(C+=1,C+S>v.length?Hi:(v=v.slice(C,C+S),c.C=C+S,v)))}Qn.prototype.cancel=function(){this.J=!0,Xn(this)};function We(c){c.S=Date.now()+c.I,gt(c,c.I)}function gt(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sn(w(c.ba,c),v)}function qi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xr(this.i,this.A),this.L!=2&&(Rr(),Ze(17)),Xn(this),this.s=2,Yr(this)):gt(this,this.S-c)};function Yr(c){c.j.G==0||c.J||pa(c.j,c)}function Xn(c){qi(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ui(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function _o(c,v){try{var S=c.j;if(S.G!=0&&(S.g==c||dn(S.h,c))){if(!c.K&&dn(S.h,c)&&S.G==3){try{var C=S.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<c.F)fa(S),ni(S);else break e;ha(S),Ze(18)}}else S.za=H[1],0<S.za-S.T&&37500>H[2]&&S.F&&S.v==0&&!S.C&&(S.C=Sn(w(S.Za,S),6e3));if(1>=sa(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Zi(S,11)}else if((c.K||S.g==c)&&fa(S),!K(v))for(H=S.Da.g.parse(v),v=0;v<H.length;v++){let tt=H[v];if(S.T=tt[0],tt=tt[1],S.G==2)if(tt[0]=="c"){S.K=tt[1],S.ia=tt[2];const on=tt[3];on!=null&&(S.la=on,S.j.info("VER="+S.la));const Ht=tt[4];Ht!=null&&(S.Aa=Ht,S.j.info("SVER="+S.Aa));const Or=tt[5];Or!=null&&typeof Or=="number"&&0<Or&&(C=1.5*Or,S.L=C,S.j.info("backChannelRequestTimeoutMs_="+C)),C=S;const mr=c.g;if(mr){const Co=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var J=C.h;J.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Eo(J,J.h),J.h=null))}if(C.D){const ga=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(C.ya=ga,vt(C.I,C.D,ga))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-c.F,S.j.info("Handshake RTT: "+S.R+"ms")),C=S;var he=c;if(C.qa=Zu(C,C.J?C.ia:null,C.W),he.K){So(C.h,he);var yt=he,Zt=C.L;Zt&&(yt.I=Zt),yt.B&&(qi(yt),We(yt)),C.g=he}else bo(C);0<S.i.length&&Ei(S)}else tt[0]!="stop"&&tt[0]!="close"||Zi(S,7);else S.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Zi(S,7):fn(S):tt[0]!="noop"&&S.l&&S.l.ta(tt),S.v=0)}}Rr(4)}catch{}}var wo=class{constructor(c,v){this.g=c,this.map=v}};function Ki(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function dn(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Eo(c,v){c.g?c.g.add(v):c.h=v}function So(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Ki.prototype.cancel=function(){if(this.i=oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function oa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const S of c.g.values())v=v.concat(S.D);return v}return R(c.i)}function bs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var v=[],S=c.length,C=0;C<S;C++)v.push(c[C]);return v}v=[],S=0;for(C in c)v[S++]=c[C];return v}function Cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var v=[];c=c.length;for(var S=0;S<c;S++)v.push(S);return v}v=[],S=0;for(const C in c)v[S++]=C;return v}}}function gi(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var S=Cs(c),C=bs(c),H=C.length,J=0;J<H;J++)v.call(void 0,C[J],S&&S[J],c)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(c,v){if(c){c=c.split("&");for(var S=0;S<c.length;S++){var C=c[S].indexOf("="),H=null;if(0<=C){var J=c[S].substring(0,C);H=c[S].substring(C+1)}else J=c[S];v(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,Qi(this,c.j),this.o=c.o,this.g=c.g,Zr(this,c.s),this.l=c.l;var v=c.i,S=new kr;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),vi(this,S),this.m=c.m}else c&&(v=String(c).match(Gi))?(this.h=!1,Qi(this,v[1]||"",!0),this.o=Xe(v[2]||""),this.g=Xe(v[3]||"",!0),Zr(this,v[4]),this.l=Xe(v[5]||"",!0),vi(this,v[6]||"",!0),this.m=Xe(v[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}Jr.prototype.toString=function(){var c=[],v=this.j;v&&c.push(I(v,ee,!0),":");var S=this.g;return(S||v=="file")&&(c.push("//"),(v=this.o)&&c.push(I(v,ee,!0),"@"),c.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&c.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(I(S,S.charAt(0)=="/"?He:Ie,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",I(S,fr)),c.join("")};function hn(c){return new Jr(c)}function Qi(c,v,S){c.j=S?Xe(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Zr(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function vi(c,v,S){v instanceof kr?(c.i=v,_i(c.i,c.h)):(S||(v=I(v,xr)),c.i=new kr(v,c.h))}function vt(c,v,S){c.i.set(v,S)}function yi(c){return vt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xe(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function I(c,v,S){return typeof c=="string"?(c=encodeURI(c).replace(v,X),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function X(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ee=/[#\/\?@]/g,Ie=/[#\?:]/g,He=/[#\?]/g,xr=/[#\?@]/g,fr=/#/g;function kr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Jt(c){c.g||(c.g=new Map,c.h=0,c.i&&Sl(c.i,function(v,S){c.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=kr.prototype,n.add=function(c,v){Jt(this),this.i=null,c=Nr(this,c);var S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(v),this.h+=1,this};function Yn(c,v){Jt(c),v=Nr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Jn(c,v){return Jt(c),v=Nr(c,v),c.g.has(v)}n.forEach=function(c,v){Jt(this),this.g.forEach(function(S,C){S.forEach(function(H){c.call(v,H,C,this)},this)},this)},n.na=function(){Jt(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let C=0;C<v.length;C++){const H=c[C];for(let J=0;J<H.length;J++)S.push(v[C])}return S},n.V=function(c){Jt(this);let v=[];if(typeof c=="string")Jn(this,c)&&(v=v.concat(this.g.get(Nr(this,c))));else{c=Array.from(this.g.values());for(let S=0;S<c.length;S++)v=v.concat(c[S])}return v},n.set=function(c,v){return Jt(this),this.i=null,c=Nr(this,c),Jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Ps(c,v,S){Yn(c,v),0<S.length&&(c.i=null,c.g.set(Nr(c,v),R(S)),c.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var C=v[S];const J=encodeURIComponent(String(C)),he=this.V(C);for(C=0;C<he.length;C++){var H=J;he[C]!==""&&(H+="="+encodeURIComponent(String(he[C]))),c.push(H)}}return this.i=c.join("&")};function Nr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function _i(c,v){v&&!c.j&&(Jt(c),c.i=null,c.g.forEach(function(S,C){var H=C.toLowerCase();C!=H&&(Yn(this,C),Ps(this,H,S))},c)),c.j=v}function Vh(c,v){const S=new Nt;if(f.Image){const C=new Image;C.onload=A(Zn,S,"TestLoadImage: loaded",!0,v,C),C.onerror=A(Zn,S,"TestLoadImage: error",!1,v,C),C.onabort=A(Zn,S,"TestLoadImage: abort",!1,v,C),C.ontimeout=A(Zn,S,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else v(!1)}function Ku(c,v){const S=new Nt,C=new AbortController,H=setTimeout(()=>{C.abort(),Zn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:C.signal}).then(J=>{clearTimeout(H),J.ok?Zn(S,"TestPingServer: ok",!0,v):Zn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Zn(S,"TestPingServer: error",!1,v)})}function Zn(c,v,S,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(S)}catch{}}function jh(){this.g=new zi}function Gu(c,v,S){const C=S||"";try{gi(c,function(H,J){let he=H;m(H)&&(he=Wn(H)),v.push(C+J+"="+encodeURIComponent(he))})}catch(H){throw v.push(C+"type="+encodeURIComponent("_badmap")),H}}function Xi(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Xi,$i),Xi.prototype.g=function(){return new To(this.l,this.j)},Xi.prototype.i=(function(c){return function(){return c}})({});function To(c,v){mt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(To,mt),n=To.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,ti(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?ei(this):ti(this),this.readyState==3&&Qu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},n.Qa=function(c){this.g&&(this.response=c,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}n.setRequestHeader=function(c,v){this.u.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=v.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yi(c){let v="";return Z(c,function(S,C){v+=C,v+=":",v+=S,v+=`\r
`}),v}function As(c,v,S){e:{for(C in S){var C=!1;break e}C=!0}C||(S=Yi(S),typeof c=="string"?S!=null&&encodeURIComponent(String(S)):vt(c,v,S))}function At(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(At,mt);var Lh=/^https?$/i,Tl=["POST","PUT"];n=At.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,v,S,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Gr(this.o):Gr(Gn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(J){Io(this,J);return}if(c=S||"",S=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)S.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())S.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),H=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Tl,v,void 0))||C||H||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of S)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Io(this,J)}};function Io(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,aa(c),pr(c)}function aa(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Il(this):this.bb())},n.bb=function(){Il(this)};function Il(c){if(c.h&&typeof u<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)qr(c.Ea,0,c);else if(Tt(c,"readystatechange"),er(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var C;if(C=he===0){var H=String(c.D).match(Gi)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),C=!Lh.test(H?H.toLowerCase():"")}S=C}if(S)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var J=2<er(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",aa(c)}}finally{pr(c)}}}}function pr(c,v){if(c.g){la(c);const S=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Tt(c,"ready");try{S.onreadystatechange=C}catch{}}}function la(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Kr(v)}};function bl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(c){const v={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(K(c[C]))continue;var S=V(c[C]);const H=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=v[H]||[];v[H]=J,J.push(S)}x(v,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||v}function Cl(c){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,c),this.cb=wi("retryDelaySeedMs",1e4,c),this.Wa=wi("forwardChannelMaxRetries",2,c),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new jh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cl.prototype,n.la=8,n.G=1,n.connect=function(c,v,S,C){Ze(0),this.W=c,this.H=v||{},S&&C!==void 0&&(this.H.OSID=S,this.H.OAID=C),this.F=this.X,this.I=Zu(this,null,this.W),Ei(this)};function fn(c){if(ca(c),c.G==3){var v=c.U++,S=hn(c.I);if(vt(S,"SID",c.K),vt(S,"RID",v),vt(S,"TYPE","terminate"),Ji(c,S),v=new Qn(c,c.j,v),v.L=2,v.v=yi(hn(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&f.Image&&(new Image().src=v.v,S=!0),S||(v.g=ec(v.j,null),v.g.ea(v.v)),v.F=Date.now(),We(v)}Ju(c)}function ni(c){c.g&&(Pl(c),c.g.cancel(),c.g=null)}function ca(c){ni(c),c.u&&(f.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function Ei(c){if(!Ln(c.h)&&!c.s){c.s=!0;var v=c.Ga;Me||de(),ae||(Me(),ae=!0),ye.add(v,c),c.B=0}}function Fh(c,v){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sn(w(c.Ga,c,v),Yu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Qn(this,this.j,c);let J=this.o;if(this.S&&(J?(J=P(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var C=this.i[S];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Rs(this,H,v),S=hn(this.I),vt(S,"RID",c),vt(S,"CVER",22),this.D&&vt(S,"X-HTTP-Session-Id",this.D),Ji(this,S),J&&(this.O?v="headers="+encodeURIComponent(String(Yi(J)))+"&"+v:this.m&&As(S,this.m,J)),Eo(this.h,H),this.Ua&&vt(S,"TYPE","init"),this.P?(vt(S,"$req",v),vt(S,"SID","null"),H.T=!0,jn(H,S,null)):jn(H,S,v),this.G=2}}else this.G==3&&(c?da(this,c):this.i.length==0||Ln(this.h)||da(this))};function da(c,v){var S;v?S=v.l:S=c.U++;const C=hn(c.I);vt(C,"SID",c.K),vt(C,"RID",S),vt(C,"AID",c.T),Ji(c,C),c.m&&c.o&&As(C,c.m,c.o),S=new Qn(c,c.j,S,c.B+1),c.m===null&&(S.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Rs(c,S,1e3),S.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Eo(c.h,S),jn(S,C,v)}function Ji(c,v){c.H&&Z(c.H,function(S,C){vt(v,C,S)}),c.l&&gi({},function(S,C){vt(v,C,S)})}function Rs(c,v,S){S=Math.min(c.i.length,S);var C=c.l?w(c.l.Na,c.l,c):null;e:{var H=c.i;let J=-1;for(;;){const he=["count="+S];J==-1?0<S?(J=H[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let yt=!0;for(let Zt=0;Zt<S;Zt++){let tt=H[Zt].g;const on=H[Zt].map;if(tt-=J,0>tt)J=Math.max(0,H[Zt].g-100),yt=!1;else try{Gu(on,he,"req"+tt+"_")}catch{C&&C(on)}}if(yt){C=he.join("&");break e}}}return c=c.i.splice(0,S),v.D=c,C}function bo(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;Me||de(),ae||(Me(),ae=!0),ye.add(v,c),c.v=0}}function ha(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sn(w(c.Fa,c),Yu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sn(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),ni(this),Xu(this))};function Pl(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=hn(c.qa);vt(v,"RID","rpc"),vt(v,"SID",c.K),vt(v,"AID",c.T),vt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&vt(v,"TO",c.ja),vt(v,"TYPE","xmlhttp"),Ji(c,v),c.m&&c.o&&As(v,c.m,c.o),c.L&&(c.g.I=c.L);var S=c.g;c=c.ia,S.L=1,S.v=yi(hn(v)),S.m=null,S.P=!0,yo(S,c)}n.Za=function(){this.C!=null&&(this.C=null,ni(this),ha(this),Ze(19))};function fa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function pa(c,v){var S=null;if(c.g==v){fa(c),Pl(c),c.g=null;var C=2}else if(dn(c.h,v))S=v.D,So(c.h,v),C=1;else return;if(c.G!=0){if(v.o)if(C==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var H=c.B;C=Qr(),Tt(C,new Be(C,S)),Ei(c)}else bo(c);else if(H=v.s,H==3||H==0&&0<v.X||!(C==1&&Fh(c,v)||C==2&&ha(c)))switch(S&&0<S.length&&(v=c.h,v.i=v.i.concat(S)),H){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Yu(c,v){let S=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(S*=2),S*v}function Zi(c,v){if(c.j.info("Error code "+v),v==2){var S=w(c.fb,c),C=c.Xa;const H=!C;C=new Jr(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qi(C,"https"),yi(C),H?Vh(C.toString(),S):Ku(C.toString(),S)}else Ze(2);c.G=0,c.l&&c.l.sa(v),Ju(c),ca(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ju(c){if(c.G=0,c.ka=[],c.l){const v=oa(c.h);(v.length!=0||c.i.length!=0)&&(b(c.ka,v),b(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function Zu(c,v,S){var C=S instanceof Jr?hn(S):new Jr(S);if(C.g!="")v&&(C.g=v+"."+C.g),Zr(C,C.s);else{var H=f.location;C=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var J=new Jr(null);C&&Qi(J,C),v&&(J.g=v),H&&Zr(J,H),S&&(J.l=S),C=J}return S=c.D,v=c.ya,S&&v&&vt(C,S,v),vt(C,"VER",c.la),Ji(c,C),C}function ec(c,v,S){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new At(new Xi({eb:S})):new At(c.pa),v.Ha(c.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Al(){}n=Al.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ma(){}ma.prototype.g=function(c,v){return new Fn(c,v)};function Fn(c,v){mt.call(this),this.g=new Cl(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!K(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Si(this)}D(Fn,mt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){fn(this.g)},Fn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.u&&(S={},S.__data__=Wn(c),c=S);v.i.push(new wo(v.Ya++,c)),v.G==3&&Ei(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,fn(this.g),delete this.g,Fn.aa.N.call(this)};function tc(c){En.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const S in v){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}D(tc,En);function nc(){pi.call(this),this.status=1}D(nc,pi);function Si(c){this.g=c}D(Si,Al),Si.prototype.ua=function(){Tt(this.g,"a")},Si.prototype.ta=function(c){Tt(this.g,new tc(c))},Si.prototype.sa=function(c){Tt(this.g,new nc)},Si.prototype.ra=function(){Tt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,aS=function(){return new ma},oS=function(){return Qr()},sS=Hn,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,pd=Is,ra.COMPLETE="complete",iS=ra,Ar.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,iu=Ar,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,rS=At}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",X_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Dm("@firebase/firestore");function Fa(){return qo.logLevel}function ve(n,...e){if(qo.logLevel<=Ye.DEBUG){const t=e.map(Km);qo.debug(`Firestore (${fl}): ${n}`,...t)}}function vs(n,...e){if(qo.logLevel<=Ye.ERROR){const t=e.map(Km);qo.error(`Firestore (${fl}): ${n}`,...t)}}function so(n,...e){if(qo.logLevel<=Ye.WARN){const t=e.map(Km);qo.warn(`Firestore (${fl}): ${n}`,...t)}}function Km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lS(n,r,t)}function lS(n,e,t){let r=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vs(r),new Error(r)}function ft(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||lS(e,s,r)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rn.UNAUTHENTICATED)))}shutdown(){}}class ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ds,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},f=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new uS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class ox{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ox(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ux(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Xp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ke(r,s);{const a=cS(),u=cx(a.encode(J_(n,t)),a.encode(J_(e,t)));return u!==0?u:Ke(r,s)}}t+=r>65535?2:1}return Ke(n.length,e.length)}function J_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ke(n[t],e[t]);return Ke(n.length,e.length)}function Za(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__name__";class Ai{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ai.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ke(e.length,t.length)}static compareSegments(e,t){const r=Ai.isNumericId(e),s=Ai.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class Et extends Ai{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Et(t)}static emptyPath(){return new Et([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Ai{construct(e,t,r){return new _n(e,t,r)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new _n([Z_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Et.fromString(e))}static fromName(e){return new Ce(Et.fromString(e).popFirst(5))}static empty(){return new Ce(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e,t){if(!t)throw new pe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hx(n,e,t,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ew(n){if(!Ce.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tw(n){if(Ce.isDocumentKey(n))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(n);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Lu(n,e){if(!hS(n))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-62135596800,rw=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rw);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nw)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Xt("string",_t._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new _t(0,0))}static max(){return new Ue(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function fx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new oo(s,Ce.empty(),e)}function px(n){return new oo(n.readTime,n.key,Su)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(Ue.min(),Ce.empty(),Su)}static max(){return new oo(Ue.max(),Ce.empty(),Su)}}function mx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==gx)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let s=0,a=0,u=!1;e.forEach((f=>{++s,f.next((()=>{++a,u&&a===s&&t()}),(h=>r(h)))})),u=!0,a===s&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((s=>s?re.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next((_=>{u[m]=_,++f,f===a&&r(u)}),(_=>s(_)))}}))}static doWhile(e,t){return new re(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function yx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function hh(n){return n==null}function Od(n){return n===0&&1/n==-1/0}function _x(n){return typeof n=="number"&&Number.isInteger(n)&&!Od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="";function wx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iw(e)),e=Ex(n.get(t),e);return iw(e)}function Ex(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case fS:t+="";break;default:t+=a}}return t}function iw(n){return n+fS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new vn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new _r([])}unionWith(e){let t=new nn(_n.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mS("Invalid base64 string: "+a):a}})(e);return new wn(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(n){if(ft(!!n,39018),typeof n=="string"){let e=0;const t=Sx.exec(n);if(ft(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lo(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="server_timestamp",vS="__type__",yS="__previous_value__",_S="__local_write_time__";function Xm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vS])===null||t===void 0?void 0:t.stringValue)===gS}function fh(n){const e=n.mapValue.fields[yS];return Xm(e)?fh(e):e}function Tu(n){const e=ao(n.mapValue.fields[_S].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,r,s,a,u,f,h,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=_}}const Dd="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Dd}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Dd}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__type__",Ix="__max__",Zc={mapValue:{}},ES="__vector__",Md="value";function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xm(n)?4:Cx(n)?9007199254740991:bx(n)?10:11:Ne(28295,{value:n})}function Fi(n,e){if(n===e)return!0;const t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ao(s.timestampValue),f=ao(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return lo(s.bytesValue).isEqual(lo(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Bt(s.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Bt(s.integerValue)===Bt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Bt(s.doubleValue),f=Bt(a.doubleValue);return u===f?Od(u)===Od(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return Za(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(sw(u)!==sw(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Fi(u[h],f[h])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function bu(n,e){return(n.values||[]).find((t=>Fi(t,e)))!==void 0}function el(n,e){if(n===e)return 0;const t=uo(n),r=uo(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=Bt(a.integerValue||a.doubleValue),h=Bt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return aw(n.timestampValue,e.timestampValue);case 4:return aw(Tu(n),Tu(e));case 5:return Xp(n.stringValue,e.stringValue);case 6:return(function(a,u){const f=lo(a),h=lo(u);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const _=Ke(f[m],h[m]);if(_!==0)return _}return Ke(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Ke(Bt(a.latitude),Bt(u.latitude));return f!==0?f:Ke(Bt(a.longitude),Bt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var f,h,m,_;const E=a.fields||{},w=u.fields||{},A=(f=E[Md])===null||f===void 0?void 0:f.arrayValue,D=(h=w[Md])===null||h===void 0?void 0:h.arrayValue,R=Ke(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return R!==0?R:lw(A,D)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Zc.mapValue&&u===Zc.mapValue)return 0;if(a===Zc.mapValue)return 1;if(u===Zc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},_=Object.keys(m);h.sort(),_.sort();for(let E=0;E<h.length&&E<_.length;++E){const w=Xp(h[E],_[E]);if(w!==0)return w;const A=el(f[h[E]],m[_[E]]);if(A!==0)return A}return Ke(h.length,_.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{le:t})}}function aw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=ao(n),r=ao(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function lw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=el(t[s],r[s]);if(a)return a}return Ke(t.length,r.length)}function tl(n){return Yp(n)}function Yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ao(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return lo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Yp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Yp(t.fields[u])}`;return s+"}"})(n.mapValue):Ne(61005,{value:n})}function md(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(n);return e?16+md(e):16;case 5:return 2*n.stringValue.length;case 6:return lo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+md(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return po(r.fields,((a,u)=>{s+=a.length+md(u)})),s})(n.mapValue);default:throw Ne(13486,{value:n})}}function uw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jp(n){return!!n&&"integerValue"in n}function Ym(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function bx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wS])===null||t===void 0?void 0:t.stringValue)===ES}function hu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=hu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ix}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=_n.emptyPath(),r={},s=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=hu(u):s.push(f.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){po(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new ur(hu(this.value))}}function SS(n){const e=[];return po(n.fields,((t,r)=>{const s=new _n([t]);if(gd(r)){const a=SS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t,r,s,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new xn(e,0,Ue.min(),Ue.min(),Ue.min(),ur.empty(),0)}static newFoundDocument(e,t,r,s){return new xn(e,1,t,Ue.min(),r,s,0)}static newNoDocument(e,t){return new xn(e,2,t,Ue.min(),Ue.min(),ur.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,Ue.min(),Ue.min(),ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.position=e,this.inclusive=t}}function hw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),t.key):r=el(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Px(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class Qt extends TS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Rx(e,t,r):t==="array-contains"?new Nx(e,r):t==="in"?new Ox(e,r):t==="not-in"?new Dx(e,r):t==="array-contains-any"?new Mx(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xx(e,r):new kx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends TS{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new hi(e,t)}matches(e){return IS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function IS(n){return n.op==="and"}function bS(n){return Ax(n)&&IS(n)}function Ax(n){for(const e of n.filters)if(e instanceof hi)return!1;return!0}function Zp(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+tl(n.value);if(bS(n))return n.filters.map((e=>Zp(e))).join(",");{const e=n.filters.map((t=>Zp(t))).join(",");return`${n.op}(${e})`}}function CS(n,e){return n instanceof Qt?(function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&Fi(r.value,s.value)})(n,e):n instanceof hi?(function(r,s){return s instanceof hi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,f)=>a&&CS(u,s.filters[f])),!0):!1})(n,e):void Ne(19439)}function PS(n){return n instanceof Qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(n):n instanceof hi?(function(t){return t.op.toString()+" {"+t.getFilters().map(PS).join(" ,")+"}"})(n):"Filter"}class Rx extends Qt{constructor(e,t,r){super(e,t,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class xx extends Qt{constructor(e,t){super(e,"in",t),this.keys=AS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kx extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=AS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function AS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class Nx extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&bu(t.arrayValue,this.value)}}class Ox extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}}class Dx extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bu(this.value.arrayValue,t)}}class Mx extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Pe=null}}function pw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new Vx(n,e,t,r,s,a,u)}function Jm(n){const e=ze(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Zp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>tl(r))).join(",")),e.Pe=t}return e.Pe}function Zm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Px(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fw(n.startAt,e.startAt)&&fw(n.endAt,e.endAt)}function em(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jx(n,e,t,r,s,a,u,f){return new Fu(n,e,t,r,s,a,u,f)}function eg(n){return new Fu(n)}function mw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RS(n){return n.collectionGroup!==null}function fu(n){const e=ze(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new nn(_n.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new jd(a,r))})),t.has(_n.keyField().canonicalString())||e.Te.push(new jd(_n.keyField(),r))}return e.Te}function Oi(n){const e=ze(n);return e.Ie||(e.Ie=Lx(e,fu(n))),e.Ie}function Lx(n,e){if(n.limitType==="F")return pw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new jd(s.field,a)}));const t=n.endAt?new Vd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vd(n.startAt.position,n.startAt.inclusive):null;return pw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tm(n,e){const t=n.filters.concat([e]);return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nm(n,e,t){return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ph(n,e){return Zm(Oi(n),Oi(e))&&n.limitType===e.limitType}function xS(n){return`${Jm(Oi(n))}|lt:${n.limitType}`}function Ua(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>PS(s))).join(", ")}]`),hh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>tl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>tl(s))).join(",")),`Target(${r})`})(Oi(n))}; limitType=${n.limitType})`}function mh(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of fu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,f,h){const m=hw(u,f,h);return u.inclusive?m<=0:m<0})(r.startAt,fu(r),s)||r.endAt&&!(function(u,f,h){const m=hw(u,f,h);return u.inclusive?m>=0:m>0})(r.endAt,fu(r),s))})(n,e)}function Fx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kS(n){return(e,t)=>{let r=!1;for(const s of fu(n)){const a=Ux(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Ux(n,e,t){const r=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?el(h,m):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Mt(Ce.comparator);function ys(){return zx}const NS=new Mt(Ce.comparator);function su(...n){let e=NS;for(const t of n)e=e.insert(t.key,t);return e}function OS(n){let e=NS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function zo(){return pu()}function DS(){return pu()}function pu(){return new Yo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $x=new Mt(Ce.comparator),Bx=new nn(Ce.comparator);function Je(...n){let e=Bx;for(const t of n)e=e.add(t);return e}const Wx=new nn(Ke);function Hx(){return Wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function MS(n){return{integerValue:""+n}}function qx(n,e){return _x(e)?MS(e):tg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function Kx(n,e,t){return n instanceof Cu?(function(s,a){const u={fields:{[vS]:{stringValue:gS},[_S]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Xm(a)&&(a=fh(a)),a&&(u.fields[yS]=a),{mapValue:u}})(t,e):n instanceof nl?jS(n,e):n instanceof rl?LS(n,e):(function(s,a){const u=VS(s,a),f=gw(u)+gw(s.Ee);return Jp(u)&&Jp(s.Ee)?MS(f):tg(s.serializer,f)})(n,e)}function Gx(n,e,t){return n instanceof nl?jS(n,e):n instanceof rl?LS(n,e):t}function VS(n,e){return n instanceof Ld?(function(r){return Jp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Cu extends gh{}class nl extends gh{constructor(e){super(),this.elements=e}}function jS(n,e){const t=FS(e);for(const r of n.elements)t.some((s=>Fi(s,r)))||t.push(r);return{arrayValue:{values:t}}}class rl extends gh{constructor(e){super(),this.elements=e}}function LS(n,e){let t=FS(e);for(const r of n.elements)t=t.filter((s=>!Fi(s,r)));return{arrayValue:{values:t}}}class Ld extends gh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function gw(n){return Bt(n.integerValue||n.doubleValue)}function FS(n){return Ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.field=e,this.transform=t}}function Qx(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof nl&&s instanceof nl||r instanceof rl&&s instanceof rl?Za(r.elements,s.elements,Fi):r instanceof Ld&&s instanceof Ld?Fi(r.Ee,s.Ee):r instanceof Cu&&s instanceof Cu})(n.transform,e.transform)}class Xx{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vh{}function US(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rg(n.key,Br.none()):new Uu(n.key,n.data,Br.none());{const t=n.data,r=ur.empty();let s=new nn(_n.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new mo(n.key,r,new _r(s.toArray()),Br.none())}}function Yx(n,e,t){n instanceof Uu?(function(s,a,u){const f=s.value.clone(),h=yw(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof mo?(function(s,a,u){if(!vd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=yw(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(zS(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function mu(n,e,t,r){return n instanceof Uu?(function(a,u,f,h){if(!vd(a.precondition,u))return f;const m=a.value.clone(),_=_w(a.fieldTransforms,h,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof mo?(function(a,u,f,h){if(!vd(a.precondition,u))return f;const m=_w(a.fieldTransforms,h,u),_=u.data;return _.setAll(zS(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(a,u,f){return vd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function Jx(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=VS(r.transform,s||null);a!=null&&(t===null&&(t=ur.empty()),t.set(r.field,a))}return t||null}function vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Za(r,s,((a,u)=>Qx(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends vh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mo extends vh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function yw(n,e,t){const r=new Map;ft(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,Gx(u,f,t[s]))}return r}function _w(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,Kx(a,u,e))}return r}class rg extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zx extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Yx(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DS();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const h=US(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((t,r)=>vw(t,r)))&&Za(this.baseMutations,e.baseMutations,((t,r)=>vw(t,r)))}}class ig{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ft(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return $x})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new ig(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,nt;function rk(n){switch(n){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function $S(n){if(n===void 0)return vs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Kt.OK:return ne.OK;case Kt.CANCELLED:return ne.CANCELLED;case Kt.UNKNOWN:return ne.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ne.INTERNAL;case Kt.UNAVAILABLE:return ne.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ne.NOT_FOUND;case Kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Kt.ABORTED:return ne.ABORTED;case Kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Kt.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:n})}}(nt=Kt||(Kt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new no([4294967295,4294967295],0);function ww(n){const e=cS().encode(n),t=new nS;return t.update(e),new Uint8Array(t.digest())}function Ew(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new no([t,r],0),new no([s,a],0)]}class sg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=no.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(no.fromNumber(r)));return s.compare(ik)===1&&(s=new no([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=ww(e),[r,s]=Ew(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sg(a,s,t);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.fe===0)return;const t=ww(e),[r,s]=Ew(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yh(Ue.min(),s,new Mt(Ke),ys(),Je())}}class zu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zu(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class BS{constructor(e,t){this.targetId=e,this.De=t}}class WS{constructor(e,t,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Sw{constructor(){this.ve=0,this.Ce=Tw(),this.Fe=wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Je(),t=Je(),r=Je();return this.Ce.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ne(38017,{changeType:a})}})),new zu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=Tw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sk{constructor(e){this.We=e,this.Ge=new Map,this.ze=ys(),this.je=ed(),this.Je=ed(),this.He=new Mt(Ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,s)=>{this.nt(s)&&t(s)}))}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const a=s.target;if(em(a))if(r===0){const u=new Ce(a.path);this.Xe(t,u,xn.newNoDocument(u,Ue.min()))}else ft(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const f=this._t(e),h=f?this.ut(f,e,u):1;if(h!==0){this.rt(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=lo(r).toUint8Array()}catch(h){if(h instanceof mS)return so("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new sg(u,s,a)}catch(h){return so(h instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.fe===0?null:f}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.We.lt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,a,null),s++)})),s}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const f=this.st(u);if(f){if(a.current&&em(f.target)){const h=new Ce(f.target.path);this.Tt(h).has(u)||this.It(u,h)||this.Xe(u,h,xn.newNoDocument(h,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=Je();this.Je.forEach(((a,u)=>{let f=!0;u.forEachWhile((h=>{const m=this.st(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const s=new yh(e,t,this.He,this.ze,r);return this.ze=ys(),this.je=ed(),this.Je=ed(),this.He=new Mt(Ke),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Sw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new nn(Ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new nn(Ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Sw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ed(){return new Mt(Ce.comparator)}function Tw(){return new Mt(Ce.comparator)}const ok={asc:"ASCENDING",desc:"DESCENDING"},ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lk={and:"AND",or:"OR"};class uk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rm(n,e){return n.useProto3Json||hh(e)?e:{value:e}}function Fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ck(n,e){return Fd(n,e.toTimestamp())}function Di(n){return ft(!!n,49232),Ue.fromTimestamp((function(t){const r=ao(t);return new _t(r.seconds,r.nanos)})(n))}function og(n,e){return im(n,e).canonicalString()}function im(n,e){const t=(function(s){return new Et(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function qS(n){const e=Et.fromString(n);return ft(YS(e),10190,{key:e.toString()}),e}function sm(n,e){return og(n.databaseId,e.path)}function _p(n,e){const t=qS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(GS(t))}function KS(n,e){return og(n.databaseId,e)}function dk(n){const e=qS(n);return e.length===4?Et.emptyPath():GS(e)}function om(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GS(n){return ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Iw(n,e,t){return{name:sm(n,e),fields:t.value.mapValue.fields}}function hk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,_){return m.useProto3Json?(ft(_===void 0||typeof _=="string",58123),wn.fromBase64String(_||"")):(ft(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),wn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(m){const _=m.code===void 0?ne.UNKNOWN:$S(m.code);return new pe(_,m.message||"")})(u);t=new WS(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_p(n,r.document.name),a=Di(r.document.updateTime),u=r.document.createTime?Di(r.document.createTime):Ue.min(),f=new ur({mapValue:{fields:r.document.fields}}),h=xn.newFoundDocument(s,a,u,f),m=r.targetIds||[],_=r.removedTargetIds||[];t=new yd(m,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_p(n,r.document),a=r.readTime?Di(r.readTime):Ue.min(),u=xn.newNoDocument(s,a),f=r.removedTargetIds||[];t=new yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_p(n,r.document),a=r.removedTargetIds||[];t=new yd([],a,s,null)}else{if(!("filter"in e))return Ne(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new nk(s,a),f=r.targetId;t=new BS(f,u)}}return t}function fk(n,e){let t;if(e instanceof Uu)t={update:Iw(n,e.key,e.value)};else if(e instanceof rg)t={delete:sm(n,e.key)};else if(e instanceof mo)t={update:Iw(n,e.key,e.data),updateMask:Sk(e.fieldMask)};else{if(!(e instanceof Zx))return Ne(16599,{Rt:e.type});t={verify:sm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const f=u.transform;if(f instanceof Cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:f.Ee};throw Ne(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:ck(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(n,e.precondition)),t}function pk(n,e){return n&&n.length>0?(ft(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Di(s.updateTime):Di(a);return u.isEqual(Ue.min())&&(u=Di(a)),new Xx(u,s.transformResults||[])})(t,e)))):[]}function mk(n,e){return{documents:[KS(n,e.path)]}}function gk(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=KS(n,s);const a=(function(m){if(m.length!==0)return XS(hi.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((_=>(function(w){return{field:za(w.field),direction:_k(w.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=rm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:s}}function vk(n){let e=dk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ft(r===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(E){const w=QS(E);return w instanceof hi&&bS(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((w=>(function(D){return new jd($a(D.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let w;return w=typeof E=="object"?E.value:E,hh(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(E){const w=!!E.before,A=E.values||[];return new Vd(A,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const w=!E.before,A=E.values||[];return new Vd(A,w)})(t.endAt)),jx(e,s,u,a,f,"F",h,m)}function yk(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$a(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$a(t.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$a(t.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$a(t.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qt.create($a(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hi.create(t.compositeFilter.filters.map((r=>QS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function _k(n){return ok[n]}function wk(n){return ak[n]}function Ek(n){return lk[n]}function za(n){return{fieldPath:n.canonicalString()}}function $a(n){return _n.fromServerFormat(n.fieldPath)}function XS(n){return n instanceof Qt?(function(t){if(t.op==="=="){if(dw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NAN"}};if(cw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NAN"}};if(cw(t.value))return{unaryFilter:{field:za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(t.field),op:wk(t.op),value:t.value}}})(n):n instanceof hi?(function(t){const r=t.getFilters().map((s=>XS(s)));return r.length===1?r[0]:{compositeFilter:{op:Ek(t.op),filters:r}}})(n):Ne(54877,{filter:n})}function Sk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function YS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,r,s,a=Ue.min(),u=Ue.min(),f=wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.gt=e}}function Ik(n){const e=vk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Dn=new Ck}addToCollectionParentIndex(e,t){return this.Dn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(oo.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Ck{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new nn(Et.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(JS,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new il(0)}static ur(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LruGarbageCollector",Pk=1048576;function Pw([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class Ak{constructor(e){this.Tr=e,this.buffer=new nn(Pw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Pw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(Cw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ve(Cw,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Rr(3e5)}))}}class xk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(dh.ue);const r=new Ak(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(bw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,a,u,f,h,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(r=E,f=Date.now(),this.removeTargets(e,r,t)))).next((E=>(a=E,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(m=Date.now(),Fa()<=Ye.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${E} documents in `+(m-h)+`ms
Total Duration: ${m-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E}))))}}function kk(n,e){return new xk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changes=new Yo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&mu(r.mutation,s,_r.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const s=zo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=su();return a.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=zo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,r,s){let a=ys();const u=pu(),f=(function(){return pu()})();return t.forEach(((h,m)=>{const _=r.get(m.key);s.has(m.key)&&(_===void 0||_.mutation instanceof mo)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),mu(_.mutation,m,_.mutation.getFieldMask(),_t.now())):u.set(m.key,_r.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((m,_)=>u.set(m,_))),t.forEach(((m,_)=>{var E;return f.set(m,new Ok(_,(E=u.get(m))!==null&&E!==void 0?E:null))})),f)))}recalculateAndSaveOverlays(e,t){const r=pu();let s=new Mt(((u,f)=>u-f)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((h=>{const m=t.get(h);if(m===null)return;let _=r.get(h)||_r.empty();_=f.applyToLocalView(m,_),r.set(h,_);const E=(s.get(f.batchId)||Je()).add(h);s=s.insert(f.batchId,E)}))})).next((()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,_=h.value,E=DS();_.forEach((w=>{if(!a.has(w)){const A=US(t.get(w),r.get(w));A!==null&&E.set(w,A),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):re.resolve(zo());let f=Su,h=a;return u.next((m=>re.forEach(m,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),a.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{h=h.insert(_,w)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,h,m,Je()))).next((_=>({batchId:f,changes:OS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((r=>{let s=su();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=su();return this.indexManager.getCollectionParents(e,a).next((f=>re.forEach(f,(h=>{const m=(function(E,w){return new Fu(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((_=>{_.forEach(((E,w)=>{u=u.insert(E,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((h,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,xn.newInvalidDocument(_)))}));let f=su();return u.forEach(((h,m)=>{const _=a.get(h);_!==void 0&&mu(_.mutation,m,_r.empty(),_t.now()),mh(t,m)&&(f=f.insert(h,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return re.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Di(s.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(s){return{name:s.name,query:Ik(s.bundledQuery),readTime:Di(s.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.overlays=new Mt(Ce.comparator),this.kr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zo();return re.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.wt(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=zo(),a=t.length+1,u=new Ce(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Mt(((m,_)=>m-_));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=zo(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=zo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,_)=>f.set(m,_))),!(f.size()>=s)););return re.resolve(f)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tk(t,r));let a=this.kr.get(t);a===void 0&&(a=Je(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.qr=new nn(cn.Qr),this.$r=new nn(cn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new cn(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new cn(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ce(new Et([])),r=new cn(t,e),s=new cn(t,e+1),a=[];return this.$r.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ce(new Et([])),r=new cn(t,e),s=new cn(t,e+1);let a=Je();return this.$r.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new cn(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ce.comparator(e.key,t.key)||Ke(e.Hr,t.Hr)}static Ur(e,t){return Ke(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new nn(cn.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ek(a,t,r,s);this.mutationQueue.push(u);for(const f of s)this.Yr=this.Yr.add(new cn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Qm:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cn(t,0),s=new cn(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],(u=>{const f=this.Zr(u.Hr);a.push(f)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(Ke);return t.forEach((s=>{const a=new cn(s,0),u=new cn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(f=>{r=r.add(f.Hr)}))})),re.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new cn(new Ce(a),0);let f=new nn(Ke);return this.Yr.forEachWhile((h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(f=f.add(h.Hr)),!0)}),u),re.resolve(this.ei(f))}ei(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){ft(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return re.forEach(t.mutations,(s=>{const a=new cn(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new cn(t,0),s=this.Yr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.ni=e,this.docs=(function(){return new Mt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():xn.newInvalidDocument(s))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ys();const u=t.path,f=new Ce(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:_}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||mx(px(_),r)<=0||(s.has(_.key)||mh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ne(9500)}ri(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return re.resolve(this.size)}}class Uk extends Nk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.persistence=e,this.ii=new Yo((t=>Jm(t)),Zm),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.si=0,this.oi=new ag,this.targetCount=0,this._i=il.ar()}forEachTarget(e,t){return this.ii.forEach(((r,s)=>t(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),re.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new il(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.hr(t),re.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ii.forEach(((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),re.waitFor(a).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t){this.ai={},this.overlays={},this.ui=new dh(0),this.ci=!1,this.ci=!0,this.li=new jk,this.referenceDelegate=e(this),this.hi=new zk(this),this.indexManager=new bk,this.remoteDocumentCache=(function(s){return new Fk(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Tk(t),this.Ti=new Mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Lk(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const s=new $k(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return re.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class $k extends vx{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ai=new ag,this.Ri=null}static Vi(e){return new lg(e)}get mi(){if(this.Ri)return this.Ri;throw Ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,(r=>{const s=Ce.fromPath(r);return this.fi(e,s).next((a=>{a||t.removeEntry(s,Ue.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return re.or([()=>re.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ud{constructor(e,t){this.persistence=e,this.gi=new Yo((r=>wx(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=kk(this,t)}static Vi(e,t){return new Ud(e,t)}Ii(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return re.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((a=>a?re.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,t).next((f=>{f||(r++,a.removeEntry(u,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=md(e.data.value)),t}Sr(e,t,r){return re.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=Je(),s=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ug(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return F1()?8:yx(Nn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Bk;return this.ws(e,t,u).next((f=>{if(a.result=f,this.Rs)return this.Ss(e,t,u,f.size)}))})).next((()=>a.result))}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(Fa()<=Ye.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Fa()<=Ye.DEBUG&&ve("QueryEngine","Query:",Ua(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Fa()<=Ye.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):re.resolve())}ps(e,t){if(mw(t))return re.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=nm(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Je(...a);return this.gs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const m=this.bs(t,f);return this.Ds(t,m,u,h.readTime)?this.ps(e,nm(t,null,"F")):this.vs(e,m,t,h)}))))})))))}ys(e,t,r,s){return mw(t)||s.isEqual(Ue.min())?re.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,s)?re.resolve(null):(Fa()<=Ye.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ua(t)),this.vs(e,u,t,fx(s,Su)).next((f=>f)))}))}bs(e,t){let r=new nn(kS(e));return t.forEach(((s,a)=>{mh(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,t,r){return Fa()<=Ye.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ua(t)),this.gs.getDocumentsMatchingQuery(e,t,oo.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",Hk=3e8;class qk{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new Mt(Ke),this.Ms=new Yo((a=>Jm(a)),Zm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Kk(n,e,t,r){return new qk(n,e,t,r)}async function eT(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],f=[];let h=Je();for(const m of s){u.push(m.batchId);for(const _ of m.mutations)h=h.add(_.key)}for(const m of a){f.push(m.batchId);for(const _ of m.mutations)h=h.add(_.key)}return t.localDocuments.getDocuments(r,h).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function Gk(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(f,h,m,_){const E=m.batch,w=E.keys();let A=re.resolve();return w.forEach((D=>{A=A.next((()=>_.getEntry(h,D))).next((R=>{const b=m.docVersions.get(D);ft(b!==null,48541),R.version.compareTo(b)<0&&(E.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),_.addEntry(R)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(h,E)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=Je();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function tT(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Qk(n,e){const t=ze(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const f=[];e.targetChanges.forEach(((_,E)=>{const w=s.get(E);if(!w)return;f.push(t.hi.removeMatchingKeys(a,_.removedDocuments,E).next((()=>t.hi.addMatchingKeys(a,_.addedDocuments,E))));let A=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(wn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,r)),s=s.insert(E,A),(function(R,b,$){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Hk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,A,_)&&f.push(t.hi.updateTargetData(a,A))}));let h=ys(),m=Je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),f.push(Xk(a,u,e.documentUpdates).next((_=>{h=_.Ls,m=_.ks}))),!r.isEqual(Ue.min())){const _=t.hi.getLastRemoteSnapshotVersion(a).next((E=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));f.push(_)}return re.waitFor(f).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,m))).next((()=>h))})).then((a=>(t.Fs=s,a)))}function Xk(n,e,t){let r=Je(),s=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=ys();return t.forEach(((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ve(cg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)})),{Ls:u,ks:s}}))}function Yk(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Jk(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.hi.getTargetData(r,e).next((a=>a?(s=a,re.resolve(s)):t.hi.allocateTargetId(r).next((u=>(s=new Js(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function am(n,e,t){const r=ze(n),s=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ml(u))throw u;ve(cg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function Aw(n,e,t){const r=ze(n);let s=Ue.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,m,_){const E=ze(h),w=E.Ms.get(_);return w!==void 0?re.resolve(E.Fs.get(w)):E.hi.getTargetData(m,_)})(r,u,Oi(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,f.targetId).next((h=>{a=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ue.min(),t?a:Je()))).next((f=>(Zk(r,Fx(e),f),{documents:f,qs:a})))))}function Zk(n,e,t){let r=n.xs.get(e)||Ue.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class Rw{constructor(){this.activeTargetIds=Hx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(){this.Fo=new Rw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Rw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="ConnectivityMonitor";class kw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(xw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(xw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function lm(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=lm(),f=this.Go(e,t.toUriEncodedString());ve(wp,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,a);const{host:m}=new URL(f),_=ws(m);return this.jo(e,f,h,r,_).then((E=>(ve(wp,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw so(wp,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",r),E}))}Jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Go(e,t){const r=nN[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class sN extends rN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,a){const u=lm();return new Promise(((f,h)=>{const m=new rS;m.setWithCredentials(!0),m.listenOnce(iS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case pd.NO_ERROR:const E=m.getResponseJson();ve(Pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case pd.TIMEOUT:ve(Pn,`RPC '${e}' ${u} timed out`),h(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const w=m.getStatus();if(ve(Pn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const R=(function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN})(D.status);h(new pe(R,D.message))}else h(new pe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ve(Pn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(s);ve(Pn,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",_,r,15)}))}P_(e,t,r){const s=lm(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=aS(),f=oS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const _=a.join("");ve(Pn,`Creating RPC '${e}' stream ${s}: ${_}`,h);const E=u.createWebChannel(_,h);this.T_(E);let w=!1,A=!1;const D=new iN({Ho:b=>{A?ve(Pn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(w||(ve(Pn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),w=!0),ve(Pn,`RPC '${e}' stream ${s} sending:`,b),E.send(b))},Yo:()=>E.close()}),R=(b,$,K)=>{b.listen($,(Q=>{try{K(Q)}catch(te){setTimeout((()=>{throw te}),0)}}))};return R(E,iu.EventType.OPEN,(()=>{A||(ve(Pn,`RPC '${e}' stream ${s} transport opened.`),D.s_())})),R(E,iu.EventType.CLOSE,(()=>{A||(A=!0,ve(Pn,`RPC '${e}' stream ${s} transport closed`),D.__(),this.I_(E))})),R(E,iu.EventType.ERROR,(b=>{A||(A=!0,so(Pn,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),D.__(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),R(E,iu.EventType.MESSAGE,(b=>{var $;if(!A){const K=b.data[0];ft(!!K,16349);const Q=K,te=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(te){ve(Pn,`RPC '${e}' stream ${s} received error:`,te);const z=te.status;let Z=(function(k){const L=Kt[k];if(L!==void 0)return $S(L)})(z),x=te.message;Z===void 0&&(Z=ne.INTERNAL,x="Unknown error status: "+z+" with message "+te.message),A=!0,D.__(new pe(Z,x)),E.close()}else ve(Pn,`RPC '${e}' stream ${s} received:`,K),D.a_(K)}})),R(f,sS.STAT_EVENT,(b=>{b.stat===Qp.PROXY?ve(Pn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Qp.NOPROXY&&ve(Pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{D.o_()}),0),D}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n){return new uk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="PersistentStream";class rT{constructor(e,t,r,s,a,u,f,h){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new nT(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(vs(t.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===t&&this.W_(r,s)}),(r=>{e((()=>{const s=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ve(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oN extends rT{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=hk(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?Di(u.readTime):Ue.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=om(this.serializer),t.addTarget=(function(a,u){let f;const h=u.target;if(f=em(h)?{documents:mk(a,h)}:{query:gk(a,h).Vt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=HS(a,u.resumeToken);const m=rm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=Fd(a,u.snapshotVersion.toTimestamp());const m=rm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=yk(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.k_(t)}}class aN extends rT{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=pk(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=om(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fk(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{}class uN extends lN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,im(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())}))}Jo(e,t,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Jo(e,im(t,r),s,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class cN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vs(t),this._a=!1):ve("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class dN{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{Jo(this)&&(ve(Ko,"Restarting streams for network reachability change."),await(async function(h){const m=ze(h);m.Ia.add(4),await $u(m),m.Aa.set("Unknown"),m.Ia.delete(4),await wh(m)})(this))}))})),this.Aa=new cN(r,s)}}async function wh(n){if(Jo(n))for(const e of n.da)await e(!0)}async function $u(n){for(const e of n.da)await e(!1)}function iT(n,e){const t=ze(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),pg(t)?fg(t):gl(t).x_()&&hg(t,e))}function dg(n,e){const t=ze(n),r=gl(t);t.Ta.delete(e),r.x_()&&sT(t,e),t.Ta.size===0&&(r.x_()?r.B_():Jo(t)&&t.Aa.set("Unknown"))}function hg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(n).H_(e)}function sT(n,e){n.Ra.$e(e),gl(n).Y_(e)}function fg(n){n.Ra=new sk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),gl(n).start(),n.Aa.aa()}function pg(n){return Jo(n)&&!gl(n).M_()&&n.Ta.size>0}function Jo(n){return ze(n).Ia.size===0}function oT(n){n.Ra=void 0}async function hN(n){n.Aa.set("Online")}async function fN(n){n.Ta.forEach(((e,t)=>{hg(n,e)}))}async function pN(n,e){oT(n),pg(n)?(n.Aa.la(e),fg(n)):n.Aa.set("Unknown")}async function mN(n,e,t){if(n.Aa.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ta.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ta.delete(f),s.Ra.removeTarget(f))})(n,e)}catch(r){ve(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(n,r)}else if(e instanceof yd?n.Ra.Ye(e):e instanceof BS?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ue.min()))try{const r=await tT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const f=a.Ra.Pt(u);return f.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const _=a.Ta.get(m);_&&a.Ta.set(m,_.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,m)=>{const _=a.Ta.get(h);if(!_)return;a.Ta.set(h,_.withResumeToken(wn.EMPTY_BYTE_STRING,_.snapshotVersion)),sT(a,h);const E=new Js(_.target,h,m,_.sequenceNumber);hg(a,E)})),a.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ve(Ko,"Failed to raise snapshot:",r),await zd(n,r)}}async function zd(n,e,t){if(!ml(e))throw e;n.Ia.add(1),await $u(n),n.Aa.set("Offline"),t||(t=()=>tT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Ko,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await wh(n)}))}function aT(n,e){return e().catch((t=>zd(n,t,e)))}async function Eh(n){const e=ze(n),t=co(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qm;for(;gN(e);)try{const s=await Yk(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,vN(e,s)}catch(s){await zd(e,s)}lT(e)&&uT(e)}function gN(n){return Jo(n)&&n.Pa.length<10}function vN(n,e){n.Pa.push(e);const t=co(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function lT(n){return Jo(n)&&!co(n).M_()&&n.Pa.length>0}function uT(n){co(n).start()}async function yN(n){co(n).na()}async function _N(n){const e=co(n);for(const t of n.Pa)e.X_(t.mutations)}async function wN(n,e,t){const r=n.Pa.shift(),s=ig.from(r,e,t);await aT(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Eh(n)}async function EN(n,e){e&&co(n).Z_&&await(async function(r,s){if((function(u){return rk(u)&&u!==ne.ABORTED})(s.code)){const a=r.Pa.shift();co(r).N_(),await aT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Eh(r)}})(n,e),lT(n)&&uT(n)}async function Ow(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),ve(Ko,"RemoteStore received new credentials");const r=Jo(t);t.Ia.add(3),await $u(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await wh(t)}async function SN(n,e){const t=ze(n);e?(t.Ia.delete(2),await wh(t)):e||(t.Ia.add(2),await $u(t),t.Aa.set("Unknown"))}function gl(n){return n.Va||(n.Va=(function(t,r,s){const a=ze(t);return a.ia(),new oN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:hN.bind(null,n),e_:fN.bind(null,n),n_:pN.bind(null,n),J_:mN.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),pg(n)?fg(n):n.Aa.set("Unknown")):(await n.Va.stop(),oT(n))}))),n.Va}function co(n){return n.ma||(n.ma=(function(t,r,s){const a=ze(t);return a.ia(),new aN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yN.bind(null,n),n_:EN.bind(null,n),ea:_N.bind(null,n),ta:wN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Eh(n)):(await n.ma.stop(),n.Pa.length>0&&(ve(Ko,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,f=new mg(e,t,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(n,e){if(vs("AsyncQueue",`${e}: ${n}`),ml(n))return new pe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ce.comparator(t.key,r.key):(t,r)=>Ce.comparator(t.key,r.key),this.keyedMap=su(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.fa=new Mt(Ce.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class sl{constructor(e,t,r,s,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new sl(e,t,Ga.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class IN{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=ze(t),a=s.queries;s.queries=Mw(),a.forEach(((u,f)=>{for(const h of f.wa)h.onError(r)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function Mw(){return new Yo((n=>xS(n)),ph)}async function cT(n,e){const t=ze(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new TN,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(s,!0);break;case 1:a.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=gg(u,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&vg(t)}async function dT(n,e){const t=ze(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bN(n,e){const t=ze(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.wa)f.Ca(s)&&(r=!0);u.ya=s}}r&&vg(t)}function CN(n,e,t){const r=ze(n),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(t);r.queries.delete(e)}function vg(n){n.Da.forEach((e=>{e.next()}))}var um,Vw;(Vw=um||(um={})).Fa="default",Vw.Cache="cache";class hT{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class PN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Je(),this.mutatedKeys=Je(),this.Xa=kS(e),this.eu=new Ga(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new Dw,s=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,E)=>{const w=s.get(_),A=mh(this.query,E)?E:null,D=!!w&&this.mutatedKeys.has(w.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;w&&A?w.data.isEqual(A.data)?D!==R&&(r.track({type:3,doc:A}),b=!0):this.iu(w,A)||(r.track({type:2,doc:A}),b=!0,(h&&this.Xa(A,h)>0||m&&this.Xa(A,m)<0)&&(f=!0)):!w&&A?(r.track({type:0,doc:A}),b=!0):w&&!A&&(r.track({type:1,doc:w}),b=!0,(h||m)&&(f=!0)),b&&(A?(u=u.add(A),a=R?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{eu:u,ru:r,Ds:f,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((_,E)=>(function(A,D){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{At:b})}};return R(A)-R(D)})(_.type,E.type)||this.Xa(_.doc,E.doc))),this.su(r),s=s!=null&&s;const f=t&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,m=h!==this.Ya;return this.Ya=h,u.length!==0||m?{snapshot:new sl(this.query,e.eu,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Je(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new pT(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new fT(r))})),t}uu(e){this.Ha=e.qs,this.Za=Je();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yg="SyncEngine";class AN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RN{constructor(e){this.key=e,this.lu=!1}}class xN{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Yo((f=>xS(f)),ph),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ce.comparator),this.Eu=new Map,this.Au=new ag,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kN(n,e,t=!0){const r=wT(n);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await mT(r,e,t,!0),s}async function NN(n,e){const t=wT(n);await mT(t,e,!0,!1)}async function mT(n,e,t,r){const s=await Jk(n.localStore,Oi(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await ON(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&iT(n.remoteStore,s),f}async function ON(n,e,t,r,s){n.gu=(E,w,A)=>(async function(R,b,$,K){let Q=b.view.nu($);Q.Ds&&(Q=await Aw(R.localStore,b.query,!1).then((({documents:x})=>b.view.nu(x,Q))));const te=K&&K.targetChanges.get(b.targetId),z=K&&K.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(Q,R.isPrimaryClient,te,z);return Lw(R,b.targetId,Z._u),Z.snapshot})(n,E,w,A);const a=await Aw(n.localStore,e,!0),u=new PN(e,a.qs),f=u.nu(a.documents),h=zu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(f,n.isPrimaryClient,h);Lw(n,t,m._u);const _=new AN(e,t,u);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function DN(n,e,t){const r=ze(n),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter((u=>!ph(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&dg(r.remoteStore,s.targetId),cm(r,s.targetId)})).catch(pl)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function MN(n,e){const t=ze(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dg(t.remoteStore,r.targetId))}async function VN(n,e,t){const r=BN(n);try{const s=await(function(u,f){const h=ze(u),m=_t.now(),_=f.reduce(((A,D)=>A.add(D.key)),Je());let E,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=ys(),R=Je();return h.Os.getEntries(A,_).next((b=>{D=b,D.forEach((($,K)=>{K.isValidDocument()||(R=R.add($))}))})).next((()=>h.localDocuments.getOverlayedDocuments(A,D))).next((b=>{E=b;const $=[];for(const K of f){const Q=Jx(K,E.get(K.key).overlayedDocument);Q!=null&&$.push(new mo(K.key,Q,SS(Q.value.mapValue),Br.exists(!0)))}return h.mutationQueue.addMutationBatch(A,m,$,f)})).next((b=>{w=b;const $=b.applyToLocalDocumentSet(E,R);return h.documentOverlayCache.saveOverlays(A,b.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:OS(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,f,h){let m=u.Ru[u.currentUser.toKey()];m||(m=new Mt(Ke)),m=m.insert(f,h),u.Ru[u.currentUser.toKey()]=m})(r,s.batchId,t),await Bu(r,s.changes),await Eh(r.remoteStore)}catch(s){const a=gg(s,"Failed to persist write");t.reject(a)}}async function gT(n,e){const t=ze(n);try{const r=await Qk(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Eu.get(a);u&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?ft(u.lu,14607):s.removedDocuments.size>0&&(ft(u.lu,42227),u.lu=!1))})),await Bu(t,r,e)}catch(r){await pl(r)}}function jw(n,e,t){const r=ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(u,f){const h=ze(u);h.onlineState=f;let m=!1;h.queries.forEach(((_,E)=>{for(const w of E.wa)w.va(f)&&(m=!0)})),m&&vg(h)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jN(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new Mt(Ce.comparator);u=u.insert(a,xn.newNoDocument(a,Ue.min()));const f=Je().add(a),h=new yh(Ue.min(),new Map,new Mt(Ke),u,f);await gT(r,h),r.du=r.du.remove(a),r.Eu.delete(e),_g(r)}else await am(r.localStore,e,!1).then((()=>cm(r,e,t))).catch(pl)}async function LN(n,e){const t=ze(n),r=e.batch.batchId;try{const s=await Gk(t.localStore,e);yT(t,r,null),vT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(t,s)}catch(s){await pl(s)}}async function FN(n,e,t){const r=ze(n);try{const s=await(function(u,f){const h=ze(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return h.mutationQueue.lookupMutationBatch(m,f).next((E=>(ft(E!==null,37113),_=E.keys(),h.mutationQueue.removeMutationBatch(m,E)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,_,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>h.localDocuments.getDocuments(m,_)))}))})(r.localStore,e);yT(r,e,t),vT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bu(r,s)}catch(s){await pl(s)}}function vT(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function yT(n,e,t){const r=ze(n);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||_T(n,r)}))}function _T(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(dg(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),_g(n))}function Lw(n,e,t){for(const r of t)r instanceof fT?(n.Au.addReference(r.key,e),UN(n,r)):r instanceof pT?(ve(yg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_T(n,r.key)):Ne(19791,{yu:r})}function UN(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ve(yg,"New document in limbo: "+t),n.Iu.add(r),_g(n))}function _g(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ce(Et.fromString(e)),r=n.mu.next();n.Eu.set(r,new RN(t)),n.du=n.du.insert(t,r),iT(n.remoteStore,new Js(Oi(eg(t.path)),r,"TargetPurposeLimboResolution",dh.ue))}}async function Bu(n,e,t){const r=ze(n),s=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((f,h)=>{u.push(r.gu(h,e,t).then((m=>{var _;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(h.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(h.targetId,E?"current":"not-current")}if(m){s.push(m);const E=ug.Es(h.targetId,m);a.push(E)}})))})),await Promise.all(u),r.hu.J_(s),await(async function(h,m){const _=ze(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(m,(w=>re.forEach(w.Is,(A=>_.persistence.referenceDelegate.addReference(E,w.targetId,A))).next((()=>re.forEach(w.ds,(A=>_.persistence.referenceDelegate.removeReference(E,w.targetId,A)))))))))}catch(E){if(!ml(E))throw E;ve(cg,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const A=_.Fs.get(w),D=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(D);_.Fs=_.Fs.insert(w,R)}}})(r.localStore,a))}async function zN(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){ve(yg,"User change. New user:",e.toKey());const r=await eT(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((f=>{f.forEach((h=>{h.reject(new pe(ne.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(t,r.Bs)}}function $N(n,e){const t=ze(n),r=t.Eu.get(e);if(r&&r.lu)return Je().add(r.key);{let s=Je();const a=t.Tu.get(e);if(!a)return s;for(const u of a){const f=t.Pu.get(u);s=s.unionWith(f.view.tu)}return s}}function wT(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.hu.J_=bN.bind(null,e.eventManager),e.hu.pu=CN.bind(null,e.eventManager),e}function BN(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FN.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Kk(this.persistence,new Wk,e.initialUser,this.serializer)}Du(e){return new ZS(lg.Vi,this.serializer)}bu(e){return new eN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class WN extends $d{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ft(this.persistence.referenceDelegate instanceof Ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Rk(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new ZS((r=>Ud.Vi(r,t)),this.serializer)}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IN})()}createDatastore(e){const t=_h(e.databaseInfo.databaseId),r=(function(a){return new sN(a)})(e.databaseInfo);return(function(a,u,f,h){return new uN(a,u,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,f){return new dN(r,s,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>jw(this.syncEngine,t,0)),(function(){return kw.C()?new kw:new tN})())}createSyncEngine(e,t){return(function(s,a,u,f,h,m,_){const E=new xN(s,a,u,f,h,m);return _&&(E.fu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=ze(s);ve(Ko,"RemoteStore shutting down."),a.Ia.add(5),await $u(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class HN{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ve(ho,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(ho,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sp(n,e){n.asyncQueue.verifyOperationInProgress(),ve(ho,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await eT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{so("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{so("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),n._offlineComponents=e}async function Fw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qN(n);ve(ho,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Ow(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Ow(e.remoteStore,s))),n._onlineComponents=e}async function qN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(ho,"Using user provided OfflineComponentProvider");try{await Sp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),await Sp(n,new $d)}}else ve(ho,"Using default OfflineComponentProvider"),await Sp(n,new WN(void 0));return n._offlineComponents}async function ST(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(ho,"Using user provided OnlineComponentProvider"),await Fw(n,n._uninitializedComponentsProvider._online)):(ve(ho,"Using default OnlineComponentProvider"),await Fw(n,new dm))),n._onlineComponents}function KN(n){return ST(n).then((e=>e.syncEngine))}async function TT(n){const e=await ST(n),t=e.eventManager;return t.onListen=kN.bind(null,e.syncEngine),t.onUnlisten=DN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),t}function GN(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,m){const _=new ET({next:w=>{_.Ou(),u.enqueueAndForget((()=>dT(a,E)));const A=w.docs.has(f);!A&&w.fromCache?m.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&h&&h.source==="server"?m.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new hT(eg(f.path),_,{includeMetadataChanges:!0,ka:!0});return cT(a,E)})(await TT(n),n.asyncQueue,e,t,r))),r.promise}function QN(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,m){const _=new ET({next:w=>{_.Ou(),u.enqueueAndForget((()=>dT(a,E))),w.fromCache&&h.source==="server"?m.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new hT(f,_,{includeMetadataChanges:!0,ka:!0});return cT(a,E)})(await TT(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firestore.googleapis.com",zw=!0;class $w{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=zw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pk)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rx;switch(r.type){case"firstParty":return new ax(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Uw.get(t);r&&(ve("ComponentProvider","Removing Datastore"),Uw.delete(t),r.terminate())})(this),Promise.resolve()}}function XN(n,e,t,r={}){var s;n=di(n,Sh);const a=ws(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a&&(ih(`https://${h}`),sh("Firestore",!0)),u.host!==bT&&u.host!==h&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:r});if(!fs(m,f)&&(n._setSettings(m),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Rn.MOCK_USER;else{_=mE(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Rn(w)}n._authCredentials=new ix(new uS(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Lu(t,Wt._jsonSchema))return new Wt(e,r||null,new Ce(Et.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class ro extends vl{constructor(e,t,r){super(e,t,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ce(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function Bd(n,e,...t){if(n=Ct(n),dS("collection","path",e),n instanceof Sh){const r=Et.fromString(e,...t);return tw(r),new ro(n,null,r)}{if(!(n instanceof Wt||n instanceof ro))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return tw(r),new ro(n.firestore,null,r)}}function Ir(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=Gm.newId()),dS("doc","path",e),n instanceof Sh){const r=Et.fromString(e,...t);return ew(r),new Wt(n,null,new Ce(r))}{if(!(n instanceof Wt||n instanceof ro))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return ew(r),new Wt(n.firestore,n instanceof ro?n.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new nT(this,"async_queue_retry"),this.oc=()=>{const r=Ep();r&&ve(Bw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new ds;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ml(e))throw e;ve(Bw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,vs("INTERNAL UNHANDLED ERROR: ",Hw(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=mg.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(s),s}ac(){this.tc&&Ne(47125,{hc:Hw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Hw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Zo extends Sh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Ww,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function YN(n,e){const t=typeof n=="object"?n:oh(),r=typeof n=="string"?n:Dd,s=Du(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Om("firestore");a&&XN(s,...a)}return s}function wg(n){if(n._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JN(n),n._firestoreClient}function JN(n){var e,t,r;const s=n._freezeSettings(),a=(function(f,h,m,_){return new Tx(f,h,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,IT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new HN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(wn.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:Xt("string",zr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Xt("string",Mi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Vi(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Xt("string",Vi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class eO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class CT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ec:n})}}class Ih{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ih(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(PT(this.Ec)&&ZN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class tO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_h(e)}Dc(e,t,r,s=!1){return new Ih({Ec:e,methodName:t,bc:r,path:_n.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(n){const e=n._freezeSettings(),t=_h(n._databaseId);return new tO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AT(n,e,t,r,s,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,s);Ig("Data must be an object, but it was:",u,r);const f=xT(r,u);let h,m;if(a.merge)h=new _r(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const w=hm(e,E,t);if(!u.contains(w))throw new pe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NT(_,w)||_.push(w)}h=new _r(_),m=u.fieldTransforms.filter((E=>h.covers(E.field)))}else h=null,m=u.fieldTransforms;return new eO(new ur(f),h,m)}class Wu extends yl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wu}}function RT(n,e,t){return new Ih({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eg extends yl{_toFieldTransform(e){return new ng(e.path,new Cu)}isEqual(e){return e instanceof Eg}}class Sg extends yl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=RT(this,e,!0),r=this.vc.map((a=>ea(a,t))),s=new nl(r);return new ng(e.path,s)}isEqual(e){return e instanceof Sg&&fs(this.vc,e.vc)}}class Tg extends yl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=RT(this,e,!0),r=this.vc.map((a=>ea(a,t))),s=new rl(r);return new ng(e.path,s)}isEqual(e){return e instanceof Tg&&fs(this.vc,e.vc)}}function nO(n,e,t,r){const s=n.Dc(1,e,t);Ig("Data must be an object, but it was:",s,r);const a=[],u=ur.empty();po(r,((h,m)=>{const _=bg(e,h,t);m=Ct(m);const E=s.gc(_);if(m instanceof Wu)a.push(_);else{const w=ea(m,E);w!=null&&(a.push(_),u.set(_,w))}}));const f=new _r(a);return new CT(u,f,s.fieldTransforms)}function rO(n,e,t,r,s,a){const u=n.Dc(1,e,t),f=[hm(e,r,t)],h=[s];if(a.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)f.push(hm(e,a[w])),h.push(a[w+1]);const m=[],_=ur.empty();for(let w=f.length-1;w>=0;--w)if(!NT(m,f[w])){const A=f[w];let D=h[w];D=Ct(D);const R=u.gc(A);if(D instanceof Wu)m.push(A);else{const b=ea(D,R);b!=null&&(m.push(A),_.set(A,b))}}const E=new _r(m);return new CT(_,E,u.fieldTransforms)}function iO(n,e,t,r=!1){return ea(t,n.Dc(r?4:3,e))}function ea(n,e){if(kT(n=Ct(n)))return Ig("Unsupported field value:",e,n),xT(n,e);if(n instanceof yl)return(function(r,s){if(!PT(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const f of r){let h=ea(f,s.yc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qx(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=_t.fromDate(r);return{timestampValue:Fd(s.serializer,a)}}if(r instanceof _t){const a=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(s.serializer,a)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zr)return{bytesValue:HS(s.serializer,r._byteString)};if(r instanceof Wt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:og(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Vi)return(function(u,f){return{mapValue:{fields:{[wS]:{stringValue:ES},[Md]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw f.wc("VectorValues must only contain numeric values.");return tg(f.serializer,m)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${ch(r)}`)})(n,e)}function xT(n,e){const t={};return pS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,((r,s)=>{const a=ea(s,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function kT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Mi||n instanceof zr||n instanceof Wt||n instanceof yl||n instanceof Vi)}function Ig(n,e,t){if(!kT(t)||!hS(t)){const r=ch(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function hm(n,e,t){if((e=Ct(e))instanceof Th)return e._internalPath;if(typeof e=="string")return bg(n,e);throw Wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const sO=new RegExp("[~\\*/\\[\\]]");function bg(n,e,t){if(e.search(sO)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new pe(ne.INVALID_ARGUMENT,f+n+h)}function NT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oO extends OT{data(){return super.data()}}function Cg(n,e){return typeof e=="string"?bg(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class lO extends Pg{}function fm(n,e,...t){let r=[];e instanceof Pg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((h=>h instanceof Ag)).length,f=a.filter((h=>h instanceof Ch)).length;if(u>1||u>0&&f>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Ch extends lO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ch(e,t,r)}_apply(e){const t=this._parse(e);return DT(e._query,t),new vl(e.firestore,e.converter,tm(e._query,t))}_parse(e){const t=bh(e.firestore);return(function(a,u,f,h,m,_,E){let w;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Kw(E,_);const D=[];for(const R of E)D.push(qw(h,a,R));w={arrayValue:{values:D}}}else w=qw(h,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Kw(E,_),w=iO(f,u,E,_==="in"||_==="not-in");return Qt.create(m,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pm(n,e,t){const r=e,s=Cg("where",n);return Ch._create(s,r,t)}class Ag extends Pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ag(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const f=a.getFlattenedFilters();for(const h of f)DT(u,h),u=tm(u,h)})(e._query,t),new vl(e.firestore,e.converter,tm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qw(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Et.fromString(t));if(!Ce.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(n,new Ce(r))}if(t instanceof Wt)return uw(n,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function Kw(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DT(n,e){const t=(function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uO{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return po(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Md].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>Bt(u.doubleValue)));return new Vi(a)}convertGeoPoint(e){return new Mi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=ao(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);ft(YS(r),9688,{name:e});const s=new Iu(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return s.isEqual(t)||vs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends OT{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:Xt("string",Bo._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class _d extends Bo{data(e={}){return super.data(e)}}class Qa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new _d(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((f=>{const h=new _d(s._firestore,s._userDataWriter,f.doc.key,f.doc,new au(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const h=new _d(s._firestore,s._userDataWriter,f.doc.key,f.doc,new au(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,_=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:cO(f.type),doc:h,oldIndex:m,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){n=di(n,Wt);const e=di(n.firestore,Zo);return GN(wg(e),n._key).then((t=>fO(e,n,t)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Xt("string",Qa._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class VT extends uO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function jT(n){n=di(n,vl);const e=di(n.firestore,Zo),t=wg(e),r=new VT(e);return aO(n._query),QN(t,n._query).then((s=>new Qa(e,r,n,s)))}function Rg(n,e,t){n=di(n,Wt);const r=di(n.firestore,Zo),s=MT(n.converter,e,t);return Ah(r,[AT(bh(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Br.none())])}function Ph(n,e,t,...r){n=di(n,Wt);const s=di(n.firestore,Zo),a=bh(s);let u;return u=typeof(e=Ct(e))=="string"||e instanceof Th?rO(a,"updateDoc",n._key,e,t,r):nO(a,"updateDoc",n._key,e),Ah(s,[u.toMutation(n._key,Br.exists(!0))])}function dO(n){return Ah(di(n.firestore,Zo),[new rg(n._key,Br.none())])}function hO(n,e){const t=di(n.firestore,Zo),r=Ir(n),s=MT(n.converter,e);return Ah(t,[AT(bh(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then((()=>r))}function Ah(n,e){return(function(r,s){const a=new ds;return r.asyncQueue.enqueueAndForget((async()=>VN(await KN(r),s,a))),a.promise})(wg(n),e)}function fO(n,e,t){const r=t.docs.get(e._key),s=new VT(n);return new Bo(n,s,e._key,r,new au(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return new Wu("deleteField")}function ol(){return new Eg("serverTimestamp")}function LT(...n){return new Sg("arrayUnion",n)}function mO(...n){return new Tg("arrayRemove",n)}(function(e,t=!0){(function(s){fl=s})(Xo),io(new ps("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Zo(new sx(r.getProvider("auth-internal")),new lx(u,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(m.options.projectId,_)})(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),$r(Q_,X_,e),$r(Q_,X_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="type.googleapis.com/google.protobuf.Int64Value",vO="type.googleapis.com/google.protobuf.UInt64Value";function FT(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Hd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Hd(e));if(typeof n=="function"||typeof n=="object")return FT(n,e=>Hd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function al(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case gO:case vO:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>al(e)):typeof n=="function"||typeof n=="object"?FT(n,e=>al(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cr extends fi{constructor(e,t,r){super(`${xg}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,cr.prototype)}}function yO(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qd(n,e){let t=yO(n),r=t,s;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!Gw[u])return new cr("internal","internal");t=Gw[u],r=u}const f=a.message;typeof f=="string"&&(r=f),s=a.details,s!==void 0&&(s=al(s))}}catch{}return t==="ok"?null:new cr(t,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,lr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s==null||s.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="us-central1",wO=/^data: (.*?)(?:\n|$)/;function EO(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new cr("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class SO{constructor(e,t,r,s,a=mm,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new _O(e,t,r,s),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=mm}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function TO(n,e,t){const r=ws(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(ih(n.emulatorOrigin),sh("Functions",!0))}function IO(n,e,t){const r=s=>CO(n,e,s,{});return r.stream=(s,a)=>AO(n,e,s,a),r}async function bO(n,e,t,r){t["Content-Type"]="application/json";let s;try{s=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function UT(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function CO(n,e,t,r){const s=n._url(e);return PO(n,s,t,r)}async function PO(n,e,t,r){t=Hd(t);const s={data:t},a=await UT(n,r),u=r.timeout||7e4,f=EO(u),h=await Promise.race([bO(e,s,a,n.fetchImpl),f.promise,n.cancelAllRequests]);if(f.cancel(),!h)throw new cr("cancelled","Firebase Functions instance was deleted.");const m=qd(h.status,h.json);if(m)throw m;if(!h.json)throw new cr("internal","Response is not valid JSON object.");let _=h.json.data;if(typeof _>"u"&&(_=h.json.result),typeof _>"u")throw new cr("internal","Response is missing data field.");return{data:al(_)}}function AO(n,e,t,r){const s=n._url(e);return RO(n,s,t,r||{})}async function RO(n,e,t,r){var s;t=Hd(t);const a={data:t},u=await UT(n,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:r==null?void 0:r.signal})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const R=new cr("cancelled","Request was cancelled.");return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}const D=qd(0,null);return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}let h,m;const _=new Promise((A,D)=>{h=A,m=D});(s=r==null?void 0:r.signal)===null||s===void 0||s.addEventListener("abort",()=>{const A=new cr("cancelled","Request was cancelled.");m(A)});const E=f.body.getReader(),w=xO(E,h,m,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const A=w.getReader();return{async next(){const{value:D,done:R}=await A.read();return{value:D,done:R}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:_}}function xO(n,e,t,r){const s=(u,f)=>{const h=u.match(wO);if(!h)return;const m=h[1];try{const _=JSON.parse(m);if("result"in _){e(al(_.result));return}if("message"in _){f.enqueue(al(_.message));return}if("error"in _){const E=qd(0,_);f.error(E),t(E);return}}catch(_){if(_ instanceof cr){f.error(_),t(_);return}}},a=new TextDecoder;return new ReadableStream({start(u){let f="";return h();async function h(){if(r!=null&&r.aborted){const m=new cr("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:_}=await n.read();if(_){f.trim()&&s(f.trim(),u),u.close();return}if(r!=null&&r.aborted){const w=new cr("cancelled","Request was cancelled");u.error(w),t(w),await n.cancel();return}f+=a.decode(m,{stream:!0});const E=f.split(`
`);f=E.pop()||"";for(const w of E)w.trim()&&s(w.trim(),u);return h()}catch(m){const _=m instanceof cr?m:qd(0,null);u.error(_),t(_)}}},cancel(){return n.cancel()}})}const Qw="@firebase/functions",Xw="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="auth-internal",NO="app-check-internal",OO="messaging-internal";function DO(n){const e=(t,{instanceIdentifier:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(kO),u=t.getProvider(OO),f=t.getProvider(NO);return new SO(s,a,u,f,r)};io(new ps(xg,e,"PUBLIC").setMultipleInstances(!0)),$r(Qw,Xw,n),$r(Qw,Xw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n=oh(),e=mm){const r=Du(Ct(n),xg).getImmediate({identifier:e}),s=Om("functions");return s&&VO(r,...s),r}function VO(n,e,t){TO(Ct(n),e,t)}function Dn(n,e,t){return IO(Ct(n),e)}DO();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebasestorage.googleapis.com",$T="storageBucket",jO=120*1e3,LO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends fi{constructor(e,t,r=0){super(Tp(e),`Firebase Storage: ${t} (${Tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function Tp(n){return"storage/"+n}function kg(){const n="An unknown error occurred, please check the error payload for server response.";return new Ut(Ft.UNKNOWN,n)}function FO(n){return new Ut(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function UO(n){return new Ut(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(Ft.UNAUTHENTICATED,n)}function $O(){return new Ut(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BO(n){return new Ut(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function WO(){return new Ut(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HO(){return new Ut(Ft.CANCELED,"User canceled the upload/download.")}function qO(n){return new Ut(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}function KO(n){return new Ut(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function GO(){return new Ut(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$T+"' property when initializing the app?")}function QO(){return new Ut(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XO(){return new Ut(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YO(n){return new Ut(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gm(n){return new Ut(Ft.INVALID_ARGUMENT,n)}function BT(){return new Ut(Ft.APP_DELETED,"The Firebase app was deleted.")}function JO(n){return new Ut(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(n,e){return new Ut(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Zl(n){throw new Ut(Ft.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(r.path==="")return r;throw KO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),h={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${_}/b/${s}/o${w}`,"i"),D={bucket:1,path:3},R=t===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",$=new RegExp(`^https?://${R}/${s}/${b}`,"i"),Q=[{regex:f,indices:h,postModify:a},{regex:A,indices:D,postModify:m},{regex:$,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<Q.length;te++){const z=Q[te],Z=z.regex.exec(e);if(Z){const x=Z[z.indices.bucket];let P=Z[z.indices.path];P||(P=""),r=new wr(x,P),z.postModify(r);break}}if(r==null)throw qO(e);return r}}class ZO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,e,t){let r=1,s=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function _(...b){m||(m=!0,e.apply(null,b))}function E(b){s=setTimeout(()=>{s=null,n(A,h())},b)}function w(){a&&clearTimeout(a)}function A(b,...$){if(m){w();return}if(b){w(),_.call(null,b,...$);return}if(h()||u){w(),_.call(null,b,...$);return}r<64&&(r*=2);let Q;f===1?(f=2,Q=0):Q=(r+Math.random())*1e3,E(Q)}let D=!1;function R(b){D||(D=!0,w(),!m&&(s!==null?(b||(f=2),clearTimeout(s),E(0)):b||(f=1)))}return E(0),a=setTimeout(()=>{u=!0,R(!0)},t),R}function tD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){return n!==void 0}function rD(n){return typeof n=="object"&&!Array.isArray(n)}function Ng(n){return typeof n=="string"||n instanceof String}function Yw(n){return Og()&&n instanceof Blob}function Og(){return typeof Blob<"u"}function Jw(n,e,t,r){if(r<e)throw gm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function WT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Wo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Wo||(Wo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,r,s,a,u,f,h,m,_,E,w=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,R)=>{this.resolve_=D,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Wo.NO_ERROR,h=a.getStatus();if(!f||iD(h,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Wo.ABORT;r(!1,new nd(!1,null,_));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new nd(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());nD(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=kg();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(s.canceled){const h=this.appDelete_?BT():HO();u(h)}else{const h=WO();u(h)}};this.canceled_?t(!1,new nd(!1,null,!0)):this.backoffId_=eD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function oD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function aD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function uD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function cD(n,e,t,r,s,a,u=!0,f=!1){const h=WT(n.urlParams),m=n.url+h,_=Object.assign({},n.headers);return lD(_,e),oD(_,t),aD(_,a),uD(_,r),new sD(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hD(...n){const e=dD();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Og())return new Blob(n);throw new Ut(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){if(typeof atob>"u")throw YO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ip{constructor(e,t){this.data=e,this.contentType=t||null}}function mD(n,e){switch(n){case ki.RAW:return new Ip(HT(e));case ki.BASE64:case ki.BASE64URL:return new Ip(qT(n,e));case ki.DATA_URL:return new Ip(vD(e),yD(e))}throw kg()}function HT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gD(n){let e;try{e=decodeURIComponent(n)}catch{throw gu(ki.DATA_URL,"Malformed data URL.")}return HT(e)}function qT(n,e){switch(n){case ki.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw gu(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw gu(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=pD(e)}catch(s){throw s.message.includes("polyfill")?s:gu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class KT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw gu(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=_D(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function vD(n){const e=new KT(n);return e.base64?qT(ki.BASE64,e.rest):gD(e.rest)}function yD(n){return new KT(n).contentType}function _D(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){let r=0,s="";Yw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Yw(this.data_)){const r=this.data_,s=fD(r,e,t);return s===null?null:new Xs(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Xs(r,!0)}}static getBlob(...e){if(Og()){const t=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(hD.apply(null,t))}else{const t=e.map(u=>Ng(u)?mD(ki.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)s[a++]=u[f]}),new Xs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(n){let e;try{e=JSON.parse(n)}catch{return null}return rD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ED(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function QT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,e){return e}class $n{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||SD}}let rd=null;function TD(n){return!Ng(n)||n.length<2?n:QT(n)}function XT(){if(rd)return rd;const n=[];n.push(new $n("bucket")),n.push(new $n("generation")),n.push(new $n("metageneration")),n.push(new $n("name","fullPath",!0));function e(a,u){return TD(u)}const t=new $n("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new $n("size");return s.xform=r,n.push(s),n.push(new $n("timeCreated")),n.push(new $n("updated")),n.push(new $n("md5Hash",null,!0)),n.push(new $n("cacheControl",null,!0)),n.push(new $n("contentDisposition",null,!0)),n.push(new $n("contentEncoding",null,!0)),n.push(new $n("contentLanguage",null,!0)),n.push(new $n("contentType",null,!0)),n.push(new $n("metadata","customMetadata",!0)),rd=n,rd}function ID(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new wr(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function bD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return ID(r,n),r}function YT(n,e,t){const r=GT(e);return r===null?null:bD(n,r,t)}function CD(n,e,t,r){const s=GT(e);if(s===null||!Ng(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const _=n.bucket,E=n.fullPath,w="/b/"+u(_)+"/o/"+u(E),A=Rh(w,t,r),D=WT({alt:"media",token:m});return A+D})[0]}function PD(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Dg{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){if(!n)throw kg()}function AD(n,e){function t(r,s){const a=YT(n,s,e);return JT(a!==null),a}return t}function RD(n,e){function t(r,s){const a=YT(n,s,e);return JT(a!==null),CD(a,s,n.host,n._protocol)}return t}function ZT(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=$O():s=zO():t.getStatus()===402?s=UO(n.bucket):t.getStatus()===403?s=BO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function eI(n){const e=ZT(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=FO(n.path)),a.serverResponse=s.serverResponse,a}return t}function xD(n,e,t){const r=e.fullServerUrl(),s=Rh(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new Dg(s,a,RD(n,t),u);return f.errorHandler=eI(e),f}function kD(n,e){const t=e.fullServerUrl(),r=Rh(t,n.host,n._protocol),s="DELETE",a=n.maxOperationRetryTime;function u(h,m){}const f=new Dg(r,s,u,a);return f.successCodes=[200,204],f.errorHandler=eI(e),f}function ND(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function OD(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=ND(null,e)),r}function DD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let te=0;te<2;te++)Q=Q+Math.random().toString().slice(2);return Q}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=OD(e,r,s),_=PD(m,t),E="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+h+"--",A=Xs.getBlob(E,r,w);if(A===null)throw QO();const D={name:m.fullPath},R=Rh(a,n.host,n._protocol),b="POST",$=n.maxUploadRetryTime,K=new Dg(R,b,AD(n,t),$);return K.urlParams=D,K.headers=u,K.body=A.uploadData(),K.errorHandler=ZT(e),K}class MD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Zl("cannot .send() more than once");if(ws(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VD extends MD{initXhr(){this.xhr_.responseType="text"}}function Mg(){return new VD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Go(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QT(this._location.path)}get storage(){return this._service}get parent(){const e=wD(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new Go(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw JO(e)}}function jD(n,e,t){n._throwIfRoot("uploadBytes");const r=DD(n.storage,n._location,XT(),new Xs(e,!0),t);return n.storage.makeRequestWithTokens(r,Mg).then(s=>({metadata:s,ref:n}))}function LD(n){n._throwIfRoot("getDownloadURL");const e=xD(n.storage,n._location,XT());return n.storage.makeRequestWithTokens(e,Mg).then(t=>{if(t===null)throw XO();return t})}function FD(n){n._throwIfRoot("deleteObject");const e=kD(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Mg)}function UD(n,e){const t=ED(n._location.path,e),r=new wr(n._location.bucket,t);return new Go(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){return/^[A-Za-z]+:\/\//.test(n)}function $D(n,e){return new Go(n,e)}function tI(n,e){if(n instanceof Vg){const t=n;if(t._bucket==null)throw GO();const r=new Go(t,t._bucket);return e!=null?tI(r,e):r}else return e!==void 0?UD(n,e):n}function BD(n,e){if(e&&zD(e)){if(n instanceof Vg)return $D(n,e);throw gm("To use ref(service, url), the first argument must be a Storage instance.")}else return tI(n,e)}function Zw(n,e){const t=e==null?void 0:e[$T];return t==null?null:wr.makeFromBucketSpec(t,n)}function WD(n,e,t,r={}){n.host=`${e}:${t}`;const s=ws(e);s&&(ih(`https://${n.host}/b`),sh("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:mE(a,n.app.options.projectId))}class Vg{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jO,this._maxUploadRetryTime=LO,this._requests=new Set,s!=null?this._bucket=wr.makeFromBucketSpec(s,this._host):this._bucket=Zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=Zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Go(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new ZO(BT());{const u=cD(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const e0="@firebase/storage",t0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="storage";function HD(n,e,t){return n=Ct(n),jD(n,e,t)}function qD(n){return n=Ct(n),LD(n)}function KD(n){return n=Ct(n),FD(n)}function rI(n,e){return n=Ct(n),BD(n,e)}function GD(n=oh(),e){n=Ct(n);const r=Du(n,nI).getImmediate({identifier:e}),s=Om("storage");return s&&QD(r,...s),r}function QD(n,e,t,r={}){WD(n,e,t,r)}function XD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Vg(t,r,s,e,Xo)}function YD(){io(new ps(nI,XD,"PUBLIC").setMultipleInstances(!0)),$r(e0,t0,""),$r(e0,t0,"esm2017")}YD();const JD={apiKey:"AIzaSyBMwuPSGuAL3BC4KbmKv7BXwumOvQH4q_U",authDomain:"beastlyworkout-e05ac.firebaseapp.com",projectId:"beastlyworkout-e05ac",storageBucket:"beastlyworkout-e05ac.firebasestorage.app",messagingSenderId:"450850141428",appId:"1:450850141428:web:3cdba0ebf48acfa9f51aa1"},xh=yE(JD),kn=tx(xh),On=YN(xh),iI=GD(xh),Mn=MO(xh,"us-central1");BA(kn,WE);Dn(Mn,"bootstrapFirstAdmin");Dn(Mn,"setUserRole");const ZD=Dn(Mn,"ensureCoachAccess"),e2=Dn(Mn,"acceptCoachTrial"),t2=Dn(Mn,"getCoachAccessState"),n2=Dn(Mn,"completeClientOnboarding"),r2=Dn(Mn,"listCoachesForSupervisor"),i2=Dn(Mn,"activateCoachSubscription"),s2=Dn(Mn,"renewCoachSubscription"),o2=Dn(Mn,"disableCoachSubscription"),a2=Dn(Mn,"deleteMyProfile"),l2=Dn(Mn,"updateMyCoachPhone"),u2=Dn(Mn,"getMyAssignedPlans"),c2=Dn(Mn,"updateMyPlanExerciseWeight"),d2=Dn(Mn,"syncPlanWeightOverridesForCoach"),h2=Dn(Mn,"syncMyPlanWeightOverrides");async function f2(){return(await ZD()).data}async function sI(){return(await e2()).data}async function n0(){return(await t2()).data}async function p2(n){return(await n2(n)).data}async function m2(){return(await r2()).data}async function r0(n){return(await i2({uid:n})).data}async function g2(n){return(await s2({uid:n})).data}async function v2(n){return(await o2({uid:n})).data}async function oI(){return(await a2()).data}async function y2(n){return(await l2({phone:n})).data}async function _2(){return(await u2()).data}async function i0(n,e,t){return(await c2({planId:n,exerciseIndex:e,weightKg:t})).data}async function w2(n){return(await d2({planId:n})).data}async function E2(){return(await h2()).data}async function S2(){return kn.currentUser?kn.currentUser.getIdTokenResult(!0):null}async function aI(n){const e=n??kn.currentUser;if(!e)return null;try{const r=(await e.getIdTokenResult()).claims.role;return r==="admin"||r==="trainer"||r==="client"?r:null}catch(t){if((typeof t=="object"&&t&&"code"in t?String(t.code):"").includes("user-token-expired"))try{await e.getIdToken(!0);const a=(await e.getIdTokenResult()).claims.role;return a==="admin"||a==="trainer"||a==="client"?a:null}catch{return await Eu(kn),null}throw t}}async function T2(n){const e=n??kn.currentUser;return e?(await e.getIdTokenResult()).claims.supervisor===!0:!1}function lI(){return{createdAt:ol(),updatedAt:ol()}}function _l(){return{updatedAt:ol()}}function go(){var e;const n=(e=kn.currentUser)==null?void 0:e.uid;if(!n)throw new Error("unauthenticated");return n}const I2=1920,b2=700*1024,C2=.88,s0=.62,P2=.06;function A2(n){return n==="image/png"||n==="image/webp"?"image/webp":"image/jpeg"}function R2(n){return n==="image/webp"?"webp":n==="image/jpeg"?"jpg":"bin"}async function x2(n){if(typeof createImageBitmap=="function"){const r=await createImageBitmap(n);return{width:r.width,height:r.height,draw:(s,a,u)=>s.drawImage(r,0,0,a,u),cleanup:()=>r.close()}}const e=URL.createObjectURL(n),t=await new Promise((r,s)=>{const a=new Image;a.onload=()=>r(a),a.onerror=()=>s(new Error("image-load-failed")),a.src=e});return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height,draw:(r,s,a)=>r.drawImage(t,0,0,s,a),cleanup:()=>URL.revokeObjectURL(e)}}async function o0(n,e,t){return new Promise(r=>{n.toBlob(s=>r(s),e,t)})}async function k2(n){if(!n.type.startsWith("image/")||n.type==="image/gif"||n.type==="image/svg+xml"||n.size<=450*1024)return n;const e=await x2(n);try{const t=Math.min(1,I2/Math.max(e.width,e.height)),r=Math.max(1,Math.round(e.width*t)),s=Math.max(1,Math.round(e.height*t)),a=document.createElement("canvas");a.width=r,a.height=s;const u=a.getContext("2d");if(!u)return n;e.draw(u,r,s);const f=A2(n.type);let h=C2,m=await o0(a,f,h);if(!m)return n;for(;m.size>b2&&h>s0;){h=Math.max(s0,h-P2);const A=await o0(a,f,h);if(!A)break;m=A}if(m.size>=n.size)return n;const _=n.name.lastIndexOf("."),E=_>0?n.name.slice(0,_):n.name,w=R2(f);return new File([m],`${E}.${w}`,{type:f,lastModified:Date.now()})}catch{return n}finally{e.cleanup()}}async function vm(n={}){const e=go(),t=Ir(On,"users",e);return await Rg(t,{uid:e,...lI(),...n},{merge:!0}),t}async function Xa(n){const e=n??go();return Hu(Ir(On,"users",e))}async function uI(n){const e=n??go(),t=fm(Bd(On,"users"),pm("assignedCoachId","==",e));return jT(t)}async function cI(n,e){return Hu(Ir(On,"users",n,"private",e))}async function N2(){const n=go();return Hu(Ir(On,"users",n,"private","planWeights"))}async function O2(n,e,t){const r=go();await Rg(Ir(On,"users",r,"private","planWeights"),{weights:{[n]:{[String(e)]:t}},..._l()},{merge:!0})}async function D2(n,e){await Rg(Ir(On,"users",n,"private","onboarding"),{...e,..._l()},{merge:!0})}async function a0(n){const e=go();return await hO(Bd(On,"plans"),{trainerId:e,clientId:n.clientId??"",status:n.status,title:n.title,warmup:n.warmup??"",description:n.description??"",kind:n.kind??"series_reps",notes:n.notes??"",assignedClientIds:n.assignedClientIds??[],exercises:n.exercises,clientNotes:"",lastViewedAt:null,...lI()})}async function dI(n,e){const t=e??go(),r=n==="client"?fm(Bd(On,"plans"),pm("assignedClientIds","array-contains",t)):fm(Bd(On,"plans"),pm("trainerId","==",t));return jT(r)}async function M2(n,e){await Ph(Ir(On,"plans",n),{assignedClientIds:LT(e),[`assignmentDetails.${e}`]:{mode:"permanent",weeks:null,expiresAt:null,assignedAt:ol()},..._l()})}async function l0(n,e,t,r){const s=r?new Date(r):new Date,a=Number.isNaN(s.getTime())?new Date:s,u=t&&t>0?{mode:"timed",weeks:t,startsAt:_t.fromDate(a),expiresAt:_t.fromDate(new Date(a.getTime()+t*7*24*60*60*1e3)),assignedAt:ol()}:{mode:"permanent",weeks:null,startsAt:null,expiresAt:null,assignedAt:ol()};await Ph(Ir(On,"plans",n),{assignedClientIds:LT(e),[`assignmentDetails.${e}`]:u,..._l()})}async function V2(n,e){await Ph(Ir(On,"plans",n),{assignedClientIds:mO(e),[`assignmentDetails.${e}`]:pO(),..._l()})}async function j2(n){return Hu(Ir(On,"plans",n))}async function L2(n,e){await Ph(Ir(On,"plans",n),{...e,..._l()})}async function F2(n){const e=Ir(On,"plans",n),t=await Hu(e);if(t.exists()){const r=t.data(),s=$2(r.exercises);await Promise.allSettled(s.map(a=>B2(a)))}await dO(e)}async function U2(n,e){const t=go(),r=await k2(e),s=r.name.replace(/[^a-zA-Z0-9._-]/g,"_"),a=`${Date.now()}-${s}`,u=z2(t,n,a);return await HD(u,r,{contentType:r.type||"application/octet-stream"}),qD(u)}function z2(n,e,t){return rI(iI,`workout-media/${n}/${e}/${t}`)}function $2(n){if(!Array.isArray(n))return[];const e=new Set;for(const t of n){if(!t||typeof t!="object")continue;const r=t.imageUrl,s=t.mediaUrl;u0(r)&&e.add(r),u0(s)&&e.add(s)}return[...e]}function u0(n){return typeof n!="string"?!1:n.startsWith("gs://")||n.includes("firebasestorage.googleapis.com")||n.includes("firebasestorage.app")}async function B2(n){try{await KD(rI(iI,n))}catch(e){console.warn("Unable to remove storage file",{url:n,error:e})}}function ta(){const[n,e]=O.useState(!0),[t,r]=O.useState(kn.currentUser),[s,a]=O.useState(null),[u,f]=O.useState(!1);return O.useEffect(()=>zE(kn,async h=>{try{if(e(!0),r(h),!h){a(null),f(!1);return}await jg(h);const m=await aI(h);a(m),f(await T2(h))}catch(m){(typeof m=="object"&&m&&"code"in m?String(m.code):"").includes("user-token-expired")&&(await Eu(kn),r(null)),a(null),f(!1)}finally{e(!1)}}),[]),O.useMemo(()=>({initializing:n,user:t,role:s,isSupervisor:u,isAuthenticated:!!t}),[n,t,s,u])}const ym=new ls;ym.setCustomParameters({prompt:"select_account"});async function jg(n){(await Xa(n.uid)).exists()||await vm({email:n.email??"",displayName:n.displayName??"",role:"client"})}async function c0(){try{const n=await uR(kn,ym);return await jg(n.user),{redirected:!1,user:n.user}}catch(n){if(H2(n)){if(q2()){const e=new Error("Google redirect non supportato in questo browser.");throw e.code="auth/redirect-unavailable",e}return await mR(kn,ym),{redirected:!0,user:null}}throw n}}async function W2(){try{const n=await vR(kn);return n!=null&&n.user&&await jg(n.user),n}catch(n){const e=typeof n=="object"&&n&&"code"in n?String(n.code):"";if(e.includes("user-token-expired"))return await Eu(kn),null;if(e.includes("missing-initial-state"))return await Eu(kn).catch(()=>{}),null;throw n}}async function Er(){return Eu(kn)}function H2(n){if(!(typeof n=="object"&&n&&"code"in n))return!1;const e=String(n.code);return e==="auth/popup-blocked"||e==="auth/operation-not-supported-in-this-environment"}function q2(){var a;if(typeof window>"u"||typeof navigator>"u")return!1;const n=navigator.userAgent||"";if(!(/iPad|iPhone|iPod/i.test(n)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1))return!1;const t=navigator,r=((a=window.matchMedia)==null?void 0:a.call(window,"(display-mode: standalone)").matches)||t.standalone===!0,s=/(FBAN|FBAV|Instagram|Line|Twitter|MicroMessenger|wv)/i.test(n);return r||s}function hI(n){return n.replace(/[^\d]/g,"")}const K2="393405882404".trim(),fI=hI(K2);fI.length>6;function pI(n,e){const t=hI(e??fI),r=encodeURIComponent(n??"Ciao coach, avrei bisogno di un feedback sulla mia scheda.");return`https://wa.me/${t}?text=${r}`}function G2(n){return n.map(e=>({id:e.id,...e.data()}))}function kt(n){if(typeof n=="object"&&n&&"code"in n){const e=String(n.code);return e.includes("redirect-unavailable")?"Su iPhone apri il link in Safari (non dentro app esterne) e riprova con Google.":e.includes("missing-initial-state")?"Sessione Google non valida su questo browser. Apri il sito in Safari e riprova.":e.includes("permission-denied")?"Non hai i permessi per questa azione.":e.includes("unauthenticated")?"La sessione  scaduta. Accedi di nuovo.":e.includes("invalid-argument")?"Alcuni dati non sono corretti. Controlla e riprova.":e.includes("failed-precondition")?"Manca una configurazione tecnica lato server. Riprova tra poco.":e.includes("internal")?"Qualcosa non ha funzionato. Riprova tra pochi secondi.":"Operazione non completata. Riprova."}if(n instanceof Error){const e=n.message.toLowerCase();return e.includes("token")||e.includes("credential")?"Sessione non valida. Esci e accedi di nuovo.":"Si  verificato un problema. Riprova."}return"Operazione non riuscita."}const Ur="bw_login_intent";function Q2(n){return n==="trainer"||n==="admin"}function X2(){const{user:n,role:e}=ta(),t=cl(),{showError:r}=nh(),[s,a]=O.useState(!1),[u,f]=O.useState(""),[h,m]=O.useState(!1),[_,E]=O.useState(!1),[w,A]=O.useState(null),[D,R]=O.useState(null),[b,$]=O.useState(!1),K=O.useRef(0),Q=O.useMemo(()=>pI("Ciao, vorrei richiedere accesso alla piattaforma Beastly Workout e sottoscrivere l'abbonamento coach.","393405882404"),[]);O.useEffect(()=>{async function V(){try{await W2()}catch(j){const N=kt(j);f(N),r(N)}}V()},[r]);async function te(V=10){if(!n)return!1;for(let j=0;j<V;j+=1){await S2();const N=await aI(n);if(Q2(N))return!0;await new Promise(Fe=>setTimeout(Fe,500))}return!1}async function z(){if(!n)return;const V=++K.current,j=()=>V!==K.current||_;m(!0),f("Sto preparando il tuo accesso coach...");try{if(await vm({email:n.email??"",displayName:n.displayName??"",coachAccessRequestedAt:new Date().toISOString()}),j())return;const N=await f2();if(j())return;const Oe=(await Xa(n.uid)).data();if(!(typeof(Oe==null?void 0:Oe.phone)=="string"?Oe.phone.trim():"")){R({access:N,phone:""}),m(!1),f("");return}if(N.isExpired){if(await Er(),sessionStorage.removeItem(Ur),j())return;A({mode:"expired",access:N});return}if(N.requiresTrialAcceptance){if(j())return;A({mode:"trial",access:N});return}const Me=await te();if(j())return;if(!Me){f("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}sessionStorage.removeItem(Ur),t("/app/coach",{replace:!0})}catch(N){if(j())return;const Fe=kt(N);f(Fe),r(Fe)}finally{j()||m(!1)}}async function Z(){if(!D||!n)return;const V=D.phone.replace(/[^\d+]/g,"").trim();if(V.length<8){f("Inserisci un numero WhatsApp valido.");return}$(!0),f("Salvo il tuo numero e completo la registrazione coach...");try{await vm({phone:V});const j=D.access;if(R(null),j.isExpired){await Er(),sessionStorage.removeItem(Ur),A({mode:"expired",access:j});return}if(j.requiresTrialAcceptance){A({mode:"trial",access:j});return}if(!await te()){f("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}sessionStorage.removeItem(Ur),t("/app/coach",{replace:!0})}catch(j){const N=kt(j);f(N),r(N)}finally{$(!1)}}O.useEffect(()=>{async function V(){if(!n){m(!1),_||f("");return}if(h||_||D)return;if(sessionStorage.getItem(Ur)==="coach"){await z();return}if(!e){t("/app/client",{replace:!0});return}t(e==="client"?"/app/client":"/app/coach",{replace:!0})}V()},[n,e,h,_,D]),O.useEffect(()=>{_&&(n||(E(!1),t("/auth",{replace:!0})))},[_,n,t]);async function x(){K.current+=1,E(!0),m(!1),f("Uscita in corso..."),sessionStorage.removeItem(Ur),A(null),R(null);try{await Er()}catch(V){f(kt(V)),E(!1)}}async function P(){a(!0),f("Sto attivando il tuo periodo di prova...");try{const V=await sI();if(V.isExpired){await Er(),sessionStorage.removeItem(Ur),A({mode:"expired",access:V});return}if(!await te()){f("Accesso coach in sincronizzazione. Riprova tra qualche secondo.");return}A(null),sessionStorage.removeItem(Ur),t("/app/coach",{replace:!0})}catch(V){const j=kt(V);f(j),r(j)}finally{a(!1)}}async function k(){a(!0),f(""),A(null);try{if(sessionStorage.setItem(Ur,"client"),(await c0()).redirected){f("Ti sto reindirizzando a Google...");return}t("/app/client",{replace:!0})}catch(V){const j=kt(V);f(j),r(j)}finally{a(!1)}}async function L(){a(!0),f(""),A(null);try{sessionStorage.setItem(Ur,"coach");const V=await c0();if(V.redirected){f("Ti sto reindirizzando a Google...");return}if(!V.user){f("Accesso non completato. Riprova.");return}await z()}catch(V){const j=kt(V);f(j),r(j)}finally{a(!1)}}return(w==null?void 0:w.mode)==="trial"?g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card auth-card fullscreen-gate",children:[g.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),g.jsx("h1",{children:"Prova gratuita 15 giorni"}),g.jsx("p",{className:"hero-sub",children:"Hai 15 giorni gratuiti da oggi. Alla scadenza l'accesso sar bloccato finch non attiverai l'abbonamento."}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void x(),children:"Esci"}),g.jsx("button",{className:"btn btn-primary",type:"button",disabled:s,onClick:()=>void P(),children:s?"Attivazione...":"Accetta e continua"})]})]})}):(w==null?void 0:w.mode)==="expired"?g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card auth-card fullscreen-gate",children:[g.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),g.jsx("h1",{children:"Periodo di prova terminato"}),g.jsx("p",{className:"hero-sub",children:"Per riattivare l'accesso alla piattaforma, contattaci su WhatsApp e richiedi la sottoscrizione dell'abbonamento."}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>{A(null),sessionStorage.removeItem(Ur)},children:"Torna all'accesso"}),g.jsx("a",{className:"btn btn-whatsapp btn-primary",href:Q,target:"_blank",rel:"noreferrer",children:"Richiedi attivazione su WhatsApp"})]})]})}):D?g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card auth-card fullscreen-gate",children:[g.jsx("p",{className:"eyebrow",children:"Registrazione Coach"}),g.jsx("h1",{children:"Inserisci numero WhatsApp"}),g.jsx("p",{className:"hero-sub",children:"Ultimo step obbligatorio: questo numero verr condiviso ai clienti associati al tuo codice coach."}),g.jsxs("label",{children:["Numero di telefono / WhatsApp *",g.jsx("input",{type:"tel",placeholder:"Es. 3405882404",value:D.phone,onChange:V=>R(j=>j&&{...j,phone:V.target.value})})]}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:b,onClick:()=>void x(),children:"Esci"}),g.jsx("button",{className:"btn btn-primary",type:"button",disabled:b,onClick:()=>void Z(),children:b?"Salvataggio...":"Continua"})]}),u?g.jsx("p",{className:"message",children:u}):null]})}):n&&e&&sessionStorage.getItem(Ur)!=="coach"?g.jsx(Sr,{to:e==="client"?"/app/client":"/app/coach",replace:!0}):g.jsx("main",{className:"page page-center",children:g.jsxs("section",{className:"card auth-card",children:[g.jsx("img",{className:"auth-logo",src:"/brand/beastly-logo.jpeg",alt:"Beastly Workout logo"}),g.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),g.jsx("h2",{children:"Accesso Cliente"}),g.jsx("p",{className:"hint",children:"Se usi la piattaforma per ricevere e seguire la tua scheda tecnica, entra da qui."}),g.jsx("button",{className:"btn",disabled:s||h,onClick:()=>void k(),type:"button",children:s?"Connessione...":"Continua come Cliente"}),g.jsx("div",{className:"divider"}),g.jsx("h2",{children:"Accesso Coach / Supervisor"}),g.jsx("p",{className:"hint",children:"Se devi gestire clienti e schede, accedi da qui. Se  il primo accesso, verr avviata la registrazione coach."}),g.jsx("button",{className:"btn btn-ghost",disabled:s||h,onClick:()=>void L(),type:"button",children:h?"Verifica accesso coach...":"Continua come Coach/Supervisor"}),u?g.jsx("p",{className:"message",children:u}):null,g.jsx(w1,{})]})})}function mI({role:n,title:e,subtitle:t,headerAction:r,sections:s=[],activeSection:a,onSectionChange:u,children:f}){const h=s.length>0&&!!u,[m,_]=O.useState(!1),E=O.useMemo(()=>h?s.length<=4?s:s.slice(0,3):[],[h,s]),w=O.useMemo(()=>!h||s.length<=4?[]:s.slice(3),[h,s]),A=m?"__more__":a,D=m||!m&&w.some(b=>b.id===a);function R(b,$){const K=($==="mobile"?A:a)===b.id,Q=$==="mobile"?b.mobileLabel??b.label:b.label;return g.jsxs("button",{className:`shell-tab shell-tab-${$} ${K?"shell-tab-active":""}`.trim(),type:"button",onClick:()=>{u==null||u(b.id),$==="mobile"&&_(!1)},"aria-current":K?"page":void 0,children:[b.icon?g.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:b.icon}):null,g.jsx("span",{className:"shell-tab-label",children:Q})]},`${$}-${b.id}`)}return g.jsxs("main",{className:`page shell-page ${n==="client"?"shell-client":"shell-coach"}`.trim(),children:[h?g.jsxs("aside",{className:"shell-sidebar desktop-only",children:[g.jsx("p",{className:"eyebrow",children:n==="client"?"Area Cliente":"Area Coach"}),g.jsx("h2",{children:e}),t!=null&&t.trim()?g.jsx("p",{className:"hint",children:t}):null,g.jsx("nav",{className:"shell-sidebar-nav",children:s.map(b=>R(b,"desktop"))}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void Er(),children:"Esci dal profilo"})]}):null,g.jsxs("section",{className:"shell-main",children:[g.jsxs("section",{className:"hero hero-compact",children:[g.jsx("p",{className:"eyebrow",children:n==="client"?"Area Cliente":"Area Coach"}),g.jsx("h1",{children:e}),t!=null&&t.trim()?g.jsx("p",{className:"hero-sub",children:t}):null,r,h?null:g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void Er(),children:"Esci dal profilo"})]}),g.jsx("section",{className:"stack app-stack",children:f})]}),g.jsxs("nav",{className:"mobile-nav shell-mobile-nav",children:[h?E.map(b=>R(b,"mobile")):g.jsxs("button",{className:"shell-tab shell-tab-mobile shell-tab-active",type:"button",children:[g.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),g.jsx("span",{className:"shell-tab-label",children:"Home"})]}),w.length>0?g.jsxs("button",{className:`shell-tab shell-tab-mobile ${D||m?"shell-tab-active":""}`.trim(),type:"button",onClick:()=>_(b=>!b),children:[g.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),g.jsx("span",{className:"shell-tab-label",children:"Altro"})]}):null,g.jsxs("button",{className:"shell-tab shell-tab-mobile",type:"button",onClick:()=>void Er(),children:[g.jsx("span",{className:"shell-tab-icon","aria-hidden":"true",children:""}),g.jsx("span",{className:"shell-tab-label",children:"Esci"})]})]}),m&&w.length>0?g.jsx("section",{className:"modal-overlay mobile-more-overlay",role:"dialog","aria-modal":"true",onClick:b=>b.currentTarget===b.target&&_(!1),children:g.jsxs("article",{className:"card mobile-more-card",onClick:b=>b.stopPropagation(),children:[g.jsx("h3",{children:"Altre sezioni"}),g.jsx("div",{className:"mobile-more-list",children:w.map(b=>g.jsxs("button",{className:`step-tab ${a===b.id?"step-tab-active":""}`.trim(),type:"button",onClick:()=>{u==null||u(b.id),_(!1)},children:[b.icon?`${b.icon} `:"",b.label]},`more-${b.id}`))}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>_(!1),children:"Chiudi"})]})}):null]})}function _m(n){try{const e=new URL(n);if(e.hostname.includes("youtu.be")){const t=e.pathname.replace("/","").trim();return t?`https://www.youtube.com/embed/${t}`:null}if(e.hostname.includes("youtube.com")){const t=e.searchParams.get("v");return t?`https://www.youtube.com/embed/${t}`:null}return null}catch{return null}}function wm(n){return/\.(jpg|jpeg|png|gif|webp|avif|svg)(\?.*)?$/i.test(n)}function gI(n){return/\.(mp4|webm|mov|m4v|ogg)(\?.*)?$/i.test(n)}function bp(n){return Array.isArray(n)?n.map(e=>{if(!e||typeof e!="object")return null;const t=e,r=Number((typeof t.weight=="string"?t.weight:"").replace(/[^\d.-]/g,"")),s=typeof t.advancedMethod=="string"?t.advancedMethod.trim():"",a=s==="rest_pause"||s==="drop_set"?s:"",u=typeof t.advancedMethodNotes=="string"?t.advancedMethodNotes:"",f=typeof t.restPauseNotes=="string"?t.restPauseNotes:a==="rest_pause"?u:"",h=typeof t.dropSetNotes=="string"?t.dropSetNotes:a==="drop_set"?u:"",m=typeof t.mediaUrl=="string"?t.mediaUrl.trim():"",_=typeof t.videoUrl=="string"?t.videoUrl.trim():"",E=typeof t.imageUrl=="string"?t.imageUrl.trim():"",w=_||(_m(m)||gI(m)?m:""),A=E||(wm(m)?m:"");return{name:typeof t.name=="string"?t.name:"",notes:typeof t.notes=="string"?t.notes:"",advancedMethod:a,advancedMethodNotes:u,restPauseNotes:f,dropSetNotes:h,sets:typeof t.sets=="number"?t.sets:Number(t.sets??0)||0,reps:typeof t.reps=="number"?t.reps:Number(t.reps??0)||0,workValue:typeof t.workValue=="number"?t.workValue:Number(t.workValue??t.reps??0)||0,weightKg:typeof t.weightKg=="number"?t.weightKg:Number(t.weightKg??r??0)||0,restSeconds:typeof t.restSeconds=="number"?t.restSeconds:Number(t.restSeconds??0)||0,videoUrl:w,imageUrl:A,mediaUrl:m||w||A}}).filter(e=>!!e):[]}function d0(n){const e=n.replace(/[^\d+]/g,"").replace(/\s+/g,"");return e?e.startsWith("+")?e.slice(1):e.startsWith("00")?e.slice(2):e.startsWith("39")?e:e.length>=9?`39${e}`:e:""}function Y2(n){n.currentTarget.select()}function J2(n){return n?n==="0"?"0":n.replace(/^0+(?=\d)/,""):""}function Z2(n,e){const r=(n.clientWeightOverrides&&typeof n.clientWeightOverrides=="object"?n.clientWeightOverrides:{})[e];if(!r||typeof r!="object"||!Array.isArray(n.exercises)||n.exercises.length===0)return n;const s=n.exercises.map((a,u)=>{if(!a||typeof a!="object")return a;const f=r[String(u)];return Number.isFinite(Number(f))?{...a,weightKg:Number(f)}:a});return{...n,exercises:s}}function eM(n,e){const t=e[n.id];if(!t||typeof t!="object"||!Array.isArray(n.exercises)||n.exercises.length===0)return n;const r=n.exercises.map((s,a)=>{if(!s||typeof s!="object")return s;const u=t[String(a)];return Number.isFinite(Number(u))?{...s,weightKg:Number(u)}:s});return{...n,exercises:r}}function tM(){const{role:n,user:e}=ta(),t=cl(),{showError:r,showSuccess:s}=nh(),[a,u]=O.useState([]),[f,h]=O.useState(!1),[m,_]=O.useState(!0),[E,w]=O.useState(null),[A,D]=O.useState(!1),[R,b]=O.useState(null),[$,K]=O.useState("plan"),[Q,te]=O.useState(""),[z,Z]=O.useState(!1),[x,P]=O.useState(!1),[k,L]=O.useState(""),[V,j]=O.useState({}),[N,Fe]=O.useState({}),[Oe,$e]=O.useState(""),[Me,ae]=O.useState(""),ye="Ciao coach, avrei bisogno di un feedback sulla mia scheda.";O.useEffect(()=>{async function ie(){if(e)try{const st=(await Xa(e.uid)).data();if(!(st!=null&&st.onboardingCompleted)){t("/onboarding",{replace:!0});return}}catch{t("/onboarding",{replace:!0});return}finally{_(!1)}}ie()},[e,t]);async function de(){h(!0);try{const ie=(e==null?void 0:e.uid)??"";if(!ie){u([]),te("");return}const qe=ie?await Xa(ie):null,st=(qe==null?void 0:qe.data())??{},rt=ie?await cI(ie,"onboarding"):null;try{await E2()}catch{}const ot=ie?await N2():null,Pt=((ot==null?void 0:ot.data())??{}).weights??{};j(Pt),b((rt==null?void 0:rt.data())??null);let lt=d0(st.assignedCoachPhone??"");if(!lt&&st.assignedCoachId)try{const dt=(await Xa(st.assignedCoachId)).data();lt=d0(typeof(dt==null?void 0:dt.phone)=="string"?dt.phone:"")}catch{lt=""}L(lt);const rn=new Map;let pt=!1;try{const et=await _2();if(et!=null&&et.ok&&Array.isArray(et.plans))for(const dt of et.plans)rn.set(dt.id,dt)}catch{pt=!0}if(pt)try{const et=await dI("client",ie);for(const dt of G2(et.docs))rn.set(dt.id,dt)}catch(et){r(`Errore caricamento schede: ${kt(et)}`)}const Vt=Array.from(rn.values()).map(et=>Z2(et,ie)).map(et=>eM(et,Pt)).sort((et,dt)=>{const Wr=new Date(String(et.updatedAt??"")).getTime()||0;return(new Date(String(dt.updatedAt??"")).getTime()||0)-Wr});u(Vt),Vt.length>0&&Object.keys(Pt).length>0&&W(Vt,Pt),Vt.length>0?te(et=>et&&Vt.some(dt=>dt.id===et)?et:Vt[0].id):te("")}catch(ie){r(kt(ie))}finally{h(!1)}}async function W(ie,qe){const st=new Set(ie.map(ot=>ot.id)),rt=[];for(const[ot,zt]of Object.entries(qe))if(st.has(ot)&&!(!zt||typeof zt!="object"))for(const[Pt,lt]of Object.entries(zt)){const rn=Number(Pt),pt=Number(lt);!Number.isInteger(rn)||rn<0||!Number.isFinite(pt)||pt<0||rt.push(i0(ot,rn,pt))}rt.length!==0&&await Promise.allSettled(rt)}O.useEffect(()=>{e&&(n==="client"||n===null)&&de()},[n,e==null?void 0:e.uid]);async function U(){P(!0);try{await oI(),await Er().catch(()=>{}),t("/auth",{replace:!0})}catch(ie){r(kt(ie))}finally{P(!1),Z(!1)}}function fe(ie,qe){w({url:ie,label:qe}),D(wm(ie))}const ge=a.find(ie=>ie.id===Q)??a[0],Pe=bp(ge==null?void 0:ge.exercises),le=k.length>6,Ve=le?pI(ye,k):"#",De=[{label:"Nome e cognome",value:R==null?void 0:R.fullName},{label:"E-mail",value:(R==null?void 0:R.email)??(e==null?void 0:e.email)},{label:"Telefono",value:R==null?void 0:R.phone},{label:"Et",value:R==null?void 0:R.age},{label:"Sesso",value:R==null?void 0:R.sex},{label:"Altezza",value:R!=null&&R.heightCm?`${R.heightCm} cm`:""},{label:"Peso",value:R!=null&&R.weightKg?`${R.weightKg} kg`:""},{label:"Obiettivo",value:R==null?void 0:R.objectivePrimary}].filter(ie=>(ie.value??"").toString().trim().length>0);O.useEffect(()=>{const ie={};for(const qe of a)bp(qe.exercises).forEach((rt,ot)=>{ie[`${qe.id}:${ot}`]=String(rt.weightKg||0)});Fe(ie)},[a]);async function Ge(ie,qe,st){const rt=`${ie}:${qe}`,ot=(N[rt]??String(st)).trim();if(!ot){r("Inserisci un peso valido (numero >= 0).");return}const zt=Number(ot);if(!Number.isFinite(zt)||zt<0){r("Inserisci un peso valido (numero >= 0).");return}$e(rt);try{try{await O2(ie,qe,zt)}catch{}j(Pt=>({...Pt,[ie]:{...Pt[ie]??{},[String(qe)]:zt}})),await i0(ie,qe,zt),u(Pt=>Pt.map(lt=>{if(lt.id!==ie)return lt;const pt=bp(lt.exercises).map((Vt,et)=>et===qe?{...Vt,weightKg:zt}:Vt);return{...lt,exercises:pt}})),Fe(Pt=>({...Pt,[rt]:String(zt)})),ae(""),s("Peso aggiornato.")}catch(Pt){r(kt(Pt))}finally{$e("")}}function St(ie,qe,st){const rt=`${ie}:${qe}`;Fe(ot=>({...ot,[rt]:ot[rt]??String(st||0)})),ae(rt)}return e?m?g.jsx("main",{className:"page page-center",children:g.jsxs("section",{className:"card auth-card",children:[g.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),g.jsx("h1",{children:"Prepariamo la tua area"}),g.jsx("p",{className:"hero-sub",children:"Sto verificando le informazioni del tuo profilo..."})]})}):g.jsxs(mI,{role:"client",subtitle:"Scheda tecnica e anagrafica in un unico spazio chiaro.",title:"La tua area",sections:[{id:"plan",label:"Scheda",mobileLabel:"Scheda",icon:""},{id:"profile",label:"Profilo",mobileLabel:"Profilo",icon:""}],activeSection:$,onSectionChange:ie=>K(ie),headerAction:g.jsx("div",{className:"mobile-only",children:g.jsx("a",{className:`btn btn-whatsapp btn-block ${le?"":"btn-disabled"}`.trim(),href:Ve,onClick:ie=>{le||ie.preventDefault()},target:"_blank",rel:"noreferrer",children:"Scrivi al tuo PT su WhatsApp"})}),children:[$==="plan"?g.jsxs(g.Fragment,{children:[g.jsxs("article",{className:"card desktop-only",children:[g.jsx("h2",{children:"Parla con il tuo Personal Trainer"}),g.jsx("p",{className:"hint",children:"Per feedback sulla scheda o qualsiasi dubbio, scrivi direttamente su WhatsApp."}),g.jsx("a",{className:`btn btn-whatsapp btn-block ${le?"":"btn-disabled"}`.trim(),href:Ve,onClick:ie=>{le||ie.preventDefault()},target:"_blank",rel:"noreferrer",children:"Apri chat WhatsApp"}),le?null:g.jsx("p",{className:"message",children:"Numero WhatsApp coach non ancora configurato."})]}),g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:"La tua scheda tecnica"}),ge?g.jsxs(g.Fragment,{children:[a.length>1?g.jsxs("label",{children:["Scegli scheda",g.jsx("select",{value:ge.id,onChange:ie=>te(ie.target.value),children:a.map(ie=>g.jsx("option",{value:ie.id,children:ie.title||"Scheda senza titolo"},ie.id))})]}):null,g.jsxs("div",{className:"plan-head",children:[g.jsx("p",{className:"hint",children:"Programma attivo"}),g.jsx("h3",{children:ge.title})]}),g.jsxs("p",{className:"hint",children:["Tipo scheda: ",g.jsx("strong",{children:ge.kind==="circuit"?"Circuito":"Serie e reps"})]}),(ge.warmup??"").trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Riscaldamento:"})," ",ge.warmup]})}):null,(ge.notes??"").trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note coach:"})," ",ge.notes]})}):null,g.jsx("div",{className:"exercise-grid",children:Pe.map((ie,qe)=>g.jsxs("article",{className:"exercise-card",children:[g.jsx("p",{className:"exercise-name",children:ie.name||`Esercizio ${qe+1}`}),g.jsxs("div",{className:"exercise-meta",children:[ge.kind==="circuit"?g.jsxs("span",{children:[ie.workValue||"-"," reps/tempo"]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:[ie.sets??"-"," serie"]}),g.jsxs("span",{children:[ie.reps||"-"," reps"]})]}),g.jsxs("span",{children:[ie.weightKg||0," kg"]}),g.jsxs("span",{children:[ie.restSeconds||0," sec recupero"]})]}),ie.advancedMethod?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Metodo:"})," ",ie.advancedMethod==="rest_pause"?"Rest Pause":"Drop set"]}):null,ie.advancedMethod&&(ie.advancedMethod==="rest_pause"?ie.restPauseNotes:ie.dropSetNotes).trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note metodo:"})," ",ie.advancedMethod==="rest_pause"?ie.restPauseNotes:ie.dropSetNotes]}):null,(()=>{const st=`${ge.id}:${qe}`,rt=Me===st,ot=Oe===st;return rt?g.jsxs("div",{className:"exercise-weight-edit-row",children:[g.jsxs("label",{children:["Peso (kg)",g.jsx("input",{type:"number",min:0,inputMode:"decimal",onFocus:Y2,value:N[st]??String(ie.weightKg||0),onChange:zt=>Fe(Pt=>({...Pt,[st]:J2(zt.target.value)}))})]}),g.jsxs("div",{className:"exercise-weight-actions",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:ot,onClick:()=>ae(""),children:"Annulla"}),g.jsx("button",{className:"btn",type:"button",disabled:ot,onClick:()=>void Ge(ge.id,qe,ie.weightKg||0),children:ot?"Salvataggio...":"Salva"})]})]}):g.jsxs("div",{className:"exercise-weight-readonly",children:[g.jsxs("div",{children:[g.jsx("p",{className:"hint",children:g.jsx("strong",{children:"Peso (kg)"})}),g.jsx("p",{className:"exercise-weight-value",children:ie.weightKg||0})]}),g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Modifica peso esercizio",title:"Modifica peso",onClick:()=>St(ge.id,qe,ie.weightKg||0),children:""})]})})(),ie.notes.trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note:"})," ",ie.notes]}):null,ie.videoUrl||ie.imageUrl?g.jsxs(g.Fragment,{children:[ie.videoUrl?g.jsx("button",{className:"btn-link",type:"button",onClick:()=>fe(ie.videoUrl,ie.name||`Esercizio ${qe+1}`),children:"Apri video"}):null,ie.imageUrl?g.jsx("button",{className:"btn-link",type:"button",onClick:()=>fe(ie.imageUrl,ie.name||`Esercizio ${qe+1}`),children:"Apri immagine"}):null]}):g.jsx("p",{className:"hint",children:"Nessun media allegato"})]},`plan-ex-${qe}`))})]}):g.jsx("p",{className:"hint",children:"La tua scheda non  ancora disponibile. Il coach la pubblicher a breve."})]})]}):null,$==="profile"?g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:"Profilo e anagrafica"}),De.length>0?g.jsx("div",{className:"client-info-block",children:De.map(ie=>g.jsxs("p",{className:"hint",children:[g.jsxs("strong",{children:[ie.label,":"]})," ",ie.value]},ie.label))}):g.jsx("p",{className:"hint",children:"Anagrafica non ancora disponibile."}),g.jsx("a",{className:`btn btn-whatsapp btn-block ${le?"":"btn-disabled"}`.trim(),href:Ve,onClick:ie=>{le||ie.preventDefault()},target:"_blank",rel:"noreferrer",children:"Scrivi al tuo PT su WhatsApp"}),le?null:g.jsx("p",{className:"message",children:"Numero WhatsApp coach non ancora configurato."}),g.jsx("div",{className:"divider"}),g.jsx("h3",{children:"Elimina profilo"}),g.jsx("p",{className:"hint",children:"Se elimini il profilo perderai tutti i dati associati al tuo account, in linea con le policy aziendali."}),g.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>Z(!0),children:"Elimina il mio profilo"})]}):null,f?g.jsx("section",{className:"modal-overlay",role:"status","aria-live":"polite","aria-label":"Caricamento in corso",children:g.jsxs("article",{className:"card loading-overlay-card",children:[g.jsx("span",{className:"spinner","aria-hidden":"true"}),g.jsx("p",{className:"hint",children:"Caricamento scheda..."})]})}):null,E?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:ie=>{ie.currentTarget===ie.target&&(w(null),D(!1))},children:g.jsxs("article",{className:"card modal-card",onClick:ie=>ie.stopPropagation(),children:[g.jsx("h2",{children:E.label}),_m(E.url)?g.jsx("iframe",{title:E.label,src:_m(E.url)??void 0,className:"media-frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):wm(E.url)?g.jsxs(g.Fragment,{children:[A?g.jsxs("div",{className:"media-loading","aria-live":"polite",children:[g.jsx("span",{className:"spinner","aria-hidden":"true"}),g.jsx("span",{children:"Caricamento immagine..."})]}):null,g.jsx("img",{src:E.url,alt:E.label,className:"media-frame media-image",style:{display:A?"none":"block"},onLoad:()=>D(!1),onError:()=>D(!1)})]}):gI(E.url)?g.jsx("video",{src:E.url,controls:!0,className:"media-frame"}):g.jsxs("p",{className:"hint",children:["Anteprima non disponibile."," ",g.jsx("a",{href:E.url,target:"_blank",rel:"noreferrer",children:"Apri il link"})]}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>{w(null),D(!1)},children:"Chiudi"})]})}):null,z?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:ie=>ie.currentTarget===ie.target&&Z(!1),children:g.jsxs("article",{className:"card modal-card",onClick:ie=>ie.stopPropagation(),children:[g.jsx("h2",{children:"Conferma eliminazione profilo"}),g.jsx("p",{className:"hint",children:"Eliminando il profilo perderai definitivamente account, anagrafica, scheda e dati collegati."}),g.jsx("p",{className:"hint",children:"L'operazione segue le policy aziendali. Termini, Condizioni d'uso e Privacy Policy verranno pubblicati e linkati qui."}),g.jsxs("div",{className:"onboarding-actions",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:x,onClick:()=>Z(!1),children:"Annulla"}),g.jsx("button",{className:"btn btn-danger",type:"button",disabled:x,onClick:()=>void U(),children:x?"Eliminazione...":"Conferma eliminazione"})]})]})}):null]}):g.jsx(Sr,{to:"/auth",replace:!0})}function Qo(n){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(n)}function nM(n,e){if(Qo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vI(n){var e=nM(n,"string");return Qo(e)=="symbol"?e:e+""}function lu(n,e,t){return(e=vI(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(t),!0).forEach(function(r){lu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rM(n){if(Array.isArray(n))return n}function iM(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,f=[],h=!0,m=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(r=a.call(t)).done)&&(f.push(r.value),f.length!==e);h=!0);}catch(_){m=!0,s=_}finally{try{if(!h&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(m)throw s}}return f}}function Em(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function yI(n,e){if(n){if(typeof n=="string")return Em(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Em(n,e):void 0}}function sM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hs(n,e){return rM(n)||iM(n,e)||yI(n,e)||sM()}function oM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Es(n,e){if(n==null)return{};var t,r,s=oM(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var aM=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function lM(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,a=n.defaultValue,u=a===void 0?null:a,f=n.inputValue,h=n.menuIsOpen,m=n.onChange,_=n.onInputChange,E=n.onMenuClose,w=n.onMenuOpen,A=n.value,D=Es(n,aM),R=O.useState(f!==void 0?f:t),b=hs(R,2),$=b[0],K=b[1],Q=O.useState(h!==void 0?h:s),te=hs(Q,2),z=te[0],Z=te[1],x=O.useState(A!==void 0?A:u),P=hs(x,2),k=P[0],L=P[1],V=O.useCallback(function(ae,ye){typeof m=="function"&&m(ae,ye),L(ae)},[m]),j=O.useCallback(function(ae,ye){var de;typeof _=="function"&&(de=_(ae,ye)),K(de!==void 0?de:ae)},[_]),N=O.useCallback(function(){typeof w=="function"&&w(),Z(!0)},[w]),Fe=O.useCallback(function(){typeof E=="function"&&E(),Z(!1)},[E]),Oe=f!==void 0?f:$,$e=h!==void 0?h:z,Me=A!==void 0?A:k;return xe(xe({},D),{},{inputValue:Oe,menuIsOpen:$e,onChange:V,onInputChange:j,onMenuClose:Fe,onMenuOpen:N,value:Me})}function ke(){return ke=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ke.apply(null,arguments)}function uM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function f0(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,vI(r.key),r)}}function cM(n,e,t){return e&&f0(n.prototype,e),t&&f0(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Sm(n,e){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Sm(n,e)}function dM(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sm(n,e)}function Kd(n){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kd(n)}function _I(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!n})()}function hM(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fM(n,e){if(e&&(Qo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hM(n)}function pM(n){var e=_I();return function(){var t,r=Kd(n);if(e){var s=Kd(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return fM(this,t)}}function mM(n){if(Array.isArray(n))return Em(n)}function gM(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lg(n){return mM(n)||gM(n)||yI(n)||vM()}function yM(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function _M(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wM=(function(){function n(t){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_M(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=yM(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),An="-ms-",Gd="-moz-",ut="-webkit-",wI="comm",Fg="rule",Ug="decl",EM="@import",EI="@keyframes",SM="@layer",TM=Math.abs,kh=String.fromCharCode,IM=Object.assign;function bM(n,e){return yn(n,0)^45?(((e<<2^yn(n,0))<<2^yn(n,1))<<2^yn(n,2))<<2^yn(n,3):0}function SI(n){return n.trim()}function CM(n,e){return(n=e.exec(n))?n[0]:n}function ct(n,e,t){return n.replace(e,t)}function Tm(n,e){return n.indexOf(e)}function yn(n,e){return n.charCodeAt(e)|0}function Pu(n,e,t){return n.slice(e,t)}function Ri(n){return n.length}function zg(n){return n.length}function id(n,e){return e.push(n),n}function PM(n,e){return n.map(e).join("")}var Nh=1,ll=1,TI=0,dr=0,Gt=0,wl="";function Oh(n,e,t,r,s,a,u){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:Nh,column:ll,length:u,return:""}}function eu(n,e){return IM(Oh("",null,null,"",null,null,0),n,{length:-n.length},e)}function AM(){return Gt}function RM(){return Gt=dr>0?yn(wl,--dr):0,ll--,Gt===10&&(ll=1,Nh--),Gt}function Tr(){return Gt=dr<TI?yn(wl,dr++):0,ll++,Gt===10&&(ll=1,Nh++),Gt}function ji(){return yn(wl,dr)}function wd(){return dr}function qu(n,e){return Pu(wl,n,e)}function Au(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function II(n){return Nh=ll=1,TI=Ri(wl=n),dr=0,[]}function bI(n){return wl="",n}function Ed(n){return SI(qu(dr-1,Im(n===91?n+2:n===40?n+1:n)))}function xM(n){for(;(Gt=ji())&&Gt<33;)Tr();return Au(n)>2||Au(Gt)>3?"":" "}function kM(n,e){for(;--e&&Tr()&&!(Gt<48||Gt>102||Gt>57&&Gt<65||Gt>70&&Gt<97););return qu(n,wd()+(e<6&&ji()==32&&Tr()==32))}function Im(n){for(;Tr();)switch(Gt){case n:return dr;case 34:case 39:n!==34&&n!==39&&Im(Gt);break;case 40:n===41&&Im(n);break;case 92:Tr();break}return dr}function NM(n,e){for(;Tr()&&n+Gt!==57;)if(n+Gt===84&&ji()===47)break;return"/*"+qu(e,dr-1)+"*"+kh(n===47?n:Tr())}function OM(n){for(;!Au(ji());)Tr();return qu(n,dr)}function DM(n){return bI(Sd("",null,null,null,[""],n=II(n),0,[0],n))}function Sd(n,e,t,r,s,a,u,f,h){for(var m=0,_=0,E=u,w=0,A=0,D=0,R=1,b=1,$=1,K=0,Q="",te=s,z=a,Z=r,x=Q;b;)switch(D=K,K=Tr()){case 40:if(D!=108&&yn(x,E-1)==58){Tm(x+=ct(Ed(K),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:x+=Ed(K);break;case 9:case 10:case 13:case 32:x+=xM(D);break;case 92:x+=kM(wd()-1,7);continue;case 47:switch(ji()){case 42:case 47:id(MM(NM(Tr(),wd()),e,t),h);break;default:x+="/"}break;case 123*R:f[m++]=Ri(x)*$;case 125*R:case 59:case 0:switch(K){case 0:case 125:b=0;case 59+_:$==-1&&(x=ct(x,/\f/g,"")),A>0&&Ri(x)-E&&id(A>32?m0(x+";",r,t,E-1):m0(ct(x," ","")+";",r,t,E-2),h);break;case 59:x+=";";default:if(id(Z=p0(x,e,t,m,_,s,f,Q,te=[],z=[],E),a),K===123)if(_===0)Sd(x,e,Z,Z,te,a,E,f,z);else switch(w===99&&yn(x,3)===110?100:w){case 100:case 108:case 109:case 115:Sd(n,Z,Z,r&&id(p0(n,Z,Z,0,0,s,f,Q,s,te=[],E),z),s,z,E,f,r?te:z);break;default:Sd(x,Z,Z,Z,[""],z,0,f,z)}}m=_=A=0,R=$=1,Q=x="",E=u;break;case 58:E=1+Ri(x),A=D;default:if(R<1){if(K==123)--R;else if(K==125&&R++==0&&RM()==125)continue}switch(x+=kh(K),K*R){case 38:$=_>0?1:(x+="\f",-1);break;case 44:f[m++]=(Ri(x)-1)*$,$=1;break;case 64:ji()===45&&(x+=Ed(Tr())),w=ji(),_=E=Ri(Q=x+=OM(wd())),K++;break;case 45:D===45&&Ri(x)==2&&(R=0)}}return a}function p0(n,e,t,r,s,a,u,f,h,m,_){for(var E=s-1,w=s===0?a:[""],A=zg(w),D=0,R=0,b=0;D<r;++D)for(var $=0,K=Pu(n,E+1,E=TM(R=u[D])),Q=n;$<A;++$)(Q=SI(R>0?w[$]+" "+K:ct(K,/&\f/g,w[$])))&&(h[b++]=Q);return Oh(n,e,t,s===0?Fg:f,h,m,_)}function MM(n,e,t){return Oh(n,e,t,wI,kh(AM()),Pu(n,2,-2),0)}function m0(n,e,t,r){return Oh(n,e,t,Ug,Pu(n,0,r),Pu(n,r+1,-1),r)}function Ya(n,e){for(var t="",r=zg(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function VM(n,e,t,r){switch(n.type){case SM:if(n.children.length)break;case EM:case Ug:return n.return=n.return||n.value;case wI:return"";case EI:return n.return=n.value+"{"+Ya(n.children,r)+"}";case Fg:n.value=n.props.join(",")}return Ri(t=Ya(n.children,r))?n.return=n.value+"{"+t+"}":""}function jM(n){var e=zg(n);return function(t,r,s,a){for(var u="",f=0;f<e;f++)u+=n[f](t,r,s,a)||"";return u}}function LM(n){return function(e){e.root||(e=e.return)&&n(e)}}function FM(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var UM=function(e,t,r){for(var s=0,a=0;s=a,a=ji(),s===38&&a===12&&(t[r]=1),!Au(a);)Tr();return qu(e,dr)},zM=function(e,t){var r=-1,s=44;do switch(Au(s)){case 0:s===38&&ji()===12&&(t[r]=1),e[r]+=UM(dr-1,t,r);break;case 2:e[r]+=Ed(s);break;case 4:if(s===44){e[++r]=ji()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=kh(s)}while(s=Tr());return e},$M=function(e,t){return bI(zM(II(e),t))},g0=new WeakMap,BM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!g0.get(r))&&!s){g0.set(e,!0);for(var a=[],u=$M(t,a),f=r.props,h=0,m=0;h<u.length;h++)for(var _=0;_<f.length;_++,m++)e.props[m]=a[h]?u[h].replace(/&\f/g,f[_]):f[_]+" "+u[h]}}},WM=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function CI(n,e){switch(bM(n,e)){case 5103:return ut+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+n+Gd+n+An+n+n;case 6828:case 4268:return ut+n+An+n+n;case 6165:return ut+n+An+"flex-"+n+n;case 5187:return ut+n+ct(n,/(\w+).+(:[^]+)/,ut+"box-$1$2"+An+"flex-$1$2")+n;case 5443:return ut+n+An+"flex-item-"+ct(n,/flex-|-self/,"")+n;case 4675:return ut+n+An+"flex-line-pack"+ct(n,/align-content|flex-|-self/,"")+n;case 5548:return ut+n+An+ct(n,"shrink","negative")+n;case 5292:return ut+n+An+ct(n,"basis","preferred-size")+n;case 6060:return ut+"box-"+ct(n,"-grow","")+ut+n+An+ct(n,"grow","positive")+n;case 4554:return ut+ct(n,/([^-])(transform)/g,"$1"+ut+"$2")+n;case 6187:return ct(ct(ct(n,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),n,"")+n;case 5495:case 3959:return ct(n,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return ct(ct(n,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+n+n;case 4095:case 3583:case 4068:case 2532:return ct(n,/(.+)-inline(.+)/,ut+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ri(n)-1-e>6)switch(yn(n,e+1)){case 109:if(yn(n,e+4)!==45)break;case 102:return ct(n,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+Gd+(yn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Tm(n,"stretch")?CI(ct(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(yn(n,e+1)!==115)break;case 6444:switch(yn(n,Ri(n)-3-(~Tm(n,"!important")&&10))){case 107:return ct(n,":",":"+ut)+n;case 101:return ct(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(yn(n,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+An+"$2box$3")+n}break;case 5936:switch(yn(n,e+11)){case 114:return ut+n+An+ct(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ut+n+An+ct(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ut+n+An+ct(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ut+n+An+n+n}return n}var HM=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ug:e.return=CI(e.value,e.length);break;case EI:return Ya([eu(e,{value:ct(e.value,"@","@"+ut)})],s);case Fg:if(e.length)return PM(e.props,function(a){switch(CM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ya([eu(e,{props:[ct(a,/:(read-\w+)/,":"+Gd+"$1")]})],s);case"::placeholder":return Ya([eu(e,{props:[ct(a,/:(plac\w+)/,":"+ut+"input-$1")]}),eu(e,{props:[ct(a,/:(plac\w+)/,":"+Gd+"$1")]}),eu(e,{props:[ct(a,/:(plac\w+)/,An+"input-$1")]})],s)}return""})}},qM=[HM],KM=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var s=e.stylisPlugins||qM,a={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),$=1;$<b.length;$++)a[b[$]]=!0;f.push(R)});var h,m=[BM,WM];{var _,E=[VM,LM(function(R){_.insert(R)})],w=jM(m.concat(s,E)),A=function(b){return Ya(DM(b),w)};h=function(b,$,K,Q){_=K,A(b?b+"{"+$.styles+"}":$.styles),Q&&(D.inserted[$.name]=!0)}}var D={key:t,sheet:new wM({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return D.sheet.hydrate(f),D},Cp={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function GM(){if(v0)return ht;v0=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,w=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,D=n?Symbol.for("react.lazy"):60116,R=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,$=n?Symbol.for("react.responder"):60118,K=n?Symbol.for("react.scope"):60119;function Q(z){if(typeof z=="object"&&z!==null){var Z=z.$$typeof;switch(Z){case e:switch(z=z.type,z){case h:case m:case r:case a:case s:case E:return z;default:switch(z=z&&z.$$typeof,z){case f:case _:case D:case A:case u:return z;default:return Z}}case t:return Z}}}function te(z){return Q(z)===m}return ht.AsyncMode=h,ht.ConcurrentMode=m,ht.ContextConsumer=f,ht.ContextProvider=u,ht.Element=e,ht.ForwardRef=_,ht.Fragment=r,ht.Lazy=D,ht.Memo=A,ht.Portal=t,ht.Profiler=a,ht.StrictMode=s,ht.Suspense=E,ht.isAsyncMode=function(z){return te(z)||Q(z)===h},ht.isConcurrentMode=te,ht.isContextConsumer=function(z){return Q(z)===f},ht.isContextProvider=function(z){return Q(z)===u},ht.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},ht.isForwardRef=function(z){return Q(z)===_},ht.isFragment=function(z){return Q(z)===r},ht.isLazy=function(z){return Q(z)===D},ht.isMemo=function(z){return Q(z)===A},ht.isPortal=function(z){return Q(z)===t},ht.isProfiler=function(z){return Q(z)===a},ht.isStrictMode=function(z){return Q(z)===s},ht.isSuspense=function(z){return Q(z)===E},ht.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===r||z===m||z===a||z===s||z===E||z===w||typeof z=="object"&&z!==null&&(z.$$typeof===D||z.$$typeof===A||z.$$typeof===u||z.$$typeof===f||z.$$typeof===_||z.$$typeof===b||z.$$typeof===$||z.$$typeof===K||z.$$typeof===R)},ht.typeOf=Q,ht}var y0;function QM(){return y0||(y0=1,Cp.exports=GM()),Cp.exports}var Pp,_0;function XM(){if(_0)return Pp;_0=1;var n=QM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function u(D){return n.isMemo(D)?s:a[D.$$typeof]||e}var f=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,w=Object.prototype;function A(D,R,b){if(typeof R!="string"){if(w){var $=E(R);$&&$!==w&&A(D,$,b)}var K=h(R);m&&(K=K.concat(m(R)));for(var Q=u(D),te=u(R),z=0;z<K.length;++z){var Z=K[z];if(!t[Z]&&!(b&&b[Z])&&!(te&&te[Z])&&!(Q&&Q[Z])){var x=_(R,Z);try{f(D,Z,x)}catch{}}}}return D}return Pp=A,Pp}XM();var YM=!0;function JM(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var PI=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||YM===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},ZM=function(e,t,r){PI(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function eV(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nV=/[A-Z]|^ms/g,rV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AI=function(e){return e.charCodeAt(1)===45},w0=function(e){return e!=null&&typeof e!="boolean"},Ap=FM(function(n){return AI(n)?n:n.replace(nV,"-$&").toLowerCase()}),E0=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(rV,function(r,s,a){return xi={name:s,styles:a,next:xi},s})}return tV[e]!==1&&!AI(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ru(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return xi={name:s.name,styles:s.styles,next:xi},s.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)xi={name:u.name,styles:u.styles,next:xi},u=u.next;var f=a.styles+";";return f}return iV(n,e,t)}case"function":{if(n!==void 0){var h=xi,m=t(n);return xi=h,Ru(n,e,m)}break}}var _=t;return _}function iV(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Ru(n,e,t[s])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var f=u;w0(f)&&(r+=Ap(a)+":"+E0(a,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var h=0;h<u.length;h++)w0(u[h])&&(r+=Ap(a)+":"+E0(a,u[h])+";");else{var m=Ru(n,e,u);switch(a){case"animation":case"animationName":{r+=Ap(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}return r}var S0=/label:\s*([^\s;{]+)\s*(;|$)/g,xi;function RI(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";xi=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,s+=Ru(t,e,a);else{var u=a;s+=u[0]}for(var f=1;f<n.length;f++)if(s+=Ru(t,e,n[f]),r){var h=a;s+=h[f]}S0.lastIndex=0;for(var m="",_;(_=S0.exec(s))!==null;)m+="-"+_[1];var E=eV(s)+m;return{name:E,styles:s,next:xi}}var sV=function(e){return e()},oV=Lp.useInsertionEffect?Lp.useInsertionEffect:!1,aV=oV||sV,xI=O.createContext(typeof HTMLElement<"u"?KM({key:"css"}):null);xI.Provider;var lV=function(e){return O.forwardRef(function(t,r){var s=O.useContext(xI);return e(t,s,r)})},uV=O.createContext({}),$g={}.hasOwnProperty,bm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cV=function(e,t){var r={};for(var s in t)$g.call(t,s)&&(r[s]=t[s]);return r[bm]=e,r},dV=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return PI(t,r,s),aV(function(){return ZM(t,r,s)}),null},hV=lV(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[bm],a=[r],u="";typeof n.className=="string"?u=JM(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var f=RI(a,void 0,O.useContext(uV));u+=e.key+"-"+f.name;var h={};for(var m in n)$g.call(n,m)&&m!=="css"&&m!==bm&&(h[m]=n[m]);return h.className=u,t&&(h.ref=t),O.createElement(O.Fragment,null,O.createElement(dV,{cache:e,serialized:f,isStringTag:typeof s=="string"}),O.createElement(s,h))}),fV=hV,be=function(e,t){var r=arguments;if(t==null||!$g.call(t,"css"))return O.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=fV,a[1]=cV(e,t);for(var u=2;u<s;u++)a[u]=r[u];return O.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(be||(be={}));function Bg(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return RI(e)}function pV(){var n=Bg.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function mV(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const gV=Math.min,vV=Math.max,Qd=Math.round,sd=Math.floor,Xd=n=>({x:n,y:n});function yV(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Dh(){return typeof window<"u"}function kI(n){return OI(n)?(n.nodeName||"").toLowerCase():"#document"}function _s(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function NI(n){var e;return(e=(OI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function OI(n){return Dh()?n instanceof Node||n instanceof _s(n).Node:!1}function _V(n){return Dh()?n instanceof Element||n instanceof _s(n).Element:!1}function Wg(n){return Dh()?n instanceof HTMLElement||n instanceof _s(n).HTMLElement:!1}function T0(n){return!Dh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _s(n).ShadowRoot}const wV=new Set(["inline","contents"]);function DI(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Hg(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!wV.has(s)}function EV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SV=new Set(["html","body","#document"]);function TV(n){return SV.has(kI(n))}function Hg(n){return _s(n).getComputedStyle(n)}function IV(n){if(kI(n)==="html")return n;const e=n.assignedSlot||n.parentNode||T0(n)&&n.host||NI(n);return T0(e)?e.host:e}function MI(n){const e=IV(n);return TV(e)?n.ownerDocument?n.ownerDocument.body:n.body:Wg(e)&&DI(e)?e:MI(e)}function Yd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=MI(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=_s(s);if(a){const f=Cm(u);return e.concat(u,u.visualViewport||[],DI(s)?s:[],f&&t?Yd(f):[])}return e.concat(s,Yd(s,[],t))}function Cm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function bV(n){const e=Hg(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Wg(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,f=Qd(t)!==a||Qd(r)!==u;return f&&(t=a,r=u),{width:t,height:r,$:f}}function qg(n){return _V(n)?n:n.contextElement}function I0(n){const e=qg(n);if(!Wg(e))return Xd(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=bV(e);let u=(a?Qd(t.width):t.width)/r,f=(a?Qd(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const CV=Xd(0);function PV(n){const e=_s(n);return!EV()||!e.visualViewport?CV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AV(n,e,t){return!1}function b0(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=qg(n);let u=Xd(1);e&&(u=I0(n));const f=AV()?PV(a):Xd(0);let h=(s.left+f.x)/u.x,m=(s.top+f.y)/u.y,_=s.width/u.x,E=s.height/u.y;if(a){const w=_s(a),A=r;let D=w,R=Cm(D);for(;R&&r&&A!==D;){const b=I0(R),$=R.getBoundingClientRect(),K=Hg(R),Q=$.left+(R.clientLeft+parseFloat(K.paddingLeft))*b.x,te=$.top+(R.clientTop+parseFloat(K.paddingTop))*b.y;h*=b.x,m*=b.y,_*=b.x,E*=b.y,h+=Q,m+=te,D=_s(R),R=Cm(D)}}return yV({width:_,height:E,x:h,y:m})}function VI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function RV(n,e){let t=null,r;const s=NI(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),a();const m=n.getBoundingClientRect(),{left:_,top:E,width:w,height:A}=m;if(f||e(),!w||!A)return;const D=sd(E),R=sd(s.clientWidth-(_+w)),b=sd(s.clientHeight-(E+A)),$=sd(_),Q={rootMargin:-D+"px "+-R+"px "+-b+"px "+-$+"px",threshold:vV(0,gV(1,h))||1};let te=!0;function z(Z){const x=Z[0].intersectionRatio;if(x!==h){if(!te)return u();x?u(!1,x):r=setTimeout(()=>{u(!1,1e-7)},1e3)}x===1&&!VI(m,n.getBoundingClientRect())&&u(),te=!1}try{t=new IntersectionObserver(z,{...Q,root:s.ownerDocument})}catch{t=new IntersectionObserver(z,Q)}t.observe(n)}return u(!0),a}function xV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=qg(n),_=s||a?[...m?Yd(m):[],...Yd(e)]:[];_.forEach($=>{s&&$.addEventListener("scroll",t,{passive:!0}),a&&$.addEventListener("resize",t)});const E=m&&f?RV(m,t):null;let w=-1,A=null;u&&(A=new ResizeObserver($=>{let[K]=$;K&&K.target===m&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var Q;(Q=A)==null||Q.observe(e)})),t()}),m&&!h&&A.observe(m),A.observe(e));let D,R=h?b0(n):null;h&&b();function b(){const $=b0(n);R&&!VI(R,$)&&t(),R=$,D=requestAnimationFrame(b)}return t(),()=>{var $;_.forEach(K=>{s&&K.removeEventListener("scroll",t),a&&K.removeEventListener("resize",t)}),E==null||E(),($=A)==null||$.disconnect(),A=null,h&&cancelAnimationFrame(D)}}var Pm=O.useLayoutEffect,kV=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Jd=function(){};function NV(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function OV(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var a=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(NV(n,u)));return a.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var C0=function(e){return $V(e)?e.filter(Boolean):Qo(e)==="object"&&e!==null?[e]:[]},jI=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Es(e,kV);return xe({},t)},Lt=function(e,t,r){var s=e.cx,a=e.getStyles,u=e.getClassNames,f=e.className;return{css:a(t,e),className:s(r??{},u(t,e),f)}};function Mh(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function DV(n){return Mh(n)?window.innerHeight:n.clientHeight}function LI(n){return Mh(n)?window.pageYOffset:n.scrollTop}function Zd(n,e){if(Mh(n)){window.scrollTo(0,e);return}n.scrollTop=e}function MV(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function VV(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function od(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jd,s=LI(n),a=e-s,u=10,f=0;function h(){f+=u;var m=VV(f,s,a,t);Zd(n,m),f<t?window.requestAnimationFrame(h):r(n)}h()}function P0(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?Zd(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&Zd(n,Math.max(e.offsetTop-s,0))}function jV(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function A0(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function LV(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var FI=!1,FV={get passive(){return FI=!0}},ad=typeof window<"u"?window:{};ad.addEventListener&&ad.removeEventListener&&(ad.addEventListener("p",Jd,FV),ad.removeEventListener("p",Jd,!1));var UV=FI;function zV(n){return n!=null}function $V(n){return Array.isArray(n)}function ld(n,e,t){return n?e:t}var BV=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var a=Object.entries(e).filter(function(u){var f=hs(u,1),h=f[0];return!r.includes(h)});return a.reduce(function(u,f){var h=hs(f,2),m=h[0],_=h[1];return u[m]=_,u},{})},WV=["children","innerProps"],HV=["children","innerProps"];function qV(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,a=n.shouldScroll,u=n.isFixedPosition,f=n.controlHeight,h=MV(t),m={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return m;var _=h.getBoundingClientRect(),E=_.height,w=t.getBoundingClientRect(),A=w.bottom,D=w.height,R=w.top,b=t.offsetParent.getBoundingClientRect(),$=b.top,K=u?window.innerHeight:DV(h),Q=LI(h),te=parseInt(getComputedStyle(t).marginBottom,10),z=parseInt(getComputedStyle(t).marginTop,10),Z=$-z,x=K-R,P=Z+Q,k=E-Q-R,L=A-K+Q+te,V=Q+R-z,j=160;switch(s){case"auto":case"bottom":if(x>=D)return{placement:"bottom",maxHeight:e};if(k>=D&&!u)return a&&od(h,L,j),{placement:"bottom",maxHeight:e};if(!u&&k>=r||u&&x>=r){a&&od(h,L,j);var N=u?x-te:k-te;return{placement:"bottom",maxHeight:N}}if(s==="auto"||u){var Fe=e,Oe=u?Z:P;return Oe>=r&&(Fe=Math.min(Oe-te-f,e)),{placement:"top",maxHeight:Fe}}if(s==="bottom")return a&&Zd(h,L),{placement:"bottom",maxHeight:e};break;case"top":if(Z>=D)return{placement:"top",maxHeight:e};if(P>=D&&!u)return a&&od(h,V,j),{placement:"top",maxHeight:e};if(!u&&P>=r||u&&Z>=r){var $e=e;return(!u&&P>=r||u&&Z>=r)&&($e=u?Z-z:P-z),a&&od(h,V,j),{placement:"top",maxHeight:$e}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function KV(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var UI=function(e){return e==="auto"?"bottom":e},GV=function(e,t){var r,s=e.placement,a=e.theme,u=a.borderRadius,f=a.spacing,h=a.colors;return xe((r={label:"menu"},lu(r,KV(s),"100%"),lu(r,"position","absolute"),lu(r,"width","100%"),lu(r,"zIndex",1),r),t?{}:{backgroundColor:h.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},zI=O.createContext(null),QV=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,f=e.menuShouldScrollIntoView,h=e.theme,m=O.useContext(zI)||{},_=m.setPortalPlacement,E=O.useRef(null),w=O.useState(s),A=hs(w,2),D=A[0],R=A[1],b=O.useState(null),$=hs(b,2),K=$[0],Q=$[1],te=h.spacing.controlHeight;return Pm(function(){var z=E.current;if(z){var Z=u==="fixed",x=f&&!Z,P=qV({maxHeight:s,menuEl:z,minHeight:r,placement:a,shouldScroll:x,isFixedPosition:Z,controlHeight:te});R(P.maxHeight),Q(P.placement),_==null||_(P.placement)}},[s,a,u,f,r,_,te]),t({ref:E,placerProps:xe(xe({},e),{},{placement:K||UI(a),maxHeight:D})})},XV=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return be("div",ke({},Lt(e,"menu",{menu:!0}),{ref:r},s),t)},YV=XV,JV=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return xe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},ZV=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,a=e.isMulti;return be("div",ke({},Lt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},r),t)},$I=function(e,t){var r=e.theme,s=r.spacing.baseUnit,a=r.colors;return xe({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},ej=$I,tj=$I,nj=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,a=Es(e,WV);return be("div",ke({},Lt(xe(xe({},a),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},rj=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,a=Es(e,HV);return be("div",ke({},Lt(xe(xe({},a),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},ij=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},sj=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,a=e.innerProps,u=e.menuPlacement,f=e.menuPosition,h=O.useRef(null),m=O.useRef(null),_=O.useState(UI(u)),E=hs(_,2),w=E[0],A=E[1],D=O.useMemo(function(){return{setPortalPlacement:A}},[]),R=O.useState(null),b=hs(R,2),$=b[0],K=b[1],Q=O.useCallback(function(){if(s){var x=jV(s),P=f==="fixed"?0:window.pageYOffset,k=x[w]+P;(k!==($==null?void 0:$.offset)||x.left!==($==null?void 0:$.rect.left)||x.width!==($==null?void 0:$.rect.width))&&K({offset:k,rect:x})}},[s,f,w,$==null?void 0:$.offset,$==null?void 0:$.rect.left,$==null?void 0:$.rect.width]);Pm(function(){Q()},[Q]);var te=O.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&h.current&&(m.current=xV(s,h.current,Q,{elementResize:"ResizeObserver"in window}))},[s,Q]);Pm(function(){te()},[te]);var z=O.useCallback(function(x){h.current=x,te()},[te]);if(!t&&f!=="fixed"||!$)return null;var Z=be("div",ke({ref:z},Lt(xe(xe({},e),{},{offset:$.offset,position:f,rect:$.rect}),"menuPortal",{"menu-portal":!0}),a),r);return be(zI.Provider,{value:D},t?TC.createPortal(Z,t):Z)},oj=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},aj=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,a=e.isRtl;return be("div",ke({},Lt(e,"container",{"--is-disabled":s,"--is-rtl":a}),r),t)},lj=function(e,t){var r=e.theme.spacing,s=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return xe({alignItems:"center",display:s&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},uj=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,a=e.hasValue;return be("div",ke({},Lt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),r),t)},cj=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},dj=function(e){var t=e.children,r=e.innerProps;return be("div",ke({},Lt(e,"indicatorsContainer",{indicators:!0}),r),t)},R0,hj=["size"],fj=["innerProps","isRtl","size"],pj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},BI=function(e){var t=e.size,r=Es(e,hj);return be("svg",ke({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:pj},r))},Kg=function(e){return be(BI,ke({size:20},e),be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},WI=function(e){return be(BI,ke({size:20},e),be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},HI=function(e,t){var r=e.isFocused,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},mj=HI,gj=function(e){var t=e.children,r=e.innerProps;return be("div",ke({},Lt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||be(WI,null))},vj=HI,yj=function(e){var t=e.children,r=e.innerProps;return be("div",ke({},Lt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||be(Kg,null))},_j=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},wj=function(e){var t=e.innerProps;return be("span",ke({},t,Lt(e,"indicatorSeparator",{"indicator-separator":!0})))},Ej=pV(R0||(R0=mV([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Sj=function(e,t){var r=e.isFocused,s=e.size,a=e.theme,u=a.colors,f=a.spacing.baseUnit;return xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:f*2})},Rp=function(e){var t=e.delay,r=e.offset;return be("span",{css:Bg({animation:"".concat(Ej," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Tj=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,a=s===void 0?4:s,u=Es(e,fj);return be("div",ke({},Lt(xe(xe({},u),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),be(Rp,{delay:0,offset:r}),be(Rp,{delay:160,offset:!0}),be(Rp,{delay:320,offset:!r}))},Ij=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.theme,u=a.colors,f=a.borderRadius,h=a.spacing;return xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},bj=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.innerRef,u=e.innerProps,f=e.menuIsOpen;return be("div",ke({ref:a},Lt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":f}),u,{"aria-disabled":r||void 0}),t)},Cj=bj,Pj=["data"],Aj=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Rj=function(e){var t=e.children,r=e.cx,s=e.getStyles,a=e.getClassNames,u=e.Heading,f=e.headingProps,h=e.innerProps,m=e.label,_=e.theme,E=e.selectProps;return be("div",ke({},Lt(e,"group",{group:!0}),h),be(u,ke({},f,{selectProps:E,theme:_,getStyles:s,getClassNames:a,cx:r}),m),be("div",null,t))},xj=function(e,t){var r=e.theme,s=r.colors,a=r.spacing;return xe({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},kj=function(e){var t=jI(e);t.data;var r=Es(t,Pj);return be("div",ke({},Lt(e,"groupHeading",{"group-heading":!0}),r))},Nj=Rj,Oj=["innerRef","isDisabled","isHidden","inputClassName"],Dj=function(e,t){var r=e.isDisabled,s=e.value,a=e.theme,u=a.spacing,f=a.colors;return xe(xe({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Mj),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:f.neutral80})},qI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Mj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},qI)},Vj=function(e){return xe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},qI)},jj=function(e){var t=e.cx,r=e.value,s=jI(e),a=s.innerRef,u=s.isDisabled,f=s.isHidden,h=s.inputClassName,m=Es(s,Oj);return be("div",ke({},Lt(e,"input",{"input-container":!0}),{"data-value":r||""}),be("input",ke({className:t({input:!0},h),ref:a,style:Vj(f),disabled:u},m)))},Lj=jj,Fj=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors;return xe({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},Uj=function(e,t){var r=e.theme,s=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return xe({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},zj=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors,f=e.isFocused;return xe({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:f?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},KI=function(e){var t=e.children,r=e.innerProps;return be("div",r,t)},$j=KI,Bj=KI;function Wj(n){var e=n.children,t=n.innerProps;return be("div",ke({role:"button"},t),e||be(Kg,{size:14}))}var Hj=function(e){var t=e.children,r=e.components,s=e.data,a=e.innerProps,u=e.isDisabled,f=e.removeProps,h=e.selectProps,m=r.Container,_=r.Label,E=r.Remove;return be(m,{data:s,innerProps:xe(xe({},Lt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:h},be(_,{data:s,innerProps:xe({},Lt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),be(E,{data:s,innerProps:xe(xe({},Lt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:h}))},qj=Hj,Kj=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.theme,f=u.spacing,h=u.colors;return xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?h.primary:s?h.primary25:"transparent",color:r?h.neutral20:a?h.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?h.primary:h.primary50}})},Gj=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.innerRef,f=e.innerProps;return be("div",ke({},Lt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a}),{ref:u,"aria-disabled":r},f),t)},Qj=Gj,Xj=function(e,t){var r=e.theme,s=r.spacing,a=r.colors;return xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Yj=function(e){var t=e.children,r=e.innerProps;return be("div",ke({},Lt(e,"placeholder",{placeholder:!0}),r),t)},Jj=Yj,Zj=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing,u=s.colors;return xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},eL=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return be("div",ke({},Lt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},tL=eL,nL={ClearIndicator:yj,Control:Cj,DropdownIndicator:gj,DownChevron:WI,CrossIcon:Kg,Group:Nj,GroupHeading:kj,IndicatorsContainer:dj,IndicatorSeparator:wj,Input:Lj,LoadingIndicator:Tj,Menu:YV,MenuList:ZV,MenuPortal:sj,LoadingMessage:rj,NoOptionsMessage:nj,MultiValue:qj,MultiValueContainer:$j,MultiValueLabel:Bj,MultiValueRemove:Wj,Option:Qj,Placeholder:Jj,SelectContainer:aj,SingleValue:tL,ValueContainer:uj},rL=function(e){return xe(xe({},nL),e.components)},x0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function iL(n,e){return!!(n===e||x0(n)&&x0(e))}function sL(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!iL(n[t],e[t]))return!1;return!0}function oL(n,e){e===void 0&&(e=sL);var t=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var aL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lL=function(e){return be("span",ke({css:aL},e))},k0=lL,uL={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,a=e.label,u=a===void 0?"":a,f=e.selectValue,h=e.isDisabled,m=e.isSelected,_=e.isAppleDevice,E=function(R,b){return R&&R.length?"".concat(R.indexOf(b)+1," of ").concat(R.length):""};if(t==="value"&&f)return"value ".concat(u," focused, ").concat(E(f,r),".");if(t==="menu"&&_){var w=h?" disabled":"",A="".concat(m?" selected":"").concat(w);return"".concat(u).concat(A,", ").concat(E(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},cL=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,u=e.isFocused,f=e.selectValue,h=e.selectProps,m=e.id,_=e.isAppleDevice,E=h.ariaLiveMessages,w=h.getOptionLabel,A=h.inputValue,D=h.isMulti,R=h.isOptionDisabled,b=h.isSearchable,$=h.menuIsOpen,K=h.options,Q=h.screenReaderStatus,te=h.tabSelectsValue,z=h.isLoading,Z=h["aria-label"],x=h["aria-live"],P=O.useMemo(function(){return xe(xe({},uL),E||{})},[E]),k=O.useMemo(function(){var Oe="";if(t&&P.onChange){var $e=t.option,Me=t.options,ae=t.removedValue,ye=t.removedValues,de=t.value,W=function(De){return Array.isArray(De)?null:De},U=ae||$e||W(de),fe=U?w(U):"",ge=Me||ye||void 0,Pe=ge?ge.map(w):[],le=xe({isDisabled:U&&R(U,f),label:fe,labels:Pe},t);Oe=P.onChange(le)}return Oe},[t,P,R,f,w]),L=O.useMemo(function(){var Oe="",$e=r||s,Me=!!(r&&f&&f.includes(r));if($e&&P.onFocus){var ae={focused:$e,label:w($e),isDisabled:R($e,f),isSelected:Me,options:a,context:$e===r?"menu":"value",selectValue:f,isAppleDevice:_};Oe=P.onFocus(ae)}return Oe},[r,s,w,R,P,a,f,_]),V=O.useMemo(function(){var Oe="";if($&&K.length&&!z&&P.onFilter){var $e=Q({count:a.length});Oe=P.onFilter({inputValue:A,resultsMessage:$e})}return Oe},[a,A,$,P,K,Q,z]),j=(t==null?void 0:t.action)==="initial-input-focus",N=O.useMemo(function(){var Oe="";if(P.guidance){var $e=s?"value":$?"menu":"input";Oe=P.guidance({"aria-label":Z,context:$e,isDisabled:r&&R(r,f),isMulti:D,isSearchable:b,tabSelectsValue:te,isInitialFocus:j})}return Oe},[Z,r,s,D,R,b,$,P,f,te,j]),Fe=be(O.Fragment,null,be("span",{id:"aria-selection"},k),be("span",{id:"aria-focused"},L),be("span",{id:"aria-results"},V),be("span",{id:"aria-guidance"},N));return be(O.Fragment,null,be(k0,{id:m},j&&Fe),be(k0,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!j&&Fe))},dL=cL,Am=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],hL=new RegExp("["+Am.map(function(n){return n.letters}).join("")+"]","g"),GI={};for(var xp=0;xp<Am.length;xp++)for(var kp=Am[xp],Np=0;Np<kp.letters.length;Np++)GI[kp.letters[Np]]=kp.base;var QI=function(e){return e.replace(hL,function(t){return GI[t]})},fL=oL(QI),N0=function(e){return e.replace(/^\s+|\s+$/g,"")},pL=function(e){return"".concat(e.label," ").concat(e.value)},mL=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=xe({ignoreCase:!0,ignoreAccents:!0,stringify:pL,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,u=s.ignoreAccents,f=s.stringify,h=s.trim,m=s.matchFrom,_=h?N0(r):r,E=h?N0(f(t)):f(t);return a&&(_=_.toLowerCase(),E=E.toLowerCase()),u&&(_=fL(_),E=QI(E)),m==="start"?E.substr(0,_.length)===_:E.indexOf(_)>-1}},gL=["innerRef"];function vL(n){var e=n.innerRef,t=Es(n,gL),r=BV(t,"onExited","in","enter","exit","appear");return be("input",ke({ref:e},r,{css:Bg({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var yL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function _L(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,a=n.onTopLeave,u=O.useRef(!1),f=O.useRef(!1),h=O.useRef(0),m=O.useRef(null),_=O.useCallback(function(b,$){if(m.current!==null){var K=m.current,Q=K.scrollTop,te=K.scrollHeight,z=K.clientHeight,Z=m.current,x=$>0,P=te-z-Q,k=!1;P>$&&u.current&&(r&&r(b),u.current=!1),x&&f.current&&(a&&a(b),f.current=!1),x&&$>P?(t&&!u.current&&t(b),Z.scrollTop=te,k=!0,u.current=!0):!x&&-$>Q&&(s&&!f.current&&s(b),Z.scrollTop=0,k=!0,f.current=!0),k&&yL(b)}},[t,r,s,a]),E=O.useCallback(function(b){_(b,b.deltaY)},[_]),w=O.useCallback(function(b){h.current=b.changedTouches[0].clientY},[]),A=O.useCallback(function(b){var $=h.current-b.changedTouches[0].clientY;_(b,$)},[_]),D=O.useCallback(function(b){if(b){var $=UV?{passive:!1}:!1;b.addEventListener("wheel",E,$),b.addEventListener("touchstart",w,$),b.addEventListener("touchmove",A,$)}},[A,w,E]),R=O.useCallback(function(b){b&&(b.removeEventListener("wheel",E,!1),b.removeEventListener("touchstart",w,!1),b.removeEventListener("touchmove",A,!1))},[A,w,E]);return O.useEffect(function(){if(e){var b=m.current;return D(b),function(){R(b)}}},[e,D,R]),function(b){m.current=b}}var O0=["boxSizing","height","overflow","paddingRight","position"],D0={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function M0(n){n.cancelable&&n.preventDefault()}function V0(n){n.stopPropagation()}function j0(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function L0(){return"ontouchstart"in window||navigator.maxTouchPoints}var F0=!!(typeof window<"u"&&window.document&&window.document.createElement),tu=0,ja={capture:!1,passive:!1};function wL(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=O.useRef({}),a=O.useRef(null),u=O.useCallback(function(h){if(F0){var m=document.body,_=m&&m.style;if(r&&O0.forEach(function(D){var R=_&&_[D];s.current[D]=R}),r&&tu<1){var E=parseInt(s.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,A=window.innerWidth-w+E||0;Object.keys(D0).forEach(function(D){var R=D0[D];_&&(_[D]=R)}),_&&(_.paddingRight="".concat(A,"px"))}m&&L0()&&(m.addEventListener("touchmove",M0,ja),h&&(h.addEventListener("touchstart",j0,ja),h.addEventListener("touchmove",V0,ja))),tu+=1}},[r]),f=O.useCallback(function(h){if(F0){var m=document.body,_=m&&m.style;tu=Math.max(tu-1,0),r&&tu<1&&O0.forEach(function(E){var w=s.current[E];_&&(_[E]=w)}),m&&L0()&&(m.removeEventListener("touchmove",M0,ja),h&&(h.removeEventListener("touchstart",j0,ja),h.removeEventListener("touchmove",V0,ja)))}},[r]);return O.useEffect(function(){if(e){var h=a.current;return u(h),function(){f(h)}}},[e,u,f]),function(h){a.current=h}}var EL=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},SL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function TL(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,a=n.onBottomArrive,u=n.onBottomLeave,f=n.onTopArrive,h=n.onTopLeave,m=_L({isEnabled:s,onBottomArrive:a,onBottomLeave:u,onTopArrive:f,onTopLeave:h}),_=wL({isEnabled:t}),E=function(A){m(A),_(A)};return be(O.Fragment,null,t&&be("div",{onClick:EL,css:SL}),e(E))}var IL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bL=function(e){var t=e.name,r=e.onFocus;return be("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:IL,value:"",onChange:function(){}})},CL=bL;function Gg(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function PL(){return Gg(/^iPhone/i)}function XI(){return Gg(/^Mac/i)}function AL(){return Gg(/^iPad/i)||XI()&&navigator.maxTouchPoints>1}function RL(){return PL()||AL()}function xL(){return XI()||RL()}var kL=function(e){return e.label},NL=function(e){return e.label},OL=function(e){return e.value},DL=function(e){return!!e.isDisabled},ML={clearIndicator:vj,container:oj,control:Ij,dropdownIndicator:mj,group:Aj,groupHeading:xj,indicatorsContainer:cj,indicatorSeparator:_j,input:Dj,loadingIndicator:Sj,loadingMessage:tj,menu:GV,menuList:JV,menuPortal:ij,multiValue:Fj,multiValueLabel:Uj,multiValueRemove:zj,noOptionsMessage:ej,option:Kj,placeholder:Xj,singleValue:Zj,valueContainer:lj},VL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},jL=4,YI=4,LL=38,FL=YI*2,UL={baseUnit:YI,controlHeight:LL,menuGutter:FL},Op={borderRadius:jL,colors:VL,spacing:UL},zL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:A0(),captureMenuScroll:!A0(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:mL(),formatGroupLabel:kL,getOptionLabel:NL,getOptionValue:OL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:DL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!LV(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function U0(n,e,t,r){var s=eb(n,e,t),a=tb(n,e,t),u=ZI(n,e),f=eh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:u,value:f,index:r}}function Td(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,f){return U0(n,u,e,f)}).filter(function(u){return $0(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var a=U0(n,t,e,r);return $0(n,a)?a:void 0}).filter(zV)}function JI(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Lg(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function z0(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Lg(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function $L(n,e){return JI(Td(n,e))}function $0(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,a=e.isSelected,u=e.label,f=e.value;return(!rb(n)||!a)&&nb(n,{label:u,value:f,data:s},r)}function BL(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var a=e.indexOf(t);if(a>-1)return t;if(s<e.length)return e[s]}return null}function WL(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Dp=function(e,t){var r,s=(r=e.find(function(a){return a.data===t}))===null||r===void 0?void 0:r.id;return s||null},ZI=function(e,t){return e.getOptionLabel(t)},eh=function(e,t){return e.getOptionValue(t)};function eb(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function tb(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=eh(n,e);return t.some(function(s){return eh(n,s)===r})}function nb(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var rb=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},HL=1,ib=(function(n){dM(t,n);var e=pM(t);function t(r){var s;if(uM(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,m){var _=s.props,E=_.onChange,w=_.name;m.name=w,s.ariaOnChange(h,m),E(h,m)},s.setValue=function(h,m,_){var E=s.props,w=E.closeMenuOnSelect,A=E.isMulti,D=E.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:D}),w&&(s.setState({inputIsHiddenAfterUpdate:!A}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:m,option:_})},s.selectOption=function(h){var m=s.props,_=m.blurInputOnSelect,E=m.isMulti,w=m.name,A=s.state.selectValue,D=E&&s.isOptionSelected(h,A),R=s.isOptionDisabled(h,A);if(D){var b=s.getOptionValue(h);s.setValue(A.filter(function($){return s.getOptionValue($)!==b}),"deselect-option",h)}else if(!R)E?s.setValue([].concat(Lg(A),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:w});return}_&&s.blurInput()},s.removeValue=function(h){var m=s.props.isMulti,_=s.state.selectValue,E=s.getOptionValue(h),w=_.filter(function(D){return s.getOptionValue(D)!==E}),A=ld(m,w,w[0]||null);s.onChange(A,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(ld(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,m=s.state.selectValue,_=m[m.length-1],E=m.slice(0,m.length-1),w=ld(h,E,E[0]||null);_&&s.onChange(w,{action:"pop-value",removedValue:_})},s.getFocusedOptionId=function(h){return Dp(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return z0(Td(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,m=new Array(h),_=0;_<h;_++)m[_]=arguments[_];return OV.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(h){return ZI(s.props,h)},s.getOptionValue=function(h){return eh(s.props,h)},s.getStyles=function(h,m){var _=s.props.unstyled,E=ML[h](m,_);E.boxSizing="border-box";var w=s.props.styles[h];return w?w(E,m):E},s.getClassNames=function(h,m){var _,E;return(_=(E=s.props.classNames)[h])===null||_===void 0?void 0:_.call(E,m)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return rL(s.props)},s.buildCategorizedOptions=function(){return Td(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return JI(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,m){s.setState({ariaSelection:xe({value:h},m)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var m=s.props,_=m.isMulti,E=m.menuIsOpen;s.focusInput(),E?(s.setState({inputIsHiddenAfterUpdate:!_}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&Mh(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var m=h.touches,_=m&&m.item(0);_&&(s.initialTouchX=_.clientX,s.initialTouchY=_.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var m=h.touches,_=m&&m.item(0);if(_){var E=Math.abs(_.clientX-s.initialTouchX),w=Math.abs(_.clientY-s.initialTouchY),A=5;s.userIsDragging=E>A||w>A}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var m=s.props.inputValue,_=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(_,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var m=s.getFocusableOptions(),_=m.indexOf(h);s.setState({focusedOption:h,focusedOptionId:_>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return rb(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var m=s.props,_=m.isMulti,E=m.backspaceRemovesValue,w=m.escapeClearsValue,A=m.inputValue,D=m.isClearable,R=m.isDisabled,b=m.menuIsOpen,$=m.onKeyDown,K=m.tabSelectsValue,Q=m.openMenuOnFocus,te=s.state,z=te.focusedOption,Z=te.focusedValue,x=te.selectValue;if(!R&&!(typeof $=="function"&&($(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!_||A)return;s.focusValue("previous");break;case"ArrowRight":if(!_||A)return;s.focusValue("next");break;case"Delete":case"Backspace":if(A)return;if(Z)s.removeValue(Z);else{if(!E)return;_?s.popValue():D&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!b||!K||!z||Q&&s.isOptionSelected(z,x))return;s.selectOption(z);break;case"Enter":if(h.keyCode===229)break;if(b){if(!z||s.isComposing)return;s.selectOption(z);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:A}),s.onMenuClose()):D&&w&&s.clearValue();break;case" ":if(A)return;if(!b){s.openMenu("first");break}if(!z)return;s.selectOption(z);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++HL),s.state.selectValue=C0(r.value),r.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),f=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=u[f],s.state.focusedOptionId=Dp(a,u[f])}return s}return cM(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&P0(this.menuListRef,this.focusedOptionRef),xL()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var a=this.props,u=a.isDisabled,f=a.menuIsOpen,h=this.state.isFocused;(h&&!u&&s.isDisabled||h&&f&&!s.menuIsOpen)&&this.focusInput(),h&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(P0(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,u=this.state,f=u.selectValue,h=u.isFocused,m=this.buildFocusableOptions(),_=s==="first"?0:m.length-1;if(!this.props.isMulti){var E=m.indexOf(f[0]);E>-1&&(_=E)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[_],focusedOptionId:this.getFocusedOptionId(m[_])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,u=a.selectValue,f=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=u.indexOf(f);f||(h=-1);var m=u.length-1,_=-1;if(u.length){switch(s){case"previous":h===0?_=0:h===-1?_=m:_=h-1;break;case"next":h>-1&&h<m&&(_=h+1);break}this.setState({inputIsHidden:_!==-1,focusedValue:u[_]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var h=0,m=f.indexOf(u);u||(m=-1),s==="up"?h=m>0?m-1:f.length-1:s==="down"?h=(m+1)%f.length:s==="pageup"?(h=m-a,h<0&&(h=0)):s==="pagedown"?(h=m+a,h>f.length-1&&(h=f.length-1)):s==="last"&&(h=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[h])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Op):xe(xe({},Op),this.props.theme):Op})},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,u=this.getStyles,f=this.getClassNames,h=this.getValue,m=this.selectOption,_=this.setValue,E=this.props,w=E.isMulti,A=E.isRtl,D=E.options,R=this.hasValue();return{clearValue:s,cx:a,getStyles:u,getClassNames:f,getValue:h,hasValue:R,isMulti:w,isRtl:A,options:D,selectOption:m,selectProps:E,setValue:_,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,u=s.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(s,a){return eb(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return tb(this.props,s,a)}},{key:"filterOption",value:function(s,a){return nb(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:u,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,a=s.isDisabled,u=s.isSearchable,f=s.inputId,h=s.inputValue,m=s.tabIndex,_=s.form,E=s.menuIsOpen,w=s.required,A=this.getComponents(),D=A.Input,R=this.state,b=R.inputIsHidden,$=R.ariaSelection,K=this.commonProps,Q=f||this.getElementId("input"),te=xe(xe(xe({"aria-autocomplete":"list","aria-expanded":E,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},E&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?($==null?void 0:$.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?O.createElement(D,ke({},K,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Q,innerRef:this.getInputRef,isDisabled:a,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:_,type:"text",value:h},te)):O.createElement(vL,ke({id:Q,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Jd,onFocus:this.onInputFocus,disabled:a,tabIndex:m,inputMode:"none",form:_,value:""},te))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),u=a.MultiValue,f=a.MultiValueContainer,h=a.MultiValueLabel,m=a.MultiValueRemove,_=a.SingleValue,E=a.Placeholder,w=this.commonProps,A=this.props,D=A.controlShouldRenderValue,R=A.isDisabled,b=A.isMulti,$=A.inputValue,K=A.placeholder,Q=this.state,te=Q.selectValue,z=Q.focusedValue,Z=Q.isFocused;if(!this.hasValue()||!D)return $?null:O.createElement(E,ke({},w,{key:"placeholder",isDisabled:R,isFocused:Z,innerProps:{id:this.getElementId("placeholder")}}),K);if(b)return te.map(function(P,k){var L=P===z,V="".concat(s.getOptionLabel(P),"-").concat(s.getOptionValue(P));return O.createElement(u,ke({},w,{components:{Container:f,Label:h,Remove:m},isFocused:L,isDisabled:R,key:V,index:k,removeProps:{onClick:function(){return s.removeValue(P)},onTouchEnd:function(){return s.removeValue(P)},onMouseDown:function(N){N.preventDefault()}},data:P}),s.formatOptionLabel(P,"value"))});if($)return null;var x=te[0];return O.createElement(_,ke({},w,{data:x,isDisabled:R}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,m=f.isLoading,_=this.state.isFocused;if(!this.isClearable()||!a||h||!this.hasValue()||m)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(a,ke({},u,{innerProps:E,isFocused:_}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,m=f.isLoading,_=this.state.isFocused;if(!a||!m)return null;var E={"aria-hidden":"true"};return O.createElement(a,ke({},u,{innerProps:E,isDisabled:h,isFocused:_}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,u=s.IndicatorSeparator;if(!a||!u)return null;var f=this.commonProps,h=this.props.isDisabled,m=this.state.isFocused;return O.createElement(u,ke({},f,{isDisabled:h,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var u=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(a,ke({},u,{innerProps:m,isDisabled:f,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),u=a.Group,f=a.GroupHeading,h=a.Menu,m=a.MenuList,_=a.MenuPortal,E=a.LoadingMessage,w=a.NoOptionsMessage,A=a.Option,D=this.commonProps,R=this.state.focusedOption,b=this.props,$=b.captureMenuScroll,K=b.inputValue,Q=b.isLoading,te=b.loadingMessage,z=b.minMenuHeight,Z=b.maxMenuHeight,x=b.menuIsOpen,P=b.menuPlacement,k=b.menuPosition,L=b.menuPortalTarget,V=b.menuShouldBlockScroll,j=b.menuShouldScrollIntoView,N=b.noOptionsMessage,Fe=b.onMenuScrollToTop,Oe=b.onMenuScrollToBottom;if(!x)return null;var $e=function(fe,ge){var Pe=fe.type,le=fe.data,Ve=fe.isDisabled,De=fe.isSelected,Ge=fe.label,St=fe.value,ie=R===le,qe=Ve?void 0:function(){return s.onOptionHover(le)},st=Ve?void 0:function(){return s.selectOption(le)},rt="".concat(s.getElementId("option"),"-").concat(ge),ot={id:rt,onClick:st,onMouseMove:qe,onMouseOver:qe,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:De};return O.createElement(A,ke({},D,{innerProps:ot,data:le,isDisabled:Ve,isSelected:De,key:rt,label:Ge,type:Pe,value:St,isFocused:ie,innerRef:ie?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(fe.data,"menu"))},Me;if(this.hasOptions())Me=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var fe=U.data,ge=U.options,Pe=U.index,le="".concat(s.getElementId("group"),"-").concat(Pe),Ve="".concat(le,"-heading");return O.createElement(u,ke({},D,{key:le,data:fe,options:ge,Heading:f,headingProps:{id:Ve,data:U.data},label:s.formatGroupLabel(U.data)}),U.options.map(function(De){return $e(De,"".concat(Pe,"-").concat(De.index))}))}else if(U.type==="option")return $e(U,"".concat(U.index))});else if(Q){var ae=te({inputValue:K});if(ae===null)return null;Me=O.createElement(E,D,ae)}else{var ye=N({inputValue:K});if(ye===null)return null;Me=O.createElement(w,D,ye)}var de={minMenuHeight:z,maxMenuHeight:Z,menuPlacement:P,menuPosition:k,menuShouldScrollIntoView:j},W=O.createElement(QV,ke({},D,de),function(U){var fe=U.ref,ge=U.placerProps,Pe=ge.placement,le=ge.maxHeight;return O.createElement(h,ke({},D,de,{innerRef:fe,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:Q,placement:Pe}),O.createElement(TL,{captureEnabled:$,onTopArrive:Fe,onBottomArrive:Oe,lockEnabled:V},function(Ve){return O.createElement(m,ke({},D,{innerRef:function(Ge){s.getMenuListRef(Ge),Ve(Ge)},innerProps:{role:"listbox","aria-multiselectable":D.isMulti,id:s.getElementId("listbox")},isLoading:Q,maxHeight:le,focusedOption:R}),Me)}))});return L||k==="fixed"?O.createElement(_,ke({},D,{appendTo:L,controlElement:this.controlRef,menuPlacement:P,menuPosition:k}),W):W}},{key:"renderFormField",value:function(){var s=this,a=this.props,u=a.delimiter,f=a.isDisabled,h=a.isMulti,m=a.name,_=a.required,E=this.state.selectValue;if(_&&!this.hasValue()&&!f)return O.createElement(CL,{name:m,onFocus:this.onValueInputFocus});if(!(!m||f))if(h)if(u){var w=E.map(function(R){return s.getOptionValue(R)}).join(u);return O.createElement("input",{name:m,type:"hidden",value:w})}else{var A=E.length>0?E.map(function(R,b){return O.createElement("input",{key:"i-".concat(b),name:m,type:"hidden",value:s.getOptionValue(R)})}):O.createElement("input",{name:m,type:"hidden",value:""});return O.createElement("div",null,A)}else{var D=E[0]?this.getOptionValue(E[0]):"";return O.createElement("input",{name:m,type:"hidden",value:D})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,u=a.ariaSelection,f=a.focusedOption,h=a.focusedValue,m=a.isFocused,_=a.selectValue,E=this.getFocusableOptions();return O.createElement(dL,ke({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:h,isFocused:m,selectValue:_,focusableOptions:E,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,u=s.IndicatorsContainer,f=s.SelectContainer,h=s.ValueContainer,m=this.props,_=m.className,E=m.id,w=m.isDisabled,A=m.menuIsOpen,D=this.state.isFocused,R=this.commonProps=this.getCommonProps();return O.createElement(f,ke({},R,{className:_,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:D}),this.renderLiveRegion(),O.createElement(a,ke({},R,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:D,menuIsOpen:A}),O.createElement(h,ke({},R,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),O.createElement(u,ke({},R,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var u=a.prevProps,f=a.clearFocusValueOnUpdate,h=a.inputIsHiddenAfterUpdate,m=a.ariaSelection,_=a.isFocused,E=a.prevWasFocused,w=a.instancePrefix,A=s.options,D=s.value,R=s.menuIsOpen,b=s.inputValue,$=s.isMulti,K=C0(D),Q={};if(u&&(D!==u.value||A!==u.options||R!==u.menuIsOpen||b!==u.inputValue)){var te=R?$L(s,K):[],z=R?z0(Td(s,K),"".concat(w,"-option")):[],Z=f?BL(a,K):null,x=WL(a,te),P=Dp(z,x);Q={selectValue:K,focusedOption:x,focusedOptionId:P,focusableOptionsWithIds:z,focusedValue:Z,clearFocusValueOnUpdate:!1}}var k=h!=null&&s!==u?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},L=m,V=_&&E;return _&&!V&&(L={value:ld($,K,K[0]||null),options:K,action:"initial-input-focus"},V=!E),(m==null?void 0:m.action)==="initial-input-focus"&&(L=null),xe(xe(xe({},Q),k),{},{prevProps:s,ariaSelection:L,prevWasFocused:V})}}]),t})(O.Component);ib.defaultProps=zL;var qL=O.forwardRef(function(n,e){var t=lM(n);return O.createElement(ib,ke({ref:e},t))}),B0=qL;const nu=["Anagrafica","Stato fisico","Obiettivi"];function we(n){return typeof n=="string"?n:n==null?"":String(n)}function ud(n){const e=we(n.id).trim(),t=we(n.uid).trim();return e||t}function Ba(n){return Array.isArray(n)?n.map(e=>{if(!e||typeof e!="object")return null;const t=e,r=Number(we(t.weight).replace(/[^\d.-]/g,"")),s=we(t.advancedMethod).trim(),a=s==="rest_pause"||s==="drop_set"?s:"",u=we(t.advancedMethodNotes),f=we(t.restPauseNotes),h=we(t.dropSetNotes),m=we(t.mediaUrl).trim(),_=we(t.videoUrl).trim(),E=we(t.imageUrl).trim(),w=_||(sb(m)?m:""),A=E||(Id(m)?m:"");return{name:we(t.name),notes:we(t.notes),advancedMethod:a,advancedMethodNotes:u,restPauseNotes:f||(a==="rest_pause"?u:""),dropSetNotes:h||(a==="drop_set"?u:""),sets:Number(t.sets??3)||3,reps:Number(t.reps??10)||10,workValue:Number(t.workValue??t.reps??10)||10,weightKg:Number(t.weightKg??r??0)||0,restSeconds:Number(t.restSeconds??60)||60,videoUrl:w,imageUrl:A,mediaUrl:m||w||A}}).filter(e=>!!e):[]}function xt(n){return we(n).trim()||"Non compilato"}function KL(n){const e=n.replace(/[^\d+]/g,"").replace(/\s+/g,"");return e?e.startsWith("+")?e.slice(1):e.startsWith("00")?e.slice(2):e.startsWith("39")?e:e.length>=9?`39${e}`:e:""}function GL(n,e){const t=KL(n),r=e!=null&&e.trim()?`Ciao ${e.trim()},`:"Ciao,",s=encodeURIComponent(`${r} la tua scheda tecnica  pronta. Quando vuoi possiamo rivederla insieme.`);return t?`https://wa.me/${t}?text=${s}`:""}function sb(n){return n.includes("youtube.com")||n.includes("youtu.be")||/\.(mp4|webm|mov|m4v|ogg)(\?.*)?$/i.test(n)}function Id(n){return/\.(jpg|jpeg|png|gif|webp|avif|svg)(\?.*)?$/i.test(n)}function Hs(){return{name:"",notes:"",advancedMethod:"",advancedMethodNotes:"",restPauseNotes:"",dropSetNotes:"",sets:3,reps:10,workValue:10,weightKg:0,restSeconds:60,videoUrl:"",imageUrl:"",mediaUrl:""}}function QL(n){return n.name.trim().length>0||n.notes.trim().length>0||n.advancedMethod.trim().length>0||n.advancedMethodNotes.trim().length>0||n.restPauseNotes.trim().length>0||n.dropSetNotes.trim().length>0||n.videoUrl.trim().length>0||n.imageUrl.trim().length>0||n.mediaUrl.trim().length>0||Number(n.sets||0)!==3||Number(n.reps||0)!==10||Number(n.workValue||0)!==10||Number(n.weightKg||0)>0||Number(n.restSeconds||0)!==60}function Pi(n){n.currentTarget.select()}function Wa(n){return n?n==="0"?"0":n.replace(/^0+(?=\d)/,""):""}function ru(n){const e=Wa(n);if(!e)return"";const t=Number(e);return Number.isFinite(t)?t:""}function ob(n){return{fullName:(n==null?void 0:n.name)??"",age:"",sex:"",email:(n==null?void 0:n.email)??"",phone:"",discoverySource:"",heightCm:"",weightKg:"",pastProgram:"",trainingFrequency:"",workoutDuration:"",workoutLocation:"",equipment:"",trainingTypeHistory:"",hasInjuries:"",injuryDetails:"",objectivePrimary:"",objectiveReason:"",expectedTimeline:"",supportPreference:"",supportPreferenceOther:"",investmentRange:"",whatBlockedSoFar:"",oneThingToImprove:"",importanceScore:"",riskIfNoChange:"",readiness:"",notes:""}}function W0(n,e){const t=ob(e);return n?{...t,fullName:we(n.fullName).trim()||t.fullName,age:we(n.age).trim(),sex:we(n.sex).trim(),email:we(n.email).trim()||t.email,phone:we(n.phone).trim(),discoverySource:we(n.discoverySource).trim(),heightCm:we(n.heightCm).trim(),weightKg:we(n.weightKg).trim(),pastProgram:we(n.pastProgram).trim(),trainingFrequency:we(n.trainingFrequency).trim(),workoutDuration:we(n.workoutDuration).trim(),workoutLocation:we(n.workoutLocation).trim(),equipment:we(n.equipment).trim(),trainingTypeHistory:we(n.trainingTypeHistory).trim(),hasInjuries:we(n.hasInjuries).trim(),injuryDetails:we(n.injuryDetails).trim(),objectivePrimary:we(n.objectivePrimary).trim(),objectiveReason:we(n.objectiveReason).trim(),expectedTimeline:we(n.expectedTimeline).trim(),supportPreference:we(n.supportPreference).trim(),supportPreferenceOther:we(n.supportPreferenceOther).trim(),investmentRange:we(n.investmentRange).trim(),whatBlockedSoFar:we(n.whatBlockedSoFar).trim(),oneThingToImprove:we(n.oneThingToImprove).trim(),importanceScore:n.importanceScore!=null?String(n.importanceScore):"",riskIfNoChange:we(n.riskIfNoChange).trim(),readiness:we(n.readiness).trim(),notes:we(n.notes).trim()}:t}function XL(n){return n.includes("1-2")?2:n.includes("3-4")?4:n.includes("5")?5:0}function La(n){if(!n)return"Non disponibile";const e=new Date(n);return Number.isNaN(e.getTime())?"Non disponibile":e.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"})}function Mp(n){if(!n)return null;if(typeof n=="string"){const e=new Date(n);return Number.isNaN(e.getTime())?null:e.toISOString()}if(n instanceof Date)return Number.isNaN(n.getTime())?null:n.toISOString();if(typeof n=="object"&&n&&"toDate"in n&&typeof n.toDate=="function"){const e=n.toDate();return Number.isNaN(e.getTime())?null:e.toISOString()}return null}function H0(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}function q0(n){switch(n){case"trial_pending":return"Prova da attivare";case"trial_active":return"Prova attiva";case"active_paid":return"Abbonamento attivo";case"expired":return"Scaduto";case"disabled":return"Disattivato";case"supervisor_active":return"Supervisor attivo";default:return"Non disponibile"}}function uu(n){if(!n)return null;const e=new Date(n).getTime();return Number.isNaN(e)?null:e}function Vp(n){return n.status==="trial_active"?n.trialEndsAt??n.expiresAt??n.subscriptionEndsAt??null:n.status==="active_paid"?n.subscriptionEndsAt??n.expiresAt??n.trialEndsAt??null:n.expiresAt??n.trialEndsAt??n.subscriptionEndsAt??null}function YL(n,e){if(n==="expired")return{label:"Scaduto",tone:"danger"};const t=uu(e);if(!t)return null;const r=Date.now();if(t<=r)return{label:"Scaduto",tone:"danger"};const s=10080*60*1e3;return t-r<=s?{label:"In scadenza",tone:"warning"}:null}function JL(n){var r;const e={},t=n.clientWeightOverrides;if(t&&typeof t=="object"){for(const[s,a]of Object.entries(t))if(!(!a||typeof a!="object"))for(const[u,f]of Object.entries(a)){const h=Number(f);!Number.isFinite(h)||h<0||(e[s]=e[s]??{},e[s][u]=h)}}for(const[s,a]of Object.entries(n)){if(!s.startsWith("clientWeightOverrides."))continue;const[,u,f]=s.split(".");if(!u||f==null||((r=e[u])==null?void 0:r[f])!==void 0)continue;const h=Number(a);!Number.isFinite(h)||h<0||(e[u]=e[u]??{},e[u][f]=h)}return e}function ab(n,e){const t=JL(n);if(Object.keys(t).length===0)return[];const r=Ba(n.exercises),s=[];for(const[a,u]of Object.entries(t)){if(!u||typeof u!="object")continue;const f=[];for(const[h,m]of Object.entries(u)){const _=Number(h);if(!Number.isInteger(_)||_<0||_>=r.length)continue;const E=Number(m);if(!Number.isFinite(E))continue;const w=r[_],A=Number(w.weightKg||0);if(E===A)continue;const D=w.name.trim()||`Esercizio ${_+1}`;f.push(`${D}: ${A} kg -> ${E} kg`)}f.length!==0&&s.push({clientId:a,clientLabel:e[a]||a,lines:f})}return s}function ZL(n,e){return ab(n,e).reduce((t,r)=>t+r.lines.length,0)}function e4(){const{role:n,user:e,isSupervisor:t}=ta(),r=cl(),{showError:s,showSuccess:a}=nh(),[u,f]=O.useState([]),[h,m]=O.useState([]),[_,E]=O.useState(!1),[w,A]=O.useState(null),[D,R]=O.useState(!1),[b,$]=O.useState(!1),[K,Q]=O.useState(!1),[te,z]=O.useState({}),[Z,x]=O.useState(!1),[P,k]=O.useState(!1),[L,V]=O.useState(!1),[j,N]=O.useState(""),[Fe,Oe]=O.useState(""),[$e,Me]=O.useState(!1),[ae,ye]=O.useState(!1),[de,W]=O.useState(0),[U,fe]=O.useState(ob()),[ge,Pe]=O.useState(null),[le,Ve]=O.useState(null),[De,Ge]=O.useState(!1),[St,ie]=O.useState([]),[qe,st]=O.useState(""),[rt,ot]=O.useState(""),[zt,Pt]=O.useState(""),[lt,rn]=O.useState("clients"),[pt,Vt]=O.useState(""),[et,dt]=O.useState(""),[Wr,Hr]=O.useState(!1),[mt,Tt]=O.useState("series_reps"),[br,qr]=O.useState(""),[hr,Bn]=O.useState(""),[Cr,Pr]=O.useState(""),[Ui,Wn]=O.useState([Hs()]),[Kr,zi]=O.useState([]),[$i,Gr]=O.useState(!1),[Ar,Vn]=O.useState(""),[En,pi]=O.useState("permanent"),[Hn,Ss]=O.useState("4"),[Qr,Ts]=O.useState(H0(new Date)),Rr=ge!==null,sn=u.find(I=>ud(I)===pt)??null,Ze=[...h].sort((I,X)=>{const ee=uu(we(I.createdAt))??0;return(uu(we(X.createdAt))??0)-ee}),Be=Ze.find(I=>I.id===et)??null,Sn=D?Be:null,Nt=b?Be:null,mi=GL(we(w==null?void 0:w.phone),we(w==null?void 0:w.fullName)),qn=u.reduce((I,X)=>{const ee=we(X.displayName).trim()||we(X.email).trim()||X.id;return I[ud(X)]=ee,I[X.id]=ee,I},{}),Kn=Nt?ab(Nt,qn):[],Xr=u.map(I=>({value:ud(I),label:we(I.displayName).trim()||we(I.email)||I.id})),na=Be?Xr.filter(I=>!(Be.assignedClientIds??[]).includes(I.value)):Xr,Is=Xr.filter(I=>Kr.includes(I.value)),ra=Xr.find(I=>I.value===pt)??null,Gn=Math.round((de+1)/nu.length*100),Bi=[{id:"code",label:"Codice",mobileLabel:"Codice",icon:""},{id:"clients",label:"Clienti",mobileLabel:"Clienti",icon:""},{id:"plans",label:"Schede",mobileLabel:"Schede",icon:""},{id:"overview",label:"Panoramica",mobileLabel:"Dashboard",icon:""},...t?[{id:"supervisor",label:"Supervisor",mobileLabel:"Admin",icon:""}]:[]],Qn=St.filter(I=>I.uid!==(e==null?void 0:e.uid)).filter(I=>!I.isSupervisor).filter(I=>{const X=qe.trim().toLowerCase();return X?I.displayName.toLowerCase().includes(X)||I.email.toLowerCase().includes(X):!0}).sort((I,X)=>{const ee=uu(Vp(I))??Number.MAX_SAFE_INTEGER,Ie=uu(Vp(X))??Number.MAX_SAFE_INTEGER;return ee-Ie});O.useEffect(()=>{!t&&lt==="supervisor"&&rn("clients")},[t,lt]);const vo=O.useMemo(()=>({control:(I,X)=>({...I,minHeight:48,borderRadius:12,borderColor:X.isFocused?"#ff6a00":"rgba(18,18,18,0.16)",boxShadow:X.isFocused?"0 0 0 2px rgba(255,106,0,0.20)":"none",backgroundColor:"#fff","&:hover":{borderColor:"#ff6a00"}}),menu:I=>({...I,borderRadius:12,overflow:"hidden",zIndex:50}),option:(I,X)=>({...I,backgroundColor:X.isSelected?"#ff6a00":X.isFocused?"rgba(255,106,0,0.10)":"#fff",color:X.isSelected?"#fff":"#121212",cursor:"pointer"})}),[]);O.useEffect(()=>{async function I(){if(!pt){A(null);return}try{const X=await cI(pt,"onboarding");A(X.data()??null)}catch{A(null)}}I()},[pt]),O.useEffect(()=>{var I;!et&&Ze.length>0&&!Wr&&dt(Ze[0].id),et&&!Ze.some(X=>X.id===et)&&dt(((I=Ze[0])==null?void 0:I.id)??"")},[et,Wr,Ze.map(I=>I.id).join("|")]),O.useEffect(()=>{Be||$(!1)},[Be==null?void 0:Be.id]),O.useEffect(()=>{b||z({})},[b,Be==null?void 0:Be.id]);async function Wi(){if(n){E(!0);try{const ee=(await uI(e==null?void 0:e.uid)).docs.map(Ie=>({id:Ie.id,...Ie.data()})).sort((Ie,He)=>{const xr=we(Ie.displayName||Ie.email||Ie.id).toLowerCase(),fr=we(He.displayName||He.email||He.id).toLowerCase();return xr.localeCompare(fr)});f(ee),!pt&&ee[0]&&Vt(ud(ee[0]));try{const Ie=await dI(n);m(Ie.docs.map(He=>({id:He.id,...He.data()})))}catch(Ie){m([]),s(kt(Ie))}}catch(I){console.error("Coach action failed:",I),s(kt(I))}finally{E(!1)}}}O.useEffect(()=>{Wi()},[n,e==null?void 0:e.uid]),O.useEffect(()=>{!le||le.isSupervisor||le.isExpired&&Er().finally(()=>{sessionStorage.setItem("bw_login_intent","coach"),r("/auth",{replace:!0})})},[le==null?void 0:le.status,le==null?void 0:le.isExpired,le==null?void 0:le.isSupervisor]),O.useEffect(()=>{async function I(){if(!(!n||n==="client")){Ge(!0);try{const X=await n0();Ve(X)}catch(X){s(kt(X))}finally{Ge(!1)}}}I()},[n,e==null?void 0:e.uid]),O.useEffect(()=>{async function I(){if(e!=null&&e.uid)try{const ee=(await Xa(e.uid)).data(),Ie=we(ee==null?void 0:ee.phone).trim();N(Ie),Oe(Ie)}catch{N(""),Oe("")}}I()},[e==null?void 0:e.uid]);async function Hi(){if(t)try{const I=await m2();ie(I.coaches??[])}catch(I){s(kt(I))}}O.useEffect(()=>{Hi()},[t,e==null?void 0:e.uid]);async function jn(I,X){E(!0);try{const ee=await I();return a(X),await Wi(),ee}catch(ee){s(kt(ee))}finally{E(!1)}}function yo(){Wn(I=>[...I,Hs()])}function ia(I){Wn(X=>X.length<=1?X:X.filter((ee,Ie)=>Ie!==I))}function El(I){We(I,Hs())}function We(I,X){Wn(ee=>ee.map((Ie,He)=>He===I?{...Ie,...X}:Ie))}function gt(I,X){fe(ee=>({...ee,[I]:X}))}function qi(){if(!Be){Tt("series_reps"),qr(""),Bn(""),Pr(""),Wn([Hs()]);return}Tt(Be.kind==="circuit"?"circuit":"series_reps"),qr(Be.title??""),Bn(we(Be.warmup)),Pr(we(Be.notes));const I=Ba(Be.exercises).filter(X=>X.name.trim().length>0);Wn(I.length>0?I:[Hs()])}function Yr(I){if(I===mt)return;if(Ui.some(ee=>QL(ee))||Cr.trim().length>0||hr.trim().length>0){if(!window.confirm("Cambiando categoria di allenamento, i dati inseriti in questa scheda verranno cancellati. Vuoi continuare?"))return;Wn([Hs()]),Pr(""),Bn("")}Tt(I)}function Xn(){const I=document.body;let X=!1;const ee=()=>{X||(X=!0,I.classList.remove("print-plan-only"))};I.classList.add("print-plan-only"),window.addEventListener("afterprint",ee,{once:!0}),window.setTimeout(()=>{window.print()},80),window.setTimeout(ee,12e3)}function _o(){if(!pt){s("Seleziona prima un cliente.");return}const I={name:we(sn==null?void 0:sn.displayName).trim(),email:we(sn==null?void 0:sn.email).trim()};fe(W0(w,I)),W(0),x(!0)}function wo(){const I={name:we(sn==null?void 0:sn.displayName).trim(),email:we(sn==null?void 0:sn.email).trim()};fe(W0(w,I)),W(0),x(!1)}function Ki(){return U.fullName.trim()?U.email.trim()?U.phone.trim()?U.age.trim()?U.sex.trim()?U.heightCm.trim()?U.weightKg.trim()?U.pastProgram.trim()?U.trainingFrequency.trim()?U.workoutDuration.trim()?U.workoutLocation.trim()?U.equipment.trim()?U.objectivePrimary.trim()?U.objectiveReason.trim()?U.expectedTimeline.trim()?null:"Compila timeline risultati.":"Compila motivo obiettivo.":"Compila obiettivo principale.":"Compila attrezzatura.":"Compila luogo allenamento.":"Compila durata allenamento.":"Compila frequenza allenamento.":"Compila esperienza allenamento.":"Inserisci peso.":"Inserisci altezza.":"Inserisci sesso.":"Inserisci et.":"Inserisci numero di telefono.":"Inserisci e-mail.":"Inserisci nome e cognome."}async function Ln(){if(!pt){s("Seleziona prima un cliente.");return}const I=Ki();if(I){s(I);return}const X={fullName:U.fullName.trim(),age:U.age.trim(),sex:U.sex.trim(),email:U.email.trim(),phone:U.phone.trim(),discoverySource:U.discoverySource.trim(),heightCm:U.heightCm.trim(),weightKg:U.weightKg.trim(),pastProgram:U.pastProgram.trim(),trainingFrequency:U.trainingFrequency.trim(),workoutDuration:U.workoutDuration.trim(),workoutLocation:U.workoutLocation.trim(),equipment:U.equipment.trim(),trainingTypeHistory:U.trainingTypeHistory.trim(),hasInjuries:U.hasInjuries.trim(),injuryDetails:U.injuryDetails.trim(),objectivePrimary:U.objectivePrimary.trim(),objectiveReason:U.objectiveReason.trim(),expectedTimeline:U.expectedTimeline.trim(),supportPreference:U.supportPreference.trim(),supportPreferenceOther:U.supportPreferenceOther.trim(),investmentRange:U.investmentRange.trim(),whatBlockedSoFar:U.whatBlockedSoFar.trim(),oneThingToImprove:U.oneThingToImprove.trim(),importanceScore:Number(U.importanceScore||0),riskIfNoChange:U.riskIfNoChange.trim(),readiness:U.readiness.trim(),goal:U.objectivePrimary.trim(),experienceLevel:U.pastProgram.trim(),trainingDaysPerWeek:XL(U.trainingFrequency),notes:U.notes.trim(),compiledBy:"coach"};E(!0);try{await D2(pt,X),A(X),a("Anagrafica cliente salvata con successo."),x(!1)}catch(ee){s(kt(ee))}finally{E(!1)}}async function sa(){const I=br.trim();if(!I){s("Inserisci un titolo per la scheda.");return}const X=Ui.map(ee=>({name:ee.name.trim(),notes:ee.notes.trim(),advancedMethod:ee.advancedMethod||"",restPauseNotes:ee.restPauseNotes.trim(),dropSetNotes:ee.dropSetNotes.trim(),advancedMethodNotes:ee.advancedMethod==="rest_pause"?ee.restPauseNotes.trim():ee.advancedMethod==="drop_set"?ee.dropSetNotes.trim():"",sets:mt==="series_reps"&&Number(ee.sets)||0,reps:mt==="series_reps"&&Number(ee.reps)||0,workValue:mt==="circuit"&&Number(ee.workValue)||0,weightKg:Number(ee.weightKg)||0,restSeconds:Number(ee.restSeconds)||0,videoUrl:ee.videoUrl.trim(),imageUrl:ee.imageUrl.trim(),mediaUrl:(ee.videoUrl||ee.imageUrl||ee.mediaUrl).trim()})).filter(ee=>ee.name.length>0);if(X.length===0){s("Aggiungi almeno un esercizio con nome.");return}if(Sn)await jn(()=>L2(Sn.id,{title:I,kind:mt,warmup:hr.trim(),notes:Cr.trim(),status:"active",exercises:X}),"Scheda aggiornata con successo."),dt(Sn.id);else{const ee=await jn(()=>a0({title:I,kind:mt,warmup:hr.trim(),notes:Cr.trim(),status:"active",exercises:X}),"Scheda creata.");ee!=null&&ee.id&&dt(ee.id)}Hr(!1),R(!1)}function dn(){Hr(!0),dt(""),Tt("series_reps"),qr(""),Bn(""),Pr(""),Wn([Hs()]),R(!0)}function Eo(I){const X=Ze.find(Ie=>Ie.id===I);if(!X)return;Hr(!1),dt(X.id),Tt(X.kind==="circuit"?"circuit":"series_reps"),qr(X.title??""),Bn(we(X.warmup)),Pr(we(X.notes));const ee=Ba(X.exercises).filter(Ie=>Ie.name.trim().length>0);Wn(ee.length>0?ee:[Hs()]),R(!0)}function So(){Hr(!1),qi(),R(!1)}async function oa(I,X){if(X){if(!X.type.startsWith("image/")){s("Puoi caricare solo immagini. Per i video usa il campo URL.");return}Pe(I);try{const ee=(Be==null?void 0:Be.id)||(e==null?void 0:e.uid)||"coach-draft",Ie=await U2(ee,X);We(I,{imageUrl:Ie,mediaUrl:Ie}),a("Media caricato con successo.")}catch(ee){console.error("Media upload failed:",ee),s(kt(ee))}finally{Pe(null)}}}async function bs(I){const X=Ze.find(Ie=>Ie.id===I);!X||!window.confirm("Vuoi davvero eliminare tutta la scheda tecnica di questo cliente?")||(await jn(()=>F2(X.id),"Scheda eliminata con successo."),dt(Ie=>Ie===X.id?"":Ie),R(!1),$(!1))}async function Cs(I){const X=Ze.find(He=>He.id===I);if(!X)return;const ee=Ba(X.exercises).map(He=>({name:He.name,notes:He.notes,advancedMethod:He.advancedMethod,advancedMethodNotes:He.advancedMethodNotes,restPauseNotes:He.restPauseNotes,dropSetNotes:He.dropSetNotes,sets:He.sets,reps:He.reps,workValue:He.workValue,weightKg:He.weightKg,restSeconds:He.restSeconds,videoUrl:He.videoUrl,imageUrl:He.imageUrl,mediaUrl:He.mediaUrl})),Ie=await jn(()=>a0({title:`${X.title||"Scheda"} (Copia)`,kind:X.kind==="circuit"?"circuit":"series_reps",notes:we(X.notes),status:X.status==="archived"?"draft":"active",exercises:ee}),"Scheda duplicata.");Ie!=null&&Ie.id&&dt(Ie.id)}async function gi(){if(!Be){s("Seleziona prima una scheda.");return}if(Kr.length===0){s("Seleziona almeno un cliente da assegnare.");return}await jn(()=>Promise.all(Kr.map(I=>M2(Be.id,I))),Kr.length===1?"Scheda assegnata al cliente.":"Scheda assegnata ai clienti selezionati."),zi([])}async function Gi(I){Be&&await jn(()=>V2(Be.id,I),"Assegnazione rimossa.")}function Sl(I,X){var Yn;const ee=(Yn=I.assignmentDetails)==null?void 0:Yn[X];if(!ee||ee.mode!=="timed")return{label:"Permanente",tone:"success"};const Ie=Mp(ee.startsAt),He=Mp(ee.expiresAt);if(!He)return{label:"Permanente",tone:"success"};if(Ie){const Jn=new Date(Ie).getTime();if(!Number.isNaN(Jn)&&Jn>Date.now())return{label:`Inizia il ${La(Ie)}`,tone:"warning"}}const xr=new Date(He).getTime();if(Number.isNaN(xr))return{label:"Permanente",tone:"success"};const fr=Date.now();if(xr<=fr)return{label:"Scaduta",tone:"danger"};const kr=10080*60*1e3,Jt=xr-fr<=kr?"warning":"success";return{label:`Scade il ${La(He)}`,tone:Jt}}function Jr(I){var fr;if(!Be)return;const X=(fr=Be.assignmentDetails)==null?void 0:fr[I],ee=(X==null?void 0:X.mode)==="timed",Ie=typeof(X==null?void 0:X.weeks)=="number"&&X.weeks>0?X.weeks:4,He=Mp(X==null?void 0:X.startsAt),xr=He?new Date(He):new Date;Vn(I),pi(ee?"timed":"permanent"),Ss(String(Ie)),Ts(H0(xr)),Gr(!0)}function hn(){if(En!=="timed")return null;const I=Number(Hn);if(!Number.isFinite(I)||I<1)return null;const X=new Date(Qr);if(Number.isNaN(X.getTime()))return null;const ee=new Date(X.getTime()+I*7*24*60*60*1e3);return{from:La(X.toISOString()),to:La(ee.toISOString())}}async function Qi(){if(!(!Be||!Ar)){if(En==="timed"){const I=Number(Hn);if(!Number.isFinite(I)||I<1){s("Inserisci un numero settimane valido.");return}const X=new Date(Qr);if(Number.isNaN(X.getTime())){s("Seleziona una data di inizio valida.");return}await jn(()=>l0(Be.id,Ar,I,X.toISOString()),"Durata assegnazione aggiornata.")}else await jn(()=>l0(Be.id,Ar,null,null),"Assegnazione impostata come permanente.");Gr(!1),Vn("")}}async function Zr(I,X){ot(I);try{if(X==="activate"){const ee=St.find(Ie=>Ie.uid===I);(ee==null?void 0:ee.status)==="disabled"?(await r0(I),a("Coach sbloccato con successo.")):(ee==null?void 0:ee.status)==="active_paid"?(await g2(I),a("Abbonamento rinnovato di 1 anno.")):(await r0(I),a("Abbonamento attivato."))}else await v2(I),a("Abbonamento disattivato.");await Hi()}catch(ee){s(kt(ee))}finally{ot("")}}async function vi(){Ge(!0);try{await sI();const I=await n0();Ve(I),a("Periodo di prova attivato.")}catch(I){s(kt(I))}finally{Ge(!1)}}async function vt(){V(!0);try{await oI(),await Er().catch(()=>{}),r("/auth",{replace:!0})}catch(I){s(kt(I))}finally{V(!1),k(!1)}}async function yi(){const I=Fe.replace(/[^\d+]/g,"").trim();if(I.length<8){s("Inserisci un numero WhatsApp valido.");return}ye(!0);try{const X=await y2(I);N(X.phone),Oe(X.phone),Me(!1),a("Numero aggiornato. I clienti associati useranno subito il nuovo contatto.")}catch(X){s(kt(X))}finally{ye(!1)}}async function Xe(){const I=we(le==null?void 0:le.coachCode).trim();if(!I){s("Codice coach non disponibile.");return}try{await navigator.clipboard.writeText(I),a("Codice coach copiato.")}catch{s("Copia non riuscita. Copia manualmente il codice.")}}return g.jsxs(mI,{role:n==="trainer"?"trainer":"admin",subtitle:"",title:"Area Coach",sections:Bi,activeSection:lt,onSectionChange:I=>rn(I),children:[le!=null&&le.requiresTrialAcceptance?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>{I.currentTarget===I.target&&Er().finally(()=>r("/auth",{replace:!0}))},children:g.jsxs("article",{className:"card modal-card fullscreen-gate",onClick:I=>I.stopPropagation(),children:[g.jsx("p",{className:"eyebrow",children:"Accesso Coach"}),g.jsx("h2",{children:"Prova gratuita 15 giorni"}),g.jsx("p",{className:"hero-sub",children:"Per entrare nell'area coach devi accettare il periodo gratuito di 15 giorni. Al termine sar necessario attivare l'abbonamento."}),g.jsx("button",{className:"btn",type:"button",disabled:De,onClick:()=>void vi(),children:De?"Attivazione...":"Accetta e continua"}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>{Er().finally(()=>r("/auth",{replace:!0}))},children:"Esci"})]})}):null,lt==="code"?g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:"Il tuo codice coach"}),g.jsx("p",{className:"hero-sub",children:"Invia questo codice al cliente:  obbligatorio per associarlo a te in onboarding."}),g.jsxs("div",{className:"coach-code-wrap",children:[g.jsx("p",{className:"coach-code",children:(le==null?void 0:le.coachCode)||"Caricamento..."}),g.jsx("button",{className:"icon-btn coach-copy-btn",type:"button","aria-label":"Copia codice coach",title:"Copia codice coach",onClick:()=>void Xe(),children:""})]}),De?g.jsx("p",{className:"hint",children:"Sto verificando il tuo accesso..."}):null,g.jsxs("div",{className:"client-info-block",children:[g.jsxs("div",{className:"exercise-head",children:[g.jsx("h3",{children:"Numero WhatsApp coach"}),$e?null:g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Modifica numero coach",title:"Modifica numero coach",onClick:()=>Me(!0),children:""})]}),$e?g.jsxs(g.Fragment,{children:[g.jsxs("label",{children:["Numero telefono / WhatsApp",g.jsx("input",{type:"tel",value:Fe,onChange:I=>Oe(I.target.value),placeholder:"Es. 3405882404"})]}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:ae,onClick:()=>{Oe(j),Me(!1)},children:"Annulla"}),g.jsx("button",{className:"btn btn-primary",type:"button",disabled:ae,onClick:()=>void yi(),children:ae?"Salvataggio...":"Salva"})]})]}):g.jsx("p",{className:"hint",children:g.jsx("strong",{children:j||"Non configurato"})})]}),le!=null&&le.isSupervisor?g.jsx("p",{className:"hint",children:"Account supervisor: accesso sempre attivo, senza trial."}):g.jsxs(g.Fragment,{children:[g.jsxs("p",{className:"hint",children:["Stato accesso: ",g.jsx("strong",{children:q0(le==null?void 0:le.status)}),"  ","Scadenza: ",g.jsx("strong",{children:La((le==null?void 0:le.expiresAt)??(le==null?void 0:le.trialEndsAt)??(le==null?void 0:le.subscriptionEndsAt))})]}),g.jsx("div",{className:"divider"}),g.jsx("h3",{children:"Elimina profilo"}),g.jsx("p",{className:"hint",children:"Se elimini il profilo coach perderai accesso, abbonamento, clienti associati e tutti i dati collegati."}),g.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>k(!0),children:"Elimina il mio profilo"})]})]}):null,t&&lt==="supervisor"?g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:"Gestione coach (Supervisor)"}),g.jsxs("label",{children:["Cerca coach per nome o email",g.jsx("input",{value:qe,onChange:I=>st(I.target.value),placeholder:"Es. Mario Rossi o mario@gmail.com"})]}),g.jsxs("div",{className:"supervisor-list",children:[Qn.map(I=>{const X=Vp(I),ee=YL(I.status,X);return g.jsxs("article",{className:"supervisor-row",children:[g.jsxs("div",{children:[g.jsx("p",{children:g.jsx("strong",{children:I.displayName||"Coach senza nome"})}),g.jsx("p",{className:"hint",children:I.email}),g.jsxs("p",{className:"hint",children:["Codice: ",I.coachCode||"-"]}),g.jsxs("p",{className:"hint",children:["Stato: ",q0(I.isSupervisor?"supervisor_active":I.status)]}),g.jsxs("p",{className:"hint",children:["Scadenza: ",La(X)]}),ee?g.jsx("span",{className:`status-chip status-chip-${ee.tone}`.trim(),children:ee.label}):null]}),g.jsxs("div",{className:"supervisor-actions",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:I.isSupervisor||rt===I.uid,onClick:()=>void Zr(I.uid,"activate"),children:I.status==="disabled"?"Sblocca":I.status==="active_paid"?"Rinnova +1 anno":"Attiva"}),g.jsx("button",{className:"btn btn-danger",type:"button",disabled:I.isSupervisor||rt===I.uid,onClick:()=>void Zr(I.uid,"disable"),children:"Disattiva"})]})]},I.uid)}),Qn.length===0?g.jsx("article",{className:"supervisor-row",children:g.jsx("p",{className:"hint",children:"Nessun altro coach disponibile al momento. Quando un coach si registra, lo vedrai qui con stato e scadenza."})}):null]})]}):null,lt==="clients"||lt==="plans"?g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:lt==="plans"?"Schede tecniche":"Gestione cliente"}),lt==="clients"?g.jsxs("label",{children:["Clienti registrati",g.jsx(B0,{styles:vo,options:Xr,value:ra,onChange:I=>Vt((I==null?void 0:I.value)??""),placeholder:u.length===0?"Nessun cliente disponibile":"Cerca cliente per nome...",noOptionsMessage:()=>"Nessun risultato",isSearchable:!0})]}):null,lt!=="plans"?g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void Wi(),children:"Aggiorna dati"}):null,lt==="clients"&&u.length===0?g.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:[g.jsx("h2",{children:"Nessun cliente associato"}),g.jsx("p",{className:"hint",children:"Al momento non hai clienti legati al tuo codice coach. Quando un cliente inserisce il tuo codice in onboarding, apparir qui."})]}):g.jsxs(g.Fragment,{children:[lt==="clients"?g.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:[g.jsx("h2",{children:"Anagrafica cliente"}),g.jsx("p",{className:"hint",children:"L'utente compila i dati base. Il questionario completo lo compili qui."}),g.jsx("button",{className:"btn",type:"button",onClick:_o,disabled:_||!pt,children:w?"Modifica anagrafica completa":"Compila anagrafica completa"}),mi?g.jsx("a",{className:"btn btn-whatsapp",href:mi,target:"_blank",rel:"noreferrer",children:"Scrivi al cliente su WhatsApp"}):g.jsx("p",{className:"hint",children:"Numero WhatsApp cliente non disponibile."}),g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Anagrafica"}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Nome:"})," ",xt(w==null?void 0:w.fullName)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Et:"})," ",xt(w==null?void 0:w.age)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Sesso:"})," ",xt(w==null?void 0:w.sex)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Email:"})," ",xt(w==null?void 0:w.email)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Telefono:"})," ",xt(w==null?void 0:w.phone)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Come ci ha conosciuto:"})," ",xt(w==null?void 0:w.discoverySource)]})]}),g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Stato fisico e allenamento"}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Altezza:"})," ",xt(w==null?void 0:w.heightCm)," cm"]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Peso:"})," ",xt(w==null?void 0:w.weightKg)," kg"]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Esperienza programmi:"})," ",xt((w==null?void 0:w.pastProgram)||(w==null?void 0:w.experienceLevel))]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Allenamenti settimanali:"})," ",xt((w==null?void 0:w.trainingFrequency)||(w==null?void 0:w.trainingDaysPerWeek))]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Durata sessione:"})," ",xt(w==null?void 0:w.workoutDuration)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Luogo allenamento:"})," ",xt(w==null?void 0:w.workoutLocation)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Attrezzatura:"})," ",xt(w==null?void 0:w.equipment)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Allenamenti svolti:"})," ",xt(w==null?void 0:w.trainingTypeHistory)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Infortuni/problemi:"})," ",xt(w==null?void 0:w.hasInjuries)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Dettagli infortuni:"})," ",xt(w==null?void 0:w.injuryDetails)]})]}),g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Obiettivi"}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Obiettivo principale:"})," ",xt((w==null?void 0:w.objectivePrimary)||(w==null?void 0:w.goal))]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Perch:"})," ",xt(w==null?void 0:w.objectiveReason)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Timeline risultati:"})," ",xt(w==null?void 0:w.expectedTimeline)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Cosa lo ha bloccato:"})," ",xt(w==null?void 0:w.whatBlockedSoFar)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Miglioramento desiderato (3 mesi):"})," ",xt(w==null?void 0:w.oneThingToImprove)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Importanza obiettivo:"})," ",xt(w==null?void 0:w.importanceScore)," / 10"]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Rischio se non cambia:"})," ",xt(w==null?void 0:w.riskIfNoChange)]}),g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note coach:"})," ",xt(w==null?void 0:w.notes)]})]})]}):null,lt==="plans"?g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"hint",children:Ze.length>0?`Hai ${Ze.length} scheda/e create: puoi modificarle, eliminarle o assegnarle ai clienti.`:"Non hai ancora schede create: inizia con una nuova scheda."}),g.jsx("div",{className:"supervisor-actions",children:g.jsx("button",{className:"btn",disabled:_,onClick:dn,type:"button",children:"Crea nuova scheda"})}),Ze.length>0?g.jsx("div",{className:"plan-carousel",children:Ze.map(I=>g.jsxs("article",{className:"card plan-card",style:{boxShadow:"none",border:"1px solid rgba(18,18,18,0.10)"},children:[g.jsxs("div",{className:"exercise-head",children:[g.jsx("h3",{children:I.title||"Scheda senza titolo"}),g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Duplica scheda",title:"Duplica scheda",onClick:()=>void Cs(I.id),children:""})]}),g.jsxs("p",{className:"hint",children:["Tipo: ",I.kind==="circuit"?"Circuito":"Serie e reps"]}),g.jsxs("p",{className:"hint",children:["Esercizi: ",Ba(I.exercises).length]}),g.jsxs("p",{className:"hint",children:["Assegnata a: ",Array.isArray(I.assignedClientIds)?I.assignedClientIds.length:0," clienti"]}),g.jsxs("p",{className:"hint",children:["Modifiche peso clienti: ",ZL(I,qn)]}),g.jsxs("div",{className:"plan-card-actions",children:[g.jsx("button",{className:"btn btn-ghost",disabled:_,onClick:()=>r(`/app/coach/plan/${I.id}/preview`),type:"button",children:"Visualizza"}),g.jsx("button",{className:"btn",disabled:_,onClick:()=>Eo(I.id),type:"button",children:"Modifica"}),g.jsx("button",{className:"btn btn-danger",disabled:_,onClick:()=>void bs(I.id),type:"button",children:"Elimina"})]})]},I.id))}):g.jsx("article",{className:"card",style:{boxShadow:"none",border:"1px dashed rgba(18,18,18,0.16)"},children:g.jsx("p",{className:"hint",children:"Nessuna scheda creata al momento."})})]}):null]})]}):null,Z?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&wo(),children:g.jsxs("article",{className:"card modal-card",onClick:I=>I.stopPropagation(),children:[g.jsx("h2",{children:"Anagrafica completa cliente"}),g.jsxs("p",{className:"hero-sub",children:["Step ",de+1," di ",nu.length,"  Completamento ",Gn,"%"]}),g.jsx("div",{className:"onboarding-progress","aria-hidden":"true",children:g.jsx("div",{className:"onboarding-progress-bar",style:{width:`${Gn}%`}})}),g.jsx("div",{className:"step-tabs",children:nu.map((I,X)=>g.jsx("button",{className:`step-tab ${de===X?"step-tab-active":""}`.trim(),type:"button",onClick:()=>W(X),children:I},I))}),de===0?g.jsxs("div",{className:"modal-grid",children:[g.jsxs("label",{children:["Nome e cognome *",g.jsx("input",{value:U.fullName,onChange:I=>gt("fullName",I.target.value)})]}),g.jsxs("label",{children:["Et *",g.jsx("input",{type:"number",min:12,max:99,onFocus:Pi,value:U.age,onChange:I=>gt("age",Wa(I.target.value))})]}),g.jsxs("label",{children:["Sesso *",g.jsx("input",{value:U.sex,onChange:I=>gt("sex",I.target.value)})]}),g.jsxs("label",{children:["E-mail *",g.jsx("input",{type:"email",value:U.email,onChange:I=>gt("email",I.target.value)})]}),g.jsxs("label",{children:["Telefono *",g.jsx("input",{type:"tel",value:U.phone,onChange:I=>gt("phone",I.target.value)})]}),g.jsxs("label",{children:["Come ci ha conosciuto",g.jsx("input",{value:U.discoverySource,onChange:I=>gt("discoverySource",I.target.value)})]})]}):null,de===1?g.jsxs("div",{className:"modal-grid",children:[g.jsxs("label",{children:["Altezza (cm) *",g.jsx("input",{type:"number",min:100,max:250,onFocus:Pi,value:U.heightCm,onChange:I=>gt("heightCm",Wa(I.target.value))})]}),g.jsxs("label",{children:["Peso (kg) *",g.jsx("input",{type:"number",min:30,max:250,onFocus:Pi,value:U.weightKg,onChange:I=>gt("weightKg",Wa(I.target.value))})]}),g.jsxs("label",{children:["Programmi precedenti *",g.jsx("input",{value:U.pastProgram,onChange:I=>gt("pastProgram",I.target.value),placeholder:"Es. Si con coach online"})]}),g.jsxs("label",{children:["Frequenza allenamenti *",g.jsx("input",{value:U.trainingFrequency,onChange:I=>gt("trainingFrequency",I.target.value),placeholder:"Es. 3-4 a settimana"})]}),g.jsxs("label",{children:["Durata allenamento *",g.jsx("input",{value:U.workoutDuration,onChange:I=>gt("workoutDuration",I.target.value),placeholder:"Es. 45 minuti"})]}),g.jsxs("label",{children:["Dove si allena *",g.jsx("input",{value:U.workoutLocation,onChange:I=>gt("workoutLocation",I.target.value)})]}),g.jsxs("label",{children:["Attrezzatura disponibile *",g.jsx("input",{value:U.equipment,onChange:I=>gt("equipment",I.target.value)})]}),g.jsxs("label",{children:["Allenamenti fatti",g.jsx("textarea",{value:U.trainingTypeHistory,onChange:I=>gt("trainingTypeHistory",I.target.value)})]}),g.jsxs("label",{children:["Infortuni/problemi",g.jsx("input",{value:U.hasInjuries,onChange:I=>gt("hasInjuries",I.target.value),placeholder:"Si/No"})]}),g.jsxs("label",{children:["Dettagli infortuni",g.jsx("textarea",{value:U.injuryDetails,onChange:I=>gt("injuryDetails",I.target.value)})]})]}):null,de===2?g.jsxs("div",{className:"modal-grid",children:[g.jsxs("label",{children:["Obiettivo principale *",g.jsx("input",{value:U.objectivePrimary,onChange:I=>gt("objectivePrimary",I.target.value)})]}),g.jsxs("label",{children:["Perch questo obiettivo? *",g.jsx("textarea",{value:U.objectiveReason,onChange:I=>gt("objectiveReason",I.target.value)})]}),g.jsxs("label",{children:["Timeline risultati *",g.jsx("input",{value:U.expectedTimeline,onChange:I=>gt("expectedTimeline",I.target.value)})]}),g.jsxs("label",{children:["Cosa lo ha bloccato",g.jsx("textarea",{value:U.whatBlockedSoFar,onChange:I=>gt("whatBlockedSoFar",I.target.value)})]}),g.jsxs("label",{children:["Miglioramento nei prossimi 3 mesi",g.jsx("textarea",{value:U.oneThingToImprove,onChange:I=>gt("oneThingToImprove",I.target.value)})]}),g.jsxs("label",{children:["Importanza obiettivo (1-10)",g.jsx("input",{type:"number",min:1,max:10,onFocus:Pi,value:U.importanceScore,onChange:I=>gt("importanceScore",Wa(I.target.value))})]}),g.jsxs("label",{children:["Rischio se non cambia",g.jsx("textarea",{value:U.riskIfNoChange,onChange:I=>gt("riskIfNoChange",I.target.value)})]}),g.jsxs("label",{children:["Note coach (opzionale)",g.jsx("textarea",{value:U.notes,onChange:I=>gt("notes",I.target.value)})]})]}):null,g.jsxs("div",{className:"onboarding-actions",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:de===0,onClick:()=>W(I=>Math.max(I-1,0)),children:"Indietro"}),de<nu.length-1?g.jsx("button",{className:"btn",type:"button",onClick:()=>W(I=>Math.min(I+1,nu.length-1)),children:"Continua"}):g.jsx("button",{className:"btn",type:"button",onClick:()=>void Ln(),disabled:_,children:_?"Salvataggio...":"Salva"})]}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:wo,children:"Chiudi"})]})}):null,D?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&So(),children:g.jsxs("article",{className:"card modal-card",onClick:I=>I.stopPropagation(),children:[g.jsx("h2",{children:Sn?"Modifica scheda":"Compila la scheda"}),g.jsx("p",{className:"hint",children:"Aggiungi esercizi uno alla volta per completare il programma."}),g.jsxs("div",{className:"step-tabs plan-kind-tabs",children:[g.jsx("button",{className:`step-tab ${mt==="series_reps"?"step-tab-active":""}`.trim(),type:"button",onClick:()=>Yr("series_reps"),children:"Serie e reps"}),g.jsx("button",{className:`step-tab ${mt==="circuit"?"step-tab-active":""}`.trim(),type:"button",onClick:()=>Yr("circuit"),children:"Circuito"})]}),g.jsxs("label",{children:["Titolo scheda *",g.jsx("input",{value:br,onChange:I=>qr(I.target.value),placeholder:"Forza 4 settimane",required:!0})]}),g.jsxs("label",{children:["Riscaldamento (opzionale)",g.jsx("textarea",{value:hr,onChange:I=>Bn(I.target.value),placeholder:"Es. 8-10 min mobilit, attivazione scapole, squat a corpo libero..."})]}),g.jsxs("label",{children:["Note (opzionale)",g.jsx("textarea",{value:Cr,onChange:I=>Pr(I.target.value),placeholder:"Note utili per il cliente"})]}),Ui.map((I,X)=>g.jsxs("article",{className:"card",style:{boxShadow:"none",border:"1px solid rgba(18,18,18,0.10)"},children:[g.jsxs("div",{className:"exercise-head",children:[g.jsxs("h2",{children:["Esercizio ",X+1]}),g.jsx("button",{className:"icon-btn",type:"button",onClick:()=>El(X),"aria-label":`Reset esercizio ${X+1}`,title:"Reset esercizio",children:""})]}),g.jsxs("label",{children:["Nome esercizio",g.jsx("input",{value:I.name,onChange:ee=>We(X,{name:ee.target.value}),placeholder:"Es. Squat bilanciere"})]}),g.jsxs("label",{children:["Note esercizio",g.jsx("textarea",{value:I.notes,onChange:ee=>We(X,{notes:ee.target.value}),placeholder:"Note utili per questo esercizio"})]}),g.jsxs("div",{className:"exercise-fields-inline",children:[mt==="series_reps"?g.jsxs(g.Fragment,{children:[g.jsxs("label",{children:["Serie",g.jsx("input",{type:"number",min:0,inputMode:"numeric",onFocus:Pi,value:I.sets,onChange:ee=>We(X,{sets:ru(ee.target.value)})})]}),g.jsxs("label",{children:["Ripetizioni",g.jsx("input",{type:"number",min:0,inputMode:"numeric",onFocus:Pi,value:I.reps,onChange:ee=>We(X,{reps:ru(ee.target.value)})})]})]}):g.jsxs("label",{children:["Reps/tempo di lavoro",g.jsx("input",{type:"number",min:0,inputMode:"numeric",onFocus:Pi,value:I.workValue,onChange:ee=>We(X,{workValue:ru(ee.target.value)})})]}),g.jsxs("label",{children:["Peso (kg)",g.jsx("input",{type:"number",min:0,inputMode:"decimal",onFocus:Pi,value:I.weightKg,onChange:ee=>We(X,{weightKg:ru(ee.target.value)})})]}),g.jsxs("label",{children:["Recupero (sec)",g.jsx("input",{type:"number",min:0,inputMode:"numeric",onFocus:Pi,value:I.restSeconds,onChange:ee=>We(X,{restSeconds:ru(ee.target.value)})})]})]}),g.jsxs("div",{className:"exercise-method-toggle",children:[g.jsx("p",{className:"hint",children:"Metodo opzionale"}),g.jsxs("div",{className:"exercise-method-toggle-row",children:[g.jsx("button",{className:`btn btn-ghost ${I.advancedMethod==="rest_pause"?"exercise-method-toggle-active":""}`.trim(),type:"button",onClick:()=>We(X,I.advancedMethod==="rest_pause"?{advancedMethod:""}:{advancedMethod:"rest_pause"}),children:"Rest Pause"}),g.jsx("button",{className:`btn btn-ghost ${I.advancedMethod==="drop_set"?"exercise-method-toggle-active":""}`.trim(),type:"button",onClick:()=>We(X,I.advancedMethod==="drop_set"?{advancedMethod:""}:{advancedMethod:"drop_set"}),children:"Drop set"})]})]}),I.advancedMethod?g.jsxs("label",{children:[I.advancedMethod==="rest_pause"?"Note Rest Pause":"Note Drop set",g.jsx("textarea",{value:I.advancedMethod==="rest_pause"?I.restPauseNotes:I.dropSetNotes,onChange:ee=>We(X,I.advancedMethod==="rest_pause"?{restPauseNotes:ee.target.value,advancedMethodNotes:ee.target.value}:{dropSetNotes:ee.target.value,advancedMethodNotes:ee.target.value}),placeholder:"Inserisci indicazioni per il cliente"})]}):null,g.jsxs("label",{children:["URL video (YouTube o link diretto)",g.jsx("input",{value:I.videoUrl,onChange:ee=>We(X,{videoUrl:ee.target.value,mediaUrl:ee.target.value||I.imageUrl}),placeholder:"https://..."})]}),g.jsxs("label",{children:["Carica un'immagine (puoi tenerla insieme al video)",g.jsx("input",{type:"file",accept:"image/*",onChange:ee=>{var Ie;return void oa(X,((Ie=ee.target.files)==null?void 0:Ie[0])??null)},disabled:ge===X}),Id(I.imageUrl)?g.jsx("img",{src:I.imageUrl,alt:`Anteprima esercizio ${X+1}`,className:"exercise-upload-preview"}):null]}),Id(I.imageUrl)?g.jsxs("p",{className:"hint",children:["Immagine caricata."," ",g.jsx("button",{className:"btn-link",type:"button",onClick:()=>We(X,{imageUrl:"",mediaUrl:I.videoUrl}),children:"Rimuovi"})]}):null,ge===X?g.jsx("p",{className:"hint",children:"Caricamento media in corso..."}):null,g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>ia(X),children:"Rimuovi esercizio"})]},`exercise-${X}`)),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:yo,children:"Aggiungi esercizio"}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:So,children:"Chiudi"}),g.jsx("button",{className:"btn btn-primary",type:"button",disabled:_||Rr,onClick:()=>void sa(),children:Rr?"Attendi caricamento media...":"Salva"})]})]})}):null,b&&Nt?g.jsx("section",{id:"plan-print-modal",className:"modal-overlay preview-modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&$(!1),children:g.jsxs("article",{className:"card modal-card print-sheet preview-modal-card",onClick:I=>I.stopPropagation(),children:[g.jsxs("div",{className:"exercise-head",children:[g.jsxs("div",{className:"preview-head-main",children:[g.jsx("button",{className:"icon-btn mobile-only",type:"button","aria-label":"Chiudi scheda",title:"Chiudi scheda",onClick:()=>$(!1),children:""}),g.jsx("h2",{children:"Scheda"})]}),g.jsxs("div",{className:"preview-head-actions screen-only",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:u.length===0,onClick:()=>{zi([]),Q(!0)},children:"Assegna"}),g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Stampa scheda",title:"Stampa scheda",onClick:()=>void Xn(),children:""}),g.jsx("button",{className:"icon-btn desktop-only",type:"button","aria-label":"Chiudi scheda",title:"Chiudi scheda",onClick:()=>$(!1),children:""})]})]}),g.jsxs("p",{className:"hint",children:["Clienti assegnati:"," ",g.jsx("strong",{children:Array.isArray(Nt.assignedClientIds)&&Nt.assignedClientIds.length>0?Nt.assignedClientIds.map(I=>qn[I]||I).join(", "):"Nessuno"})]}),g.jsxs("div",{className:"plan-head",children:[g.jsx("p",{className:"hint",children:"Titolo programma"}),g.jsx("h3",{children:Nt.title||"Senza titolo"})]}),g.jsxs("p",{className:"hint",children:["Tipo scheda: ",g.jsx("strong",{children:Nt.kind==="circuit"?"Circuito":"Serie e reps"})]}),we(Nt.warmup).trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Riscaldamento:"})," ",we(Nt.warmup)]})}):null,we(Nt.notes).trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note coach:"})," ",we(Nt.notes)]})}):null,Kn.length>0?g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Feedback peso cliente"}),g.jsx("p",{className:"hint",children:"Mostrato solo quando un cliente cambia il peso rispetto alla scheda base."}),Kn.map(I=>g.jsxs("div",{className:"divider-block",children:[g.jsx("p",{className:"hint",children:g.jsx("strong",{children:I.clientLabel})}),g.jsx("ul",{className:"list",children:I.lines.map(X=>g.jsx("li",{children:X},`${I.clientId}-${X}`))})]},`weight-feedback-${I.clientId}`))]}):null,g.jsx("div",{className:"exercise-grid",children:Ba(Nt.exercises).map((I,X)=>g.jsx("article",{className:"exercise-card",children:(()=>{const ee=`${Nt.id}-${X}`,Ie=te[ee]!==!1;return g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"exercise-name",children:I.name||`Esercizio ${X+1}`}),g.jsxs("div",{className:"exercise-meta",children:[Nt.kind==="circuit"?g.jsxs("span",{children:[I.workValue||"-"," reps/tempo"]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:[I.sets||"-"," serie"]}),g.jsxs("span",{children:[I.reps||"-"," reps"]})]}),g.jsxs("span",{children:[I.weightKg||0," kg"]}),g.jsxs("span",{children:[I.restSeconds||0," sec recupero"]})]}),I.advancedMethod?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Metodo:"})," ",I.advancedMethod==="rest_pause"?"Rest Pause":"Drop set"]}):null,I.advancedMethod&&(I.advancedMethod==="rest_pause"?I.restPauseNotes:I.dropSetNotes).trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note metodo:"})," ",I.advancedMethod==="rest_pause"?I.restPauseNotes:I.dropSetNotes]}):null,I.notes.trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note:"})," ",I.notes]}):null,I.imageUrl||I.videoUrl?g.jsxs(g.Fragment,{children:[Id(I.imageUrl)?g.jsxs(g.Fragment,{children:[Ie?g.jsxs("div",{className:"media-loading","aria-live":"polite",children:[g.jsx("span",{className:"spinner","aria-hidden":"true"}),g.jsx("span",{children:"Caricamento immagine..."})]}):null,g.jsx("img",{src:I.imageUrl,alt:`Media esercizio ${X+1}`,className:"exercise-upload-preview",style:{display:Ie?"none":"block"},onLoad:()=>z(He=>({...He,[ee]:!1})),onError:()=>z(He=>({...He,[ee]:!1}))})]}):null,sb(I.videoUrl)?g.jsxs(g.Fragment,{children:[g.jsx("a",{className:"btn-link screen-only",href:I.videoUrl,target:"_blank",rel:"noreferrer",children:"Apri video"}),g.jsxs("a",{className:"hint print-only print-video-link",href:I.videoUrl,target:"_blank",rel:"noreferrer",children:["URL video: ",I.videoUrl]})]}):null]}):g.jsx("p",{className:"hint",children:"Nessun media allegato"})]})})()},`preview-ex-${X}`))})]})}):null,K&&Be?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&Q(!1),children:g.jsxs("article",{className:"card modal-card",onClick:I=>I.stopPropagation(),children:[g.jsxs("div",{className:"exercise-head",children:[g.jsx("h2",{children:"Gestisci assegnazioni"}),g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Chiudi gestione assegnazioni",title:"Chiudi",onClick:()=>Q(!1),children:""})]}),g.jsxs("p",{className:"hint",children:["Scheda: ",Be.title||"Scheda senza titolo"]}),g.jsxs("label",{children:["Clienti",g.jsx(B0,{styles:vo,options:na,value:Is,onChange:I=>zi(I.map(X=>X.value)),placeholder:na.length===0?"Tutti i clienti sono gi assegnati":"Cerca cliente per nome...",noOptionsMessage:()=>"Nessun risultato",isSearchable:!0,isMulti:!0,closeMenuOnSelect:!1})]}),g.jsx("div",{className:"action-row-split",children:g.jsx("button",{className:"btn btn-primary",type:"button",disabled:_||Kr.length===0,onClick:()=>void gi(),children:"Assegna"})}),g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Clienti assegnati"}),Array.isArray(Be.assignedClientIds)&&Be.assignedClientIds.length>0?g.jsx("ul",{className:"assigned-client-list",children:Be.assignedClientIds.map(I=>{const X=Sl(Be,I);return g.jsxs("li",{className:"assigned-client-item",children:[g.jsxs("div",{children:[g.jsx("span",{className:"assigned-client-name",children:qn[I]||I}),g.jsx("span",{className:`assignment-status assignment-status-${X.tone}`.trim(),children:X.label})]}),g.jsxs("div",{className:"assigned-client-actions",children:[g.jsx("button",{className:"icon-btn assigned-client-time-btn",type:"button","aria-label":`Imposta durata ${qn[I]||I}`,title:"Imposta durata",disabled:_,onClick:()=>Jr(I),children:""}),g.jsx("button",{className:"icon-btn icon-btn-danger assigned-client-remove-btn",type:"button","aria-label":`Rimuovi ${qn[I]||I}`,title:"Rimuovi cliente",disabled:_,onClick:()=>void Gi(I),children:""})]})]},I)})}):g.jsx("p",{className:"hint",children:"Nessun cliente assegnato a questa scheda."})]})]})}):null,$i&&Be?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&Gr(!1),children:g.jsxs("article",{className:"card modal-card",onClick:I=>I.stopPropagation(),children:[g.jsx("h2",{children:"Durata assegnazione"}),g.jsxs("p",{className:"hint",children:["Cliente: ",g.jsx("strong",{children:qn[Ar]||Ar})]}),g.jsxs("div",{className:"step-tabs",children:[g.jsx("button",{className:`step-tab ${En==="permanent"?"step-tab-active":""}`.trim(),type:"button",onClick:()=>pi("permanent"),children:"Permanente"}),g.jsx("button",{className:`step-tab ${En==="timed"?"step-tab-active":""}`.trim(),type:"button",onClick:()=>pi("timed"),children:"A tempo"})]}),En==="timed"?g.jsxs(g.Fragment,{children:[g.jsxs("label",{children:["Data inizio",g.jsx("input",{type:"date",value:Qr,onChange:I=>Ts(I.target.value)})]}),g.jsxs("label",{children:["Settimane",g.jsx("input",{type:"number",min:1,step:1,onFocus:Pi,value:Hn,onChange:I=>Ss(Wa(I.target.value))})]}),hn()?g.jsxs("p",{className:"hint",children:["Disponibile dal ",g.jsx("strong",{children:hn().from})," al ",g.jsx("strong",{children:hn().to})]}):null]}):g.jsx("p",{className:"hint",children:"La scheda rester sempre disponibile finch non rimuovi l'assegnazione."}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>Gr(!1),children:"Chiudi"}),g.jsx("button",{className:"btn btn-primary",type:"button",disabled:_,onClick:()=>void Qi(),children:"Salva"})]})]})}):null,P&&!(le!=null&&le.isSupervisor)?g.jsx("section",{className:"modal-overlay",role:"dialog","aria-modal":"true",onClick:I=>I.currentTarget===I.target&&k(!1),children:g.jsxs("article",{className:"card modal-card",onClick:I=>I.stopPropagation(),children:[g.jsx("h2",{children:"Conferma eliminazione profilo coach"}),g.jsx("p",{className:"hint",children:"Eliminando il profilo perderai definitivamente dati, abbonamento e associazioni clienti legate al tuo account coach."}),g.jsx("p",{className:"hint",children:"L'operazione segue le policy aziendali. Termini, Condizioni d'uso e Privacy Policy verranno pubblicati e linkati qui."}),g.jsxs("div",{className:"onboarding-actions",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",disabled:L,onClick:()=>k(!1),children:"Annulla"}),g.jsx("button",{className:"btn btn-danger",type:"button",disabled:L,onClick:()=>void vt(),children:L?"Eliminazione...":"Conferma eliminazione"})]})]})}):null,lt==="overview"?g.jsxs("article",{className:"card",children:[g.jsx("h2",{children:"Panoramica"}),g.jsxs("p",{className:"hint",children:["Clienti registrati: ",u.length]}),g.jsxs("p",{className:"hint",children:["Programmi creati: ",h.length]}),g.jsx("ul",{className:"list",children:h.slice(0,5).map(I=>{var X;return g.jsxs("li",{children:[g.jsx("strong",{children:I.title}),"  ",((X=I.exercises)==null?void 0:X.length)??0," esercizi  assegnata a ",Array.isArray(I.assignedClientIds)?I.assignedClientIds.length:0," clienti"]},I.id)})})]}):null,_?g.jsx("p",{className:"message",children:"Caricamento..."}):null]})}function gn(n){return typeof n=="string"?n:n==null?"":String(n)}function t4(n){return n.includes("youtube.com")||n.includes("youtu.be")||/\.(mp4|webm|mov|m4v|ogg)(\?.*)?$/i.test(n)}function n4(n){return/\.(jpg|jpeg|png|gif|webp|avif|svg)(\?.*)?$/i.test(n)}function lb(n){return Array.isArray(n)?n.map(e=>{if(!e||typeof e!="object")return null;const t=e,r=Number(gn(t.weight).replace(/[^\d.-]/g,"")),s=gn(t.advancedMethod).trim(),a=s==="rest_pause"||s==="drop_set"?s:"",u=gn(t.advancedMethodNotes),f=gn(t.restPauseNotes),h=gn(t.dropSetNotes),m=gn(t.mediaUrl).trim(),_=gn(t.videoUrl).trim(),E=gn(t.imageUrl).trim(),w=_||(t4(m)?m:""),A=E||(n4(m)?m:"");return{name:gn(t.name),notes:gn(t.notes),advancedMethod:a,restPauseNotes:f||(a==="rest_pause"?u:""),dropSetNotes:h||(a==="drop_set"?u:""),sets:Number(t.sets??3)||3,reps:Number(t.reps??10)||10,workValue:Number(t.workValue??t.reps??10)||10,weightKg:Number(t.weightKg??r??0)||0,restSeconds:Number(t.restSeconds??60)||60,videoUrl:w,imageUrl:A}}).filter(e=>!!e):[]}function r4(n,e){const t=n.clientWeightOverrides&&typeof n.clientWeightOverrides=="object"?n.clientWeightOverrides:{},r=lb(n.exercises),s=[];for(const[a,u]of Object.entries(t)){if(!u||typeof u!="object")continue;const f=[];for(const[h,m]of Object.entries(u)){const _=Number(h);if(!Number.isInteger(_)||_<0||_>=r.length)continue;const E=Number(m);if(!Number.isFinite(E))continue;const w=r[_],A=Number(w.weightKg||0);if(E===A)continue;const D=w.name.trim()||`Esercizio ${_+1}`;f.push(`${D}: ${A} kg -> ${E} kg`)}f.length!==0&&s.push({clientId:a,clientLabel:e[a]||a,lines:f})}return s}function i4(){const{user:n,role:e}=ta(),t=cl(),{planId:r=""}=ZC(),[s,a]=O.useState(!0),[u,f]=O.useState(""),[h,m]=O.useState(null),[_,E]=O.useState([]),[w,A]=O.useState(!0),[D,R]=O.useState(0);O.useEffect(()=>{async function z(){if(!(!r||!n)){a(!0),f("");try{await w2(r).catch(()=>{});const[Z,x]=await Promise.all([j2(r),uI(n.uid)]);if(!Z.exists()){f("Scheda non trovata.");return}m({id:Z.id,...Z.data()}),E(x.docs.map(P=>({id:P.id,...P.data()})))}catch(Z){f(kt(Z))}finally{a(!1)}}}z()},[r,n==null?void 0:n.uid]);const b=O.useMemo(()=>_.reduce((z,Z)=>{const x=gn(Z.displayName).trim()||gn(Z.email).trim()||Z.id,P=gn(Z.uid).trim()||Z.id;return z[P]=x,z[Z.id]=x,z},{}),[_]),$=O.useMemo(()=>lb(h==null?void 0:h.exercises),[h==null?void 0:h.exercises]),K=O.useMemo(()=>$.map(z=>z.imageUrl).filter(z=>!!z),[$]);if(O.useEffect(()=>{if(K.length===0){A(!0),R(0);return}let z=!1;A(!1),R(K.length);let Z=0;const x=()=>{if(Z+=1,z)return;const k=Math.max(K.length-Z,0);R(k),k===0&&A(!0)},P=K.map(k=>{const L=new Image,V=()=>{L.onload=null,L.onerror=null,x()};L.onload=V,L.onerror=V,L.src=k;const j=window.setTimeout(V,9e3);return()=>window.clearTimeout(j)});return()=>{z=!0,P.forEach(k=>k())}},[K]),!n)return g.jsx(Sr,{to:"/auth",replace:!0});if(e==="client")return g.jsx(Sr,{to:"/app/client",replace:!0});if(s)return g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card print-sheet",style:{width:"min(900px, 100%)"},children:[g.jsx("p",{className:"eyebrow",children:"Scheda"}),g.jsx("h1",{children:"Caricamento in corso..."})]})});if(u||!h)return g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card print-sheet",style:{width:"min(900px, 100%)"},children:[g.jsx("h1",{children:"Impossibile aprire la scheda"}),g.jsx("p",{className:"hero-sub",children:u||"Qualcosa non ha funzionato."}),g.jsx("button",{className:"btn btn-ghost screen-only",type:"button",onClick:()=>t("/app/coach"),children:"Torna all'area coach"})]})});const Q=r4(h,b),te=Array.isArray(h.assignedClientIds)&&h.assignedClientIds.length>0?h.assignedClientIds.map(z=>b[z]||z).join(", "):"Nessuno";return g.jsx("main",{className:"page page-top",children:g.jsxs("section",{className:"card print-sheet",style:{width:"min(900px, 100%)"},children:[g.jsxs("div",{className:"exercise-head screen-only",children:[g.jsxs("div",{className:"preview-head-main",children:[g.jsx("button",{className:"icon-btn",type:"button","aria-label":"Indietro",title:"Indietro",onClick:()=>t("/app/coach"),children:""}),g.jsx("h2",{children:"Scheda"})]}),g.jsx("div",{className:"preview-head-actions",children:g.jsx("button",{className:"icon-btn btn-inline-loading",type:"button","aria-label":"Stampa scheda",title:w?"Stampa scheda":"Attendi caricamento immagini",onClick:()=>{w&&window.print()},disabled:!w,children:w?"":g.jsx("span",{className:"spinner","aria-hidden":"true"})})})]}),w?null:g.jsxs("p",{className:"hint screen-only",children:["Carico immagini per la stampa... (",D," rimanenti)"]}),g.jsxs("p",{className:"hint",children:["Clienti assegnati: ",g.jsx("strong",{children:te})]}),g.jsxs("div",{className:"plan-head",children:[g.jsx("p",{className:"hint",children:"Titolo programma"}),g.jsx("h3",{children:h.title||"Senza titolo"})]}),g.jsxs("p",{className:"hint",children:["Tipo scheda: ",g.jsx("strong",{children:h.kind==="circuit"?"Circuito":"Serie e reps"})]}),gn(h.warmup).trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Riscaldamento:"})," ",gn(h.warmup)]})}):null,gn(h.notes).trim()?g.jsx("div",{className:"client-info-block",children:g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note coach:"})," ",gn(h.notes)]})}):null,Q.length>0?g.jsxs("div",{className:"client-info-block",children:[g.jsx("h3",{children:"Feedback peso cliente"}),Q.map(z=>g.jsxs("div",{className:"divider-block",children:[g.jsx("p",{className:"hint",children:g.jsx("strong",{children:z.clientLabel})}),g.jsx("ul",{className:"list",children:z.lines.map(Z=>g.jsx("li",{children:Z},`${z.clientId}-${Z}`))})]},`weight-feedback-${z.clientId}`))]}):null,g.jsx("div",{className:"exercise-grid",children:$.map((z,Z)=>g.jsxs("article",{className:"exercise-card",children:[g.jsx("p",{className:"exercise-name",children:z.name||`Esercizio ${Z+1}`}),g.jsxs("div",{className:"exercise-meta",children:[h.kind==="circuit"?g.jsxs("span",{children:[z.workValue||"-"," reps/tempo"]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:[z.sets||"-"," serie"]}),g.jsxs("span",{children:[z.reps||"-"," reps"]})]}),g.jsxs("span",{children:[z.weightKg||0," kg"]}),g.jsxs("span",{children:[z.restSeconds||0," sec recupero"]})]}),z.advancedMethod?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Metodo:"})," ",z.advancedMethod==="rest_pause"?"Rest Pause":"Drop set"]}):null,z.advancedMethod&&(z.advancedMethod==="rest_pause"?z.restPauseNotes:z.dropSetNotes).trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note metodo:"})," ",z.advancedMethod==="rest_pause"?z.restPauseNotes:z.dropSetNotes]}):null,z.notes.trim()?g.jsxs("p",{className:"hint",children:[g.jsx("strong",{children:"Note:"})," ",z.notes]}):null,z.imageUrl?g.jsx("img",{src:z.imageUrl,alt:`Media esercizio ${Z+1}`,className:"exercise-upload-preview"}):null,z.videoUrl?g.jsxs("a",{className:"hint print-video-link",href:z.videoUrl,target:"_blank",rel:"noreferrer",children:["URL video: ",z.videoUrl]}):null]},`print-ex-${Z}`))})]})})}function s4(){const{user:n,role:e}=ta(),t=cl(),{showError:r,showSuccess:s}=nh(),[a,u]=O.useState(!1),[f,h]=O.useState({fullName:(n==null?void 0:n.displayName)??"",email:(n==null?void 0:n.email)??"",phone:"",coachCode:""});if(!n)return g.jsx(Sr,{to:"/auth",replace:!0});if(e==="admin"||e==="trainer")return g.jsx(Sr,{to:"/app/coach",replace:!0});function m(w,A){h(D=>({...D,[w]:A}))}function _(){return f.fullName.trim()?f.email.trim()?f.phone.trim()?f.coachCode.trim()?null:"Inserisci il codice coach.":"Inserisci numero di telefono.":"Inserisci e-mail.":"Inserisci nome e cognome."}async function E(){const w=_();if(w){r(w);return}u(!0);try{await p2({fullName:f.fullName.trim(),email:f.email.trim(),phone:f.phone.trim(),coachCode:f.coachCode.trim()}),s("Profilo salvato. Ora puoi entrare nella tua area."),t("/app/client",{replace:!0})}catch(A){r(kt(A))}finally{u(!1)}}return g.jsx("main",{className:"page page-center",children:g.jsxs("section",{className:"card auth-card",children:[g.jsx("p",{className:"eyebrow",children:"Onboarding Cliente"}),g.jsx("h1",{children:"Completa il tuo profilo"}),g.jsx("p",{className:"hero-sub",children:"Inserisci solo i dati base. Il coach completer l'anagrafica avanzata."}),g.jsx("div",{className:"onboarding-progress","aria-hidden":"true",children:g.jsx("div",{className:"onboarding-progress-bar",style:{width:"100%"}})}),g.jsxs("label",{children:["Nome e cognome *",g.jsx("input",{value:f.fullName,onChange:w=>m("fullName",w.target.value),placeholder:"Nome e cognome"})]}),g.jsxs("label",{children:["E-mail *",g.jsx("input",{value:f.email,onChange:w=>m("email",w.target.value),type:"email",placeholder:"nome@esempio.com"})]}),g.jsxs("label",{children:["Numero di telefono *",g.jsx("input",{value:f.phone,onChange:w=>m("phone",w.target.value),type:"tel",inputMode:"numeric",placeholder:"Es. 3405882404"})]}),g.jsxs("label",{children:["Codice coach *",g.jsx("input",{value:f.coachCode,onChange:w=>m("coachCode",w.target.value),placeholder:"Es. lorenzobeastly"})]}),g.jsxs("div",{className:"action-row-split",children:[g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>void Er(),children:"Esci e cambia account"}),g.jsx("button",{className:"btn btn-primary",disabled:a,type:"button",onClick:()=>void E(),children:a?"Salvataggio...":"Continua"})]})]})})}function ub(){return g.jsx("main",{className:"page page-center",children:g.jsxs("div",{className:"card",children:[g.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),g.jsx("h1",{children:"Caricamento in corso"})]})})}class o4 extends O.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error("App render error:",e)}render(){return this.state.hasError?g.jsx("main",{className:"page page-center",children:g.jsxs("section",{className:"card auth-card",children:[g.jsx("p",{className:"eyebrow",children:"Beastly Workout"}),g.jsx("h1",{children:"Qualcosa non ha funzionato"}),g.jsx("p",{className:"hero-sub",children:"Ricarica la pagina o esci e rientra nel tuo profilo."}),g.jsx("button",{className:"btn btn-ghost",type:"button",onClick:()=>window.location.assign("/auth"),children:"Torna all'accesso"})]})}):this.props.children}}function jp({allow:n,children:e}){const{user:t,role:r,initializing:s}=ta();return s?g.jsx(ub,{}):t?r?n.includes(r)?e:g.jsx(Sr,{to:r==="client"?"/app/client":"/app/coach",replace:!0}):n.includes("client")?e:g.jsx(Sr,{to:"/onboarding",replace:!0}):g.jsx(Sr,{to:"/auth",replace:!0})}function a4(){const{user:n,role:e,initializing:t}=ta();return t?g.jsx(ub,{}):n?e?g.jsx(Sr,{to:e==="client"?"/app/client":"/app/coach",replace:!0}):g.jsx(Sr,{to:"/app/client",replace:!0}):g.jsx(Sr,{to:"/auth",replace:!0})}function l4(){return g.jsx(o4,{children:g.jsxs(m1,{children:[g.jsx(qs,{path:"/",element:g.jsx(a4,{})}),g.jsx(qs,{path:"/auth",element:g.jsx(X2,{})}),g.jsx(qs,{path:"/onboarding",element:g.jsx(s4,{})}),g.jsx(qs,{path:"/app/coach",element:g.jsx(jp,{allow:["admin","trainer"],children:g.jsx(e4,{})})}),g.jsx(qs,{path:"/app/coach/plan/:planId/preview",element:g.jsx(jp,{allow:["admin","trainer"],children:g.jsx(i4,{})})}),g.jsx(qs,{path:"/app/client",element:g.jsx(jp,{allow:["client"],children:g.jsx(tM,{})})}),g.jsx(qs,{path:"*",element:g.jsx(Sr,{to:"/",replace:!0})})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});SC.createRoot(document.getElementById("root")).render(g.jsx(G0.StrictMode,{children:g.jsx(E1,{children:g.jsx(y1,{children:g.jsx(l4,{})})})}));
