import{u as d,r as a,c as m,j as e,N as l,L as p,l as g}from"./index-DbDU9rQz.js";import{t as h}from"./firestore-CSdz_xXz.js";function f(){const{user:t,role:s}=d(),[i,n]=a.useState(!1),[r,o]=a.useState("");if(a.useEffect(()=>{m()},[]),t&&s)return e.jsx(l,{to:s==="client"?"/app/client":"/app/coach",replace:!0});if(t&&!s)return e.jsx(l,{to:"/missing-role",replace:!0});async function u(){n(!0),o("");try{(await g()).redirected&&o("Reindirizzamento Google in corso...")}catch(c){o(h(c))}finally{n(!1)}}return e.jsx("main",{className:"page page-center",children:e.jsxs("section",{className:"card auth-card",children:[e.jsx("p",{className:"eyebrow",children:"Gym PT Platform"}),e.jsx("h1",{children:"Accedi con Google"}),e.jsx("p",{className:"hero-sub",children:"Accesso consentito solo tramite account Google. I permessi operativi dipendono dal ruolo in Firebase claims."}),e.jsx("button",{className:"btn",disabled:i,onClick:()=>void u(),type:"button",children:i?"Connessione...":"Continua con Google"}),e.jsx("p",{className:"hint",children:"Niente password locale: autenticazione unica con Google."}),r?e.jsx("p",{className:"message",children:r}):null,e.jsxs("p",{className:"hint",children:["Primo setup admin? Vai a ",e.jsx(p,{to:"/missing-role",children:"bootstrap ruolo"}),"."]})]})})}export{f as AuthPage};
